(this["webpackJsonpmosaic-react"]=this["webpackJsonpmosaic-react"]||[]).push([[0],{13:function(e,t,s){"use strict";s.r(t),t.default={url:"https://server.c3uatportal.click/v1",path:{patchNotes:{addPatch:"/patchNotes/addPatch",getSpecificPatch:"/profile/patchNotes"},settings:{updateNotifications:"/profile/updateNotifications"},formSubmissions:{getTaForms:"/formSubmissions/Ta/getAllSubmitted",getErForms:"/formSubmissions/Er/getAllSubmitted",getSfForms:"/formSubmissions/Sf/getAllSubmitted",getScfForms:"/formSubmissions/Scf/getAllSubmitted",updateTaForm:"/formSubmissions/Ta/update",updateScfForm:"/formSubmissions/Scf/update",updateErForm:"/formSubmissions/Er/update"},s3:{uploadFile:"/file",getFile:"/file"},login:"/authorization/login",loginMicrosft:"/authorization/loginMicrosft",register:"/authentication/register",checkToken:"/authorization/checkToken",getStrengths:"/authentication/getStrengths",profile:{getDev:"/profile/getDev",history:{getTaForms:"/profile/Ta/getAllSubmitted",getScfForms:"/profile/Scf/getAllSubmitted",getErForms:"/profile/Er/getAllSubmitted",getSfForms:"/profile/Sf/getAllSubmitted"},getProfile:"/profile/getProfile",updateProfile:"/profile/updateProfile",requestFunding:"/profile/requestFunding",requestReimbursement:"/profile/requestReimbursement",requestAllowance:"/profile/requestAllowance",addReview:"/profile/review/add",getPatch:"/profile/patchNotes",addAttendance:"/profile/addAttendance"},recruitment:{getAllDevRecruits:"/recruitment/getAllDevRecruits",getAllConsultantRecruits:"/recruitment/getAllConsultantRecruits",getDevDetails:"/recruitment/getDevDetails",getConsultantDetails:"/recruitment/getConsultantDetails",changeStage:"/recruitment/changeStage",sendConsultantEmail:"/recruitment/sendConsultantEmail",sendDevEmail:"/recruitment/sendDevEmail"},timesheet:{getTimesheets:"/timesheet/getTimesheets",approveTimesheet:"/timesheet/approveTimesheet",getTimesheetForUser:"/timesheet/getTimesheetForUser",getTimesheetForUserDay:"/timesheet/getTimesheetForUserDay",createTimesheet:"/timesheet/createTimesheet",deleteTimesheet:"/timesheet/deleteTimesheet",editTimesheet:"/timesheet/editTimesheet",getTimesheet:"/timesheet/getTimesheet",getTimesheetForProject:"/timesheet/getTimesheetForProject",addRates:"/timesheet/addRates",month:"/timesheet/month",getMonth:"/timesheet/getMonth"},completedsheet:{getCompletedsheets:"/completedSheets/getCompletedsheets",createCompletedsheet:"/completedSheets/createCompletedsheet",editCompletedsheet:"/completedSheets/editCompletedsheet",getCompletedsheet:"/completedSheets/getCompletedsheet",getCompletedsheetForMonth:"/completedSheets/getCompletedsheetForMonth"},clients:{getAll:"/clients/getAll",getClient:"/clients/getClient",createClient:"/clients/createClient",deleteClient:"/clients/deleteClient",editClient:"/clients/editClient",getAllClients:"/clients/getAllClients",getClientHours:"/clients/getClientHours",getClientHoursFor:"/clients/getClientHoursFor",getClientProjectHours:"/clients/getClientProjectHours"},projects:{getAll:"/projects/getAll",getProjects:"/projects/getProjects",createProject:"/projects/createProject",deleteProject:"/projects/deleteProject",editProject:"/projects/editProject",softDeleteProject:"/projects/softDeleteProject",getProject:"/projects/getProject",getProjectsFor:"/projects/getProjectsFor",getProjectsForClient:"/projects//getProjectsForClient",getProjectsForRep:"/projects/getProjectsForRep",getProjectDetails:"/projects/getProjectDetails",getPdfStatus:"/projects/getPdfStatus",setPdfStatus:"/projects/setPdfStatus",setPdfApproval:"/projects/setPdfApproval",getProjectsNotIn:"/projects/getProjectsNotIn",requestToJoin:"/projects/requestToJoin",requestToCreate:"/projects/requestToCreate",requestRemoval:"/projects/requestRemoval"},users:{getAll:"/users/getAll",getAllEmployees:"/users/getAllEmployees",getAllEmployeesFor:"/users/getAllEmployeesFor",getAllManagers:"/users/getAllManagers",updateProfilePicture:"/users/updateUserProfilePicture",getAllUserTypes:"/users/getAllUserTypes",getBenchWarmers:"/users/getBenchWarmers",getBenchUser:"/users/getBenchUser"},userManagement:{updateUser:"/users/updateUser",softDeleteUser:"/users/softDeleteEmployee",reactivateUser:"/users/reactivateUser"},events:{addEvent:"/events/addEvent",getAllEvents:"/events/getAllEvents",getAllTrainingDays:"/events/getAllTrainingDays",isTrainingDay:"/events/isTrainingDay",editEvent:"/events/editEvent",getEvent:"/events/getEvent",deleteEvent:"/events/deleteEvent"},leave:{addLeave:"/leave/addLeave",getAllLeave:"/leave/getAllLeave",editLeave:"/leave/editLeave",getLeave:"/leave/getLeave",getAllLeaveForAdmin:"/leave/getAllLeaveForAdmin",getAllLeaveForManagers:"/leave/getAllLeaveForManagers",deleteLeave:"/leave/deleteLeave",approveLeave:"/leave/approveLeave"}}}},219:function(e,t,s){},238:function(e,t,s){var c=s(13).default;e.exports=function(){"use strict";if(!e){var e=s(370);s(371)}return function(t,s,a,n,r,l){if(t.organogram)return t.organogram.setOptions(s,!0);var i={options:{}},o={x:0,y:0,initialWidth:0,initialTop:100,fingerDistance:0,mobileDown:!1,scaling:!1,scale:1},d=function(e){var t=e.title;console.log("node",e);var s=e.color?e.color:"red",a=n;return'<div class="jorg-user-status" style="background:'.concat(s,"\"></div>\n            <div class='jorg-user-img' ><img\n            style='border: 3.5px solid ").concat(s,' !important;\'\n            className="w-20 h-20 rounded-full mb-1"\n            src=').concat(e.profilePictureKey&&"none"!==e.profilePictureKey?'"'.concat(c.url).concat(c.path.s3.getFile,"/").concat(e.profilePictureKey,'"'):'"'.concat(a,'"'),'\n            width="80"\n            height="80"\n            alt="Avatar"\n            \n            \n              /></div>\n                <div class="jorg-user-info">\n                   \n                    <div class=\'jorg-user-content\'><span class="info-span">').concat(e.firstName,'</span><span class="info-span">').concat(e.lastName,'</span><a class="mail-span" href="mailto:').concat(e.email,'">@convergenc3</a><span class="role-span">').concat(t,"</span></div>\n                </div>")},j=function(e,t){var s=document.createElement("li"),c=document.createElement("span");c.onclick=function(){r(e.userID),l(!0)},c.className="jorg-tf-nc",c.innerHTML=d(e),c.setAttribute("number",e.number);var a=document.createElement("ul");return s.appendChild(c),s.appendChild(a),t.appendChild(s),a},b=function(e){if(e.parentNode==t)return"horizontal";if(e.children.length>1){for(var s=0;s<e.children.length;s++)if(Array.from(e.children[s].children).find((function(e){return"UL"==e.tagName})))return"horizontal";return"vertical"}return"vertical"},x=function(e){var t="jorg-node-icon",s=document.createElement("div"),c=e.nextElementSibling;e.appendChild(s),c?(s.className=t+" remove",s.addEventListener("click",(function(s){"none"==e.nextElementSibling.style.display?(e.nextElementSibling.style.display="inline-flex",e.removeAttribute("visibility"),s.target.className=t+" remove"):(e.nextElementSibling.style.display="none",e.setAttribute("visibility","hidden"),s.target.className=t+" plus"),z.children[0].style.width=o.initialWidth+"px"}))):s.className=t+" plus"},m=function e(t,s){for(var c=0;c<a.length;c++)if(a[c].parent===t){var n=j(a[c],s);e(a[c].number,n)}"vertical"==b(s)&&i.options.vertical?(s.previousElementSibling.classList.add("jorg-after-none"),s.classList.add("jorg-vertical")):s.classList.add("jorg-horizontal"),s.childNodes.length?s.previousElementSibling&&x(s.previousElementSibling):s.remove()},u=function(e){var s=document.body.scrollTop||document.documentElement.scrollTop;t.classList.contains("fullscreen-mode")?(t.classList.remove("fullscreen-mode"),document.body.classList.remove("jorg-hide-scrollbars"),t.style.top="0px",e.target.innerText="slideshow"):(t.classList.add("fullscreen-mode"),document.body.classList.add("jorg-hide-scrollbars"),t.style.top=s+"px",e.target.innerText="close_fullscreen")},h=function(e){e=event||window.event;var s,c,a=o.scale=1*t.children[0].style.zoom,n=t.children[0].offsetWidth,r=t.children[0].offsetHeight;e.target.classList.contains("jorg-zoom-in")||e.deltaY<0?(t.children[0].style.zoom=a+i.options.zoom,s=n-t.children[0].offsetWidth,c=r-t.children[0].offsetHeight,t.children[0].scrollLeft+=s/2,t.children[0].scrollTop+=c/2):a>.5&&(t.children[0].style.zoom=o.scale=a-i.options.zoom,s=t.children[0].offsetWidth-n,c=t.children[0].offsetHeight-r,t.children[0].scrollLeft-=s/2,t.children[0].scrollTop-=c/2),e.preventDefault()},p=function(e){if(e&&"object"==typeof e)for(var t=Object.keys(e),s=0;s<t.length;s++){var c=t[s],n=a.find((function(t){return t[c]==e[c]}));if(n)return Array.prototype.slice.call(document.querySelectorAll(".jorg-tf-nc")).find((function(e){return e.getAttribute("number")==n.number}))}return 0},O=function(){z.children[0].style.left=z.clientWidth/2-z.children[0].clientWidth/2+"px",z.children[0].style.top="100px"},f=function(){o.initialWidth=z.children[0].clientWidth},v=function(e,t){z.classList.add("jorg-search-animation"),z.onanimationend=function(s){"jorg-searching-hide"==s.animationName?(z.children[0].style.left=e+"px",z.children[0].style.top=t+"px",z.classList.remove("jorg-search-animation"),z.classList.add("jorg-searching-visible")):"jorg-searching-visible"==s.animationName&&z.classList.remove("jorg-searching-visible")}};i.setOptions=function(e,s){var c={data:null,url:null,zoom:.1,width:800,height:600,search:!0,searchPlaceHolder:"Search",vertical:!1,roles:null,onload:null,onchange:null,onclick:null};for(var a in c)e&&e.hasOwnProperty(a)?i.options[a]=e[a]:"undefined"!=typeof i.options[a]&&!0!==s||(i.options[a]=c[a]);return i.options.search?t.appendChild(D):D.parentElement&&t.removeChild(D),i.options.width=parseInt(i.options.width),i.options.height=parseInt(i.options.height),D.placeholder=i.options.searchPlaceHolder,(e.width||e.height)&&i.setDimensions(i.options.width,i.options.height),t.organogram&&i.refresh(),i},i.setRoles=function(e){e&&(i.options.roles=e,i.refresh())},i.update=function(){t.children[0].innerHTML="",m(0,t.children[0])},i.zoom=function(e){e<.1&&(e=.1),z.style.zoom=o.scale=e},i.refresh=function(){t.children[0].innerHTML="",m(0,t.children[0]),O(),f()},i.show=function(e){var t=p({number:e});t&&t.lastChild&&t.lastChild.click()},i.addItem=function(e){"object"==typeof e&&e.hasOwnProperty("number")&&e.hasOwnProperty("parent")&&!isNaN(e.parent)&&!isNaN(e.number)&&(a.find((function(t){return t.number==e.parent}))?(a.push(e),i.refresh(),"function"==typeof i.options.onchange&&i.options.onchange(t,i)):console.log("cannot add this item"))};var g=function e(t){var s=a.findIndex((function(e){return e.number==t}));s>0&&(a.splice(s,1),a.filter((function(e){return e.parent===t})).forEach((function(t){e(t.number)})))};i.removeItem=function(e){g(e),i.refresh()},i.setData=function(e){"object"==typeof e&&i.refresh()},i.search=function(e){var t=e.toLowerCase();if(a){var s=a,c=s.find((function(e){return e.firstName.toLowerCase()==t}));if(c&&(b=p({number:c.number}))){var n=b.getBoundingClientRect(),r=z.getBoundingClientRect(),l=n.top-r.top-z.clientHeight/2+b.clientHeight/2,i=n.left-r.left-z.clientWidth/2+b.clientWidth/2,o=parseFloat(z.children[0].style.top)-l,d=parseFloat(z.children[0].style.left)-i;v(d,o)}var j=s.find((function(e){return e.lastName.toLowerCase()==t}));j&&(b=p({number:j.number}))&&(n=b.getBoundingClientRect(),r=z.getBoundingClientRect(),l=n.top-r.top-z.clientHeight/2+b.clientHeight/2,i=n.left-r.left-z.clientWidth/2+b.clientWidth/2,o=parseFloat(z.children[0].style.top)-l,d=parseFloat(z.children[0].style.left)-i,v(d,o))}var b,x=s.find((function(e){return e.title.toLowerCase()==t}));x&&(b=p({number:x.number}))&&(n=b.getBoundingClientRect(),r=z.getBoundingClientRect(),l=n.top-r.top-z.clientHeight/2+b.clientHeight/2,i=n.left-r.left-z.clientWidth/2+b.clientWidth/2,o=parseFloat(z.children[0].style.top)-l,d=parseFloat(z.children[0].style.left)-i,v(d,o))},i.setDimensions=function(e,s){t.style.width="80vw",t.style.height="100vh"};var N=function(e){o.fingerDistance=Math.hypot(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY)},w=function(e){e.preventDefault();var t,s=Math.hypot(e.touches[0].pageX-e.touches[1].pageX,e.touches[0].pageY-e.touches[1].pageY);if(s>o.fingerDistance){var c=s-o.fingerDistance;(t=o.scale+o.scale*c*.0025)<=5.09&&(i.zoom(t),document.getElementById("info").textContent=t)}s<o.fingerDistance&&(c=o.fingerDistance-s,(t=o.scale-o.scale*c*.0025)>=.1&&(i.zoom(t),document.getElementById("info").textContent=t));o.fingerDistance=s},y=!1,k=function(e){if((e=e||window.event).preventDefault(),!o.scaling&&(e.which||o.mobileDown)){y=!0;var t=e.clientX||e.pageX||e.changedTouches&&(e.changedTouches[0].pageX||e.changedTouches[0].clientX),s=e.clientY||e.pageY||e.changedTouches&&(e.changedTouches[0].pageY||e.changedTouches[0].clientY),c=o.x-t,a=o.y-s,n=z.style.zoom<=1?1-z.style.zoom+1:1-(z.style.zoom-1)<.5?.5:1-(z.style.zoom-1);z.children[0].style.left=-(o.scrollLeft+c*n)+"px",z.children[0].style.top=o.scrollTop+a*n*-1+"px"}o.scaling&&w(e)},S=function(e){(e=e||window.event).changedTouches&&(o.mobileDown=!0),o.x=e.clientX||e.pageX||e.changedTouches[0].pageX||e.changedTouches[0].clientX,o.y=e.clientY||e.pageY||e.changedTouches[0].pageY||e.changedTouches[0].clientY,o.scrollLeft=-1*parseFloat(z.children[0].style.left)||0,o.scrollTop=parseFloat(z.children[0].style.top),e.touches&&2==e.touches.length&&(o.scaling=!0,N(e))},C=function(e){o.mobileDown=!1,o.scaling&&(o.scaling=!1),y=!1},z=null,D=null,A=null,M=null,E=null,I=null,T=null;return function(){(A=document.createElement("div")).style.width="75px",A.className="jorg-zoom-container",i.zoomContainer=A,(M=document.createElement("i")).className="jorg-zoom-in material-icons jorg-action",M.innerHTML="+",(E=document.createElement("i")).className="jorg-zoom-out material-icons jorg-action",E.innerHTML="-",(I=document.createElement("i")).className="jorg-fullscreen material-icons jorg-action",I.title="Fullscreen",I.innerHTML="F",T=document.createElement("i"),I.style.width="15px",A.appendChild(T),A.appendChild(M),A.appendChild(T),A.appendChild(E),M.addEventListener("click",h),E.addEventListener("click",h),I.addEventListener("click",u),(z=document.createElement("ul")).style.zoom||(z.style.zoom="0.5"),t.classList.add("jorg"),t.classList.add("jorg-tf-tree"),t.classList.add("jorg-unselectable"),z.classList.add("jorg-disable-scrollbars"),t.appendChild(z),t.appendChild(A),(D=document.createElement("input")).type="text",D.classList.add("jorg-search"),D.onkeyup=function(e){i.search(e.target.value)},D.onblur=function(e){e.target.value=""},z.addEventListener("mousemove",k),z.addEventListener("touchmove",k),z.addEventListener("touchstart",S),z.addEventListener("touchend",C),z.addEventListener("mousedown",S),t.addEventListener("click",(function(e){y?y=!1:"function"==typeof i.options.onclick&&i.options.onclick(t,i,e)})),i.setOptions(s);var c=function(){m(0,z),O(),f(),i.setDimensions(i.options.width,i.options.height),"function"==typeof i.options.onload&&i.options.onload(t,i)};i.options.url?e.ajax({url:i.options.url,method:"GET",dataType:"json",success:function(e){a=e,c()}}):a&&a.length&&c(),t.organogram=i}(),i}}()},283:function(e,t,s){},341:function(e){e.exports=JSON.parse("{}")},342:function(e,t,s){},343:function(e,t,s){},372:function(e,t,s){},378:function(e,t,s){"use strict";s.r(t),s.d(t,"msalInstance",(function(){return ea}));var c=s(1),a=s.n(c),n=s(46),r=s.n(n),l=s(18),i=s(3),o=s(17),d=s(30),j=s(34),b=s(35),x=function(){function e(t){var s=t.timeout,c=t.onTimeout,a=t.onExpired;Object(j.a)(this,e),this.timeout=s,this.onTimeout=c;var n=parseInt(localStorage.getItem("_expiredTime")||0,10);n>0&&n<Date.now()?a():(this.eventHandler=this.updateExpiredTime.bind(this),this.tracker(),this.startInterval())}return Object(b.a)(e,[{key:"startInterval",value:function(){var e=this;this.updateExpiredTime(),this.interval=setInterval((function(){var t=parseInt(localStorage.getItem("_expiredTime")||0,10);console.log(t),console.log(Date.now()),t<Date.now()&&e.onTimeout&&(e.onTimeout(),e.cleanUp())}),1e3)}},{key:"updateExpiredTime",value:function(){var e=this;this.timeoutTracker&&clearTimeout(this.timeoutTracker),this.timeoutTracker=setTimeout((function(){localStorage.setItem("_expiredTime",Date.now()+1e3*e.timeout)}),300)}},{key:"tracker",value:function(){window.addEventListener("mousemove",this.eventHandler),window.addEventListener("scroll",this.eventHandler),window.addEventListener("keydown",this.eventHandler)}},{key:"cleanUp",value:function(){localStorage.removeItem("_expiredTime"),clearInterval(this.interval),window.removeEventListener("mousemove",this.eventHandler),window.removeEventListener("scroll",this.eventHandler),window.removeEventListener("keydown",this.eventHandler)}}]),e}(),m=s(4),u=s(11),h=s(89),p=s(132),O={auth:{clientId:"00ec1a50-07a6-4d7a-ac32-807477a41666",authority:"https://login.microsoftonline.com/7748092c-54f8-4695-ac9f-d6114216c194",redirectUri:"/blank",postLogoutRedirectUri:"/",navigateToLoginRequestUrl:!1},cache:{cacheLocation:"sessionStorage",storeAuthStateInCookie:!1},system:{loggerOptions:{loggerCallback:function(e,t,s){if(!s)switch(e){case p.a.Error:return void console.error(t);case p.a.Info:return void console.info(t);case p.a.Verbose:return void console.debug(t);case p.a.Warning:return void console.warn(t)}}}}},f={scopes:["User.Read"],prompt:"select_account"},v=s.p+"static/media/auth-image.e1185d65.jpg",g=s(13),N=s(113),w=s.n(N),y={post:function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s,c){var a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{"Content-type":"application/json"}},c&&(a.headers["auth-token"]=localStorage.getItem("auth-token")),e.abrupt("return",new Promise(function(){var e=Object(u.a)(Object(m.a)().mark((function e(c,n){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.post("".concat(g.default.url).concat(t),s,a).then((function(e){c(e.data)})).catch((function(e){n(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}}),e)})));return function(t,s,c){return e.apply(this,arguments)}}(),get:function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{"Content-type":"application/json","auth-token":localStorage.getItem("auth-token")}},e.abrupt("return",new Promise(function(){var e=Object(u.a)(Object(m.a)().mark((function e(c,a){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.get("".concat(g.default.url).concat(t),s).then((function(e){c(e.data)})).catch((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),delete:function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s={headers:{"Content-type":"application/json","auth-token":localStorage.getItem("auth-token")}},e.abrupt("return",new Promise(function(){var e=Object(u.a)(Object(m.a)().mark((function e(c,a){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.delete("".concat(g.default.url).concat(t),s).then((function(e){c(e.data)})).catch((function(e){a(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),patch:function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return c={headers:{"Content-type":"application/json","auth-token":localStorage.getItem("auth-token")}},e.abrupt("return",new Promise(function(){var e=Object(u.a)(Object(m.a)().mark((function e(a,n){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w.a.patch("".concat(g.default.url).concat(t),s,c).then((function(e){a(e.data)})).catch((function(e){n(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()));case 2:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}()},k=s(0);var S=function(){var e=Object(d.l)(),t=Object(h.b)(),s=t.instance,n=(t.accounts,a.a.useContext(Jc).dispatch),r=Object(c.useState)(),o=Object(i.a)(r,2),j=o[0],b=o[1];function x(e){return p.apply(this,arguments)}function p(){return(p=Object(u.a)(Object(m.a)().mark((function t(c){var a,r,l,i,o,d;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,a="",r="",l="",i="",t.next=8,s.loginPopup(f).catch((function(e){return console.log(e)})).then((function(e){r=e.accessToken,a=e.account.username,l=e.idTokenClaims.name,i=e.account.localAccountId}));case 8:return o={token:r,user:a,name:l},t.next=11,y.post(g.default.path.loginMicrosft,o,!1);case 11:if(!(d=t.sent).err){t.next=19;break}return t.next=15,localStorage.setItem("onboarding",JSON.stringify({loginDetails:o}));case 15:return e("/onboarding-01"),t.abrupt("return");case 19:return localStorage.setItem("auth-token",d.token),localStorage.setItem("_id",d._id),localStorage.setItem("adminTag",d.adminTag),localStorage.setItem("repTag",d.repTag),localStorage.setItem("microsoftId",i),t.t0=localStorage,t.next=27,y.get(g.default.path.events.isTrainingDay);case 27:return t.t1=t.sent,t.t0.setItem.call(t.t0,"isTrainingDay",t.t1),t.t2=localStorage,t.next=32,y.get("".concat(g.default.path.profile.getDev,"/").concat(d._id));case 32:t.t3=t.sent,t.t2.setItem.call(t.t2,"isDev",t.t3),n({type:"LOGIN",payload:o}),e("/");case 36:t.next=41;break;case 38:t.prev=38,t.t4=t.catch(1),b("error");case 41:case"end":return t.stop()}}),t,null,[[1,38]])})))).apply(this,arguments)}return Object(k.jsx)("main",{className:"bg-black",children:Object(k.jsxs)("div",{className:"relative md:flex",children:[Object(k.jsx)("div",{className:"md:w-1/2",children:Object(k.jsxs)("div",{className:"min-h-screen h-full flex flex-col after:flex-1",children:[Object(k.jsx)("div",{className:"flex-1"}),function(){switch(j){case"error":return Object(k.jsxs)("div",{className:"max-w-sm mx-auto px-4 py-8",children:[Object(k.jsx)("img",{src:"https://i.ibb.co/jMBgmsV/C3-light.png",width:"400",height:"120",className:"",alt:"Convergence Logo"}),Object(k.jsx)("h1",{className:"text-xl text-center text-white font-bold mb-1",children:"Error:"}),Object(k.jsx)("h1",{className:"text-m text-center text-white mb-6",children:"An error has occurred, please sign in again."}),Object(k.jsx)("div",{className:"flex items-center justify-center mt-6",children:Object(k.jsx)("button",{className:"btn bg-white hover:bg-rose-600 text-black",onClick:x,style:{width:"216px",padding:"0px",top:"0px",margin:"0px",height:"45px",background:"url(".concat("https://docs.microsoft.com/en-us/azure/active-directory/develop/media/howto-add-branding-in-azure-ad-apps/ms-symbollockup_signin_dark.svg",")")}})})]});case"register":return Object(k.jsxs)("div",{className:"max-w-sm mx-auto",children:[Object(k.jsx)("img",{src:"https://i.ibb.co/jMBgmsV/C3-light.png",width:"400",height:"120",className:"",alt:"Convergence Logo"}),Object(k.jsx)("h1",{className:"text-xl text-center text-white font-bold mb-1",children:"Attention:"}),Object(k.jsxs)("h1",{className:"text-m text-center text-white mb-6",children:["Before you start, please"," ",Object(k.jsxs)(l.b,{className:"font-medium text-rose-500 hover:text-rose-600",to:"/onboarding-01",children:["click here"," "]}),"to follow the onboarding process."," "]})]});default:return Object(k.jsxs)("div",{className:"max-w-sm mx-auto",children:[Object(k.jsx)("img",{src:"https://i.ibb.co/jMBgmsV/C3-light.png",width:"400",height:"120",className:"",alt:"Convergence Logo"}),Object(k.jsx)("div",{className:"flex items-center justify-center mt-6",children:Object(k.jsx)("button",{className:"btn bg-rose-500 hover:bg-rose-600 text-black ml-3",onClick:x,style:{width:"216px",padding:"0px",top:"0px",margin:"0px",height:"45px",background:"url(".concat("https://docs.microsoft.com/en-us/azure/active-directory/develop/media/howto-add-branding-in-azure-ad-apps/ms-symbollockup_signin_dark.svg",")")}})})]})}}()]})}),Object(k.jsx)("div",{className:"hidden md:block absolute top-0 bottom-0 right-0 md:w-1/2","aria-hidden":"true",children:Object(k.jsx)("img",{className:"object-cover object-center w-full h-full",src:v,width:"760",height:"1024",alt:"Authentication"})})]})})},C={isAuthenticated:!1,user:null,token:null},z=function(e,t){switch(t.type){case"LOGIN":return localStorage.setItem("user",t.payload.user),localStorage.setItem("microsoftToken",t.payload.token),Object(o.a)(Object(o.a)({},e),{},{isAuthenticated:!0,user:t.payload.user,token:t.payload.token});case"LOGOUT":return localStorage.clear(),Object(o.a)(Object(o.a)({},e),{},{isAuthenticated:!1,user:null});default:return e}};function D(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),s=(t[0],t[1]),a=Object(c.useReducer)(z,C),n=Object(i.a)(a,2),r=(n[0],n[1]),l=Object(d.l)();Object(c.useEffect)((function(){var e=localStorage.getItem("microsoftToken")||null,t=localStorage.getItem("auth-token");console.log("token: ",e),console.log("authtoken: ",t),null===t&&(r({type:"LOGOUT"}),l("/signin"));var c=new x({timeout:82800,onTimeout:function(){s(!0),r({type:"LOGOUT"}),l("/signin")},onExpired:function(){s(!0)}});return function(){c.cleanUp()}}),[])}var A=s(33),M=Object(c.createContext)();function E(e){var t=e.children,s=Object(c.useState)([]),a=Object(i.a)(s,2),n=a[0],r=a[1];function l(){return(l=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r(t);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.jsx)(M.Provider,{value:{globalClients:n,setClients:function(e){return l.apply(this,arguments)}},children:t})}var I=M,T=(s(283),s(20)),L=s(227),P=s.n(L),F=function(){return P()("./src/css/tailwind.config.js")},B=function(e){var t=0,s=0,c=0;return 4===e.length?(t="0x".concat(e[1]).concat(e[1]),s="0x".concat(e[2]).concat(e[2]),c="0x".concat(e[3]).concat(e[3])):7===e.length&&(t="0x".concat(e[1]).concat(e[2]),s="0x".concat(e[3]).concat(e[4]),c="0x".concat(e[5]).concat(e[6])),"".concat(+t,",").concat(+s,",").concat(+c)},R=function(e){return Intl.NumberFormat("en-US",{maximumSignificantDigits:3,notation:"compact"}).format(e)};T.e.register(T.q),T.e.defaults.font.family='"Inter", sans-serif',T.e.defaults.font.weight="500",T.e.defaults.color=F().theme.colors.slate[400],T.e.defaults.scale.grid.color=F().theme.colors.slate[100],T.e.defaults.plugins.tooltip.titleColor=F().theme.colors.slate[800],T.e.defaults.plugins.tooltip.bodyColor=F().theme.colors.slate[800],T.e.defaults.plugins.tooltip.backgroundColor=F().theme.colors.white,T.e.defaults.plugins.tooltip.borderWidth=1,T.e.defaults.plugins.tooltip.borderColor=F().theme.colors.slate[200],T.e.defaults.plugins.tooltip.displayColors=!1,T.e.defaults.plugins.tooltip.mode="nearest",T.e.defaults.plugins.tooltip.intersect=!1,T.e.defaults.plugins.tooltip.position="nearest",T.e.defaults.plugins.tooltip.caretSize=0,T.e.defaults.plugins.tooltip.caretPadding=20,T.e.defaults.plugins.tooltip.cornerRadius=4,T.e.defaults.plugins.tooltip.padding=8,T.e.register({id:"chartAreaPlugin",beforeDraw:function(e){if(e.config.options.chartArea&&e.config.options.chartArea.backgroundColor){var t=e.canvas.getContext("2d"),s=e.chartArea;t.save(),t.fillStyle=e.config.options.chartArea.backgroundColor,t.fillRect(s.left,s.top,s.right-s.left,s.bottom-s.top),t.restore()}}});var H=function(){return Object(k.jsx)("main",{className:"bg-white",children:Object(k.jsxs)("div",{className:"relative md:flex",children:[Object(k.jsx)("div",{className:"md:w-1/2",children:Object(k.jsx)("div",{className:"min-h-screen h-full flex flex-col after:flex-1",children:Object(k.jsx)("div",{className:"flex-1",children:Object(k.jsx)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:"Signing In..."})})})}),Object(k.jsxs)("div",{className:"hidden md:block absolute top-0 bottom-0 right-0 md:w-1/2","aria-hidden":"true",children:[Object(k.jsx)("img",{className:"object-cover object-center w-full h-full",src:AuthImage,width:"760",height:"1024",alt:"Authentication"}),Object(k.jsx)("img",{className:"absolute top-1/4 left-0 transform -translate-x-1/2 ml-8 hidden lg:block",src:AuthDecoration,width:"218",height:"224",alt:"Authentication decoration"})]})]})})},Y=s(15),U=s.p+"static/media/onboarding-image.9668c242.jpg";s.p;var _=function(){var e=Object(d.l)(),t=Object(c.useState)({}),s=Object(i.a)(t,2),a=s[0],n=s[1],r=function(e){return n((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.name,e.target.value))}))},j={1:"Management Consulting",2:"Disruptive Technology",3:"Data Engineering"},b=function(){var t=Object(u.a)(Object(m.a)().mark((function t(){var s,c;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="1",a.type&&(s=a.type),t.next=4,localStorage.getItem("onboarding");case 4:return c=t.sent,t.next=7,localStorage.setItem("onboarding",JSON.stringify(Object(o.a)(Object(o.a)({},JSON.parse(c)),{},{type:j[s]})));case 7:e("/onboarding-02");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(k.jsx)("main",{className:"bg-white",children:Object(k.jsxs)("div",{className:"relative flex",children:[Object(k.jsx)("div",{className:"w-full md:w-1/2",children:Object(k.jsxs)("div",{className:"min-h-screen h-full flex flex-col after:flex-1",children:[Object(k.jsxs)("div",{className:"flex-1",children:[Object(k.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[Object(k.jsx)("img",{src:"https://i.ibb.co/fvGBWTW/c3-small-dark.png",width:"80",height:"80",alt:""})," "]}),Object(k.jsx)("div",{className:"px-4 pt-12 pb-8",children:Object(k.jsx)("div",{className:"max-w-md mx-auto w-full",children:Object(k.jsxs)("div",{className:"relative",children:[Object(k.jsx)("div",{className:"absolute left-0 top-1/2 -mt-px w-full h-0.5 bg-zinc-200","aria-hidden":"true"}),Object(k.jsxs)("ul",{className:"relative flex justify-between w-full",children:[Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-01",children:"1"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-zinc-100 text-zinc-500",to:"/onboarding-02",children:"2"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-zinc-100 text-zinc-500",to:"/onboarding-03",children:"3"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-zinc-100 text-zinc-500",to:"/onboarding-04",children:"4"})})]})]})})})]}),Object(k.jsx)("div",{className:"px-4 py-8",children:Object(k.jsxs)("div",{className:"max-w-md mx-auto",children:[Object(k.jsx)("h1",{className:"text-3xl text-zinc-800 font-bold mb-6",children:"Tell us what\u2019s your situation"}),Object(k.jsxs)("form",{children:[Object(k.jsxs)("div",{className:"space-y-3 mb-8",children:[Object(k.jsxs)("label",{className:"relative block cursor-pointer",children:[Object(k.jsx)("input",{type:"radio",name:"type",value:"1",className:"peer sr-only",defaultChecked:!0,onChange:r}),Object(k.jsxs)("div",{className:"flex items-center bg-white text-sm font-medium text-zinc-800 p-4 rounded border border-zinc-200 hover:border-zinc-300 shadow-sm duration-150 ease-in-out",children:[Object(k.jsxs)("svg",{className:"w-6 h-6 shrink-0 fill-current mr-4",viewBox:"0 0 24 24",children:[Object(k.jsx)("path",{className:"text-rose-500",d:"m12 10.856 9-5-8.514-4.73a1 1 0 0 0-.972 0L3 5.856l9 5Z"}),Object(k.jsx)("path",{className:"text-rose-300",d:"m11 12.588-9-5V18a1 1 0 0 0 .514.874L11 23.588v-11Z"}),Object(k.jsx)("path",{className:"text-rose-200",d:"M13 12.588v11l8.486-4.714A1 1 0 0 0 22 18V7.589l-9 4.999Z"})]}),Object(k.jsx)("span",{children:"Management Consulting"})]}),Object(k.jsx)("div",{className:"absolute inset-0 border-2 border-transparent peer-checked:border-rose-400 rounded pointer-events-none","aria-hidden":"true"})]}),Object(k.jsxs)("label",{className:"relative block cursor-pointer",children:[Object(k.jsx)("input",{type:"radio",name:"type",className:"peer sr-only",value:"2",onChange:r}),Object(k.jsxs)("div",{className:"flex items-center bg-white text-sm font-medium text-zinc-800 p-4 rounded border border-zinc-200 hover:border-zinc-300 shadow-sm duration-150 ease-in-out",children:[Object(k.jsxs)("svg",{className:"w-6 h-6 shrink-0 fill-current mr-4",viewBox:"0 0 24 24",children:[Object(k.jsx)("path",{className:"text-rose-500",d:"m12 10.856 9-5-8.514-4.73a1 1 0 0 0-.972 0L3 5.856l9 5Z"}),Object(k.jsx)("path",{className:"text-rose-300",d:"m11 12.588-9-5V18a1 1 0 0 0 .514.874L11 23.588v-11Z"})]}),Object(k.jsx)("span",{children:"Disruptive Technology"})]}),Object(k.jsx)("div",{className:"absolute inset-0 border-2 border-transparent peer-checked:border-rose-400 rounded pointer-events-none","aria-hidden":"true"})]}),Object(k.jsxs)("label",{className:"relative block cursor-pointer",children:[Object(k.jsx)("input",{type:"radio",name:"type",className:"peer sr-only",value:"3",onChange:r}),Object(k.jsxs)("div",{className:"flex items-center bg-white text-sm font-medium text-zinc-800 p-4 rounded border border-zinc-200 hover:border-zinc-300 shadow-sm duration-150 ease-in-out",children:[Object(k.jsx)("svg",{className:"w-6 h-6 shrink-0 fill-current mr-4",viewBox:"0 0 24 24",children:Object(k.jsx)("path",{className:"text-rose-500",d:"m12 10.856 9-5-8.514-4.73a1 1 0 0 0-.972 0L3 5.856l9 5Z"})}),Object(k.jsx)("span",{children:"Data Engineering"})]}),Object(k.jsx)("div",{className:"absolute inset-0 border-2 border-transparent peer-checked:border-rose-400 rounded pointer-events-none","aria-hidden":"true"})]})]}),Object(k.jsx)("div",{className:"flex items-center justify-between",children:Object(k.jsx)("a",{className:"btn cursor-pointer bg-rose-500 hover:bg-rose-600 text-white ml-auto",onClick:b,children:"Next Step ->"})})]})]})})]})}),Object(k.jsx)("div",{className:"hidden md:block absolute top-0 bottom-0 right-0 md:w-1/2","aria-hidden":"true",children:Object(k.jsx)("img",{className:"object-cover object-center w-full h-full",src:U,width:"760",height:"1024",alt:"Onboarding"})})]})})};var q=function(e){var t=e.children,s=e.className,c=e.type,a=e.open,n=e.setOpen;return Object(k.jsx)(k.Fragment,{children:a&&Object(k.jsx)("div",{className:s,children:Object(k.jsx)("div",{className:"px-4 py-2 rounded-sm text-sm border ".concat(function(e){switch(e){case"warning":return"bg-yellow-100 border-yellow-200 text-yellow-600";case"error":return"bg-rose-100 border-rose-200 text-rose-600";case"success":return"bg-emerald-100 border-emerald-200 text-emerald-600";default:return"bg-indigo-100 border-indigo-200 text-indigo-500"}}(c)),children:Object(k.jsxs)("div",{className:"flex w-full justify-between items-start",children:[Object(k.jsxs)("div",{className:"flex",children:[function(e){switch(e){case"warning":return Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current opacity-80 mt-[3px] mr-3",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z"})});case"error":return Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current opacity-80 mt-[3px] mr-3",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm3.5 10.1l-1.4 1.4L8 9.4l-2.1 2.1-1.4-1.4L6.6 8 4.5 5.9l1.4-1.4L8 6.6l2.1-2.1 1.4 1.4L9.4 8l2.1 2.1z"})});case"success":return Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current opacity-80 mt-[3px] mr-3",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})});default:return Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current opacity-80 mt-[3px] mr-3",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm1 12H7V7h2v5zM8 6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"})})}}(c),Object(k.jsx)("div",{children:t})]}),Object(k.jsxs)("button",{className:"opacity-70 hover:opacity-80 ml-3 mt-[3px]",onClick:function(e){e.stopPropagation(),n(!1)},children:[Object(k.jsx)("div",{className:"sr-only",children:"Close"}),Object(k.jsx)("svg",{className:"w-4 h-4 fill-current",children:Object(k.jsx)("path",{d:"M7.95 6.536l4.242-4.243a1 1 0 111.415 1.414L9.364 7.95l4.243 4.242a1 1 0 11-1.415 1.415L7.95 9.364l-4.243 4.243a1 1 0 01-1.414-1.415L6.536 7.95 2.293 3.707a1 1 0 011.414-1.414L7.95 6.536z"})})]})]})})})})};var V=function(){var e=Object(d.l)(),t=Object(c.useState)({}),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)(!1),j=Object(i.a)(r,2),b=j[0],x=j[1],h=Object(c.useState)(""),p=Object(i.a)(h,2),O=p[0],f=(p[1],function(e){return n((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.name,e.target.value))}))}),v=function(){var t=Object(u.a)(Object(m.a)().mark((function t(){var s,c;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return s="Mac",a.input&&(s=a.input),t.next=4,localStorage.getItem("onboarding");case 4:return c=t.sent,t.next=7,localStorage.setItem("onboarding",JSON.stringify(Object(o.a)(Object(o.a)({},JSON.parse(c)),{},{techId:s})));case 7:e("/onboarding-03");case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),g=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return g(),Object(k.jsx)("main",{className:"bg-white",children:Object(k.jsxs)("div",{className:"relative flex",children:[Object(k.jsx)("div",{className:"w-full md:w-1/2",children:Object(k.jsxs)("div",{className:"min-h-screen h-full flex flex-col after:flex-1",children:[Object(k.jsxs)("div",{className:"flex-1",children:[Object(k.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[Object(k.jsx)("img",{src:"https://i.ibb.co/fvGBWTW/c3-small-dark.png",width:"80",height:"80",alt:""})," "]}),Object(k.jsx)("div",{className:"px-4 pt-12 pb-8",children:Object(k.jsx)("div",{className:"max-w-md mx-auto w-full",children:Object(k.jsxs)("div",{className:"relative",children:[Object(k.jsx)("div",{className:"absolute left-0 top-1/2 -mt-px w-full h-0.5 bg-zinc-200","aria-hidden":"true"}),Object(k.jsxs)("ul",{className:"relative flex justify-between w-full",children:[Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-01",children:"1"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-02",children:"2"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-zinc-100 text-zinc-500",to:"/onboarding-03",children:"3"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-zinc-100 text-zinc-500",to:"/onboarding-04",children:"4"})})]})]})})})]}),Object(k.jsx)("div",{className:"px-4 py-8",children:Object(k.jsxs)("div",{className:"max-w-md mx-auto",children:[Object(k.jsx)("h1",{className:"text-3xl text-zinc-800 font-bold mb-6",children:"Tell us about yourself"}),Object(k.jsxs)("form",{children:[Object(k.jsxs)("div",{className:"sm:flex space-y-3 sm:space-y-0 sm:space-x-4 mb-8",children:[Object(k.jsxs)("label",{className:"flex-1 relative block cursor-pointer",children:[Object(k.jsx)("input",{type:"radio",name:"input",value:"Mac",onChange:f,className:"peer sr-only",defaultChecked:!0}),Object(k.jsxs)("div",{className:"h-full text-center bg-white px-4 py-6 rounded border border-zinc-200 hover:border-zinc-300 shadow-sm duration-150 ease-in-out",children:[Object(k.jsxs)("svg",{className:"inline-flex w-10 h-10 shrink-0 fill-current mb-2",viewBox:"0 0 40 40",children:[Object(k.jsx)("circle",{className:"text-rose-100",cx:"20",cy:"20",r:"20"}),Object(k.jsx)("path",{className:"text-rose-500",d:"m26.371 23.749-3.742-1.5a1 1 0 0 1-.629-.926v-.878A3.982 3.982 0 0 0 24 17v-1.828A4.087 4.087 0 0 0 20 11a4.087 4.087 0 0 0-4 4.172V17a3.982 3.982 0 0 0 2 3.445v.878a1 1 0 0 1-.629.928l-3.742 1.5a1 1 0 0 0-.629.926V27a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.323a1 1 0 0 0-.629-.928Z"})]}),Object(k.jsx)("div",{className:"font-medium text-zinc-800 mb-1",children:"Mac"}),Object(k.jsx)("div",{className:"text-sm",children:"I think I have money"})]}),Object(k.jsx)("div",{className:"absolute inset-0 border-2 border-transparent peer-checked:border-rose-400 rounded pointer-events-none","aria-hidden":"true"})]}),Object(k.jsxs)("label",{className:"flex-1 relative block cursor-pointer",children:[Object(k.jsx)("input",{type:"radio",name:"input",value:"Windows",onChange:f,className:"peer sr-only"}),Object(k.jsxs)("div",{className:"h-full text-center bg-white px-4 py-6 rounded border border-zinc-200 hover:border-zinc-300 shadow-sm duration-150 ease-in-out",children:[Object(k.jsxs)("svg",{className:"inline-flex w-10 h-10 shrink-0 fill-current mb-2",viewBox:"0 0 40 40",children:[Object(k.jsx)("circle",{className:"text-rose-100",cx:"20",cy:"20",r:"20"}),Object(k.jsx)("path",{className:"text-rose-500",d:"m26.371 23.749-3.742-1.5a1 1 0 0 1-.629-.926v-.878A3.982 3.982 0 0 0 24 17v-1.828A4.087 4.087 0 0 0 20 11a4.087 4.087 0 0 0-4 4.172V17a3.982 3.982 0 0 0 2 3.445v.878a1 1 0 0 1-.629.928l-3.742 1.5a1 1 0 0 0-.629.926V27a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.323a1 1 0 0 0-.629-.928Z"}),Object(k.jsx)("circle",{className:"text-rose-100",cx:"20",cy:"20",r:"20"}),Object(k.jsx)("path",{className:"text-rose-300",d:"m30.377 22.749-3.709-1.5a1 1 0 0 1-.623-.926v-.878A3.989 3.989 0 0 0 28.027 16v-1.828c.047-2.257-1.728-4.124-3.964-4.172-2.236.048-4.011 1.915-3.964 4.172V16a3.989 3.989 0 0 0 1.982 3.445v.878a1 1 0 0 1-.623.928c-.906.266-1.626.557-2.159.872-.533.315-1.3 1.272-2.299 2.872 1.131.453 6.075-.546 6.072.682V28a2.99 2.99 0 0 1-.182 1h7.119A.996.996 0 0 0 31 28v-4.323a1 1 0 0 0-.623-.928Z"}),Object(k.jsx)("path",{className:"text-rose-500",d:"m22.371 24.749-3.742-1.5a1 1 0 0 1-.629-.926v-.878A3.982 3.982 0 0 0 20 18v-1.828A4.087 4.087 0 0 0 16 12a4.087 4.087 0 0 0-4 4.172V18a3.982 3.982 0 0 0 2 3.445v.878a1 1 0 0 1-.629.928l-3.742 1.5a1 1 0 0 0-.629.926V28a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1v-2.323a1 1 0 0 0-.629-.928Z"})]}),Object(k.jsx)("div",{className:"font-medium text-zinc-800 mb-1",children:"Windows"}),Object(k.jsx)("div",{className:"text-sm",children:"I like the struggle"})]}),Object(k.jsx)("div",{className:"absolute inset-0 border-2 border-transparent peer-checked:border-rose-400 rounded pointer-events-none","aria-hidden":"true"})]})]}),Object(k.jsx)("div",{className:"pb-3",children:Object(k.jsx)(q,{type:"error",open:b,setOpen:x,children:O})}),Object(k.jsxs)("div",{className:"flex items-center justify-between",children:[Object(k.jsx)(l.b,{className:"text-sm underline hover:no-underline",to:"/onboarding-01",children:"<- Back"}),Object(k.jsx)("a",{className:"cursor-pointer btn bg-rose-500 hover:bg-rose-600 text-white ml-auto",onClick:v,children:"Next Step ->"})]})]})]})})]})}),Object(k.jsx)("div",{className:"hidden md:block absolute top-0 bottom-0 right-0 md:w-1/2","aria-hidden":"true",children:Object(k.jsx)("img",{className:"object-cover object-center w-full h-full",src:U,width:"760",height:"1024",alt:"Onboarding"})})]})})},W=["Business Process Engineer","Technical Process Engineer","Senior Business Process Engineer","Senior Technical Process Engineer","Senior Consultant","Senior Programme Manager","Senior Technical Consultant","Feature Analyst","Manager","Director","Product Owner","Senior Solutions and Data Architect","Junior Data Engineer","Junior Software Developer","Candidate Manager","Administrator"],G=["Black","White","Coloured","Indian"],J=["Male","Female","Other"],K=s(447),X=s(439);var Z=function(){var e=Object(d.l)(),t=Object(c.useState)(!0),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)({about:"",birthDate:"",joinedDate:"",title:"",id:"",race:"",gender:"",start:"",end:""}),j=Object(i.a)(r,2),b=j[0],x=j[1],h=Object(c.useState)(!1),p=Object(i.a)(h,2),O=p[0],f=p[1],v=Object(c.useState)(""),g=Object(i.a)(v,2),N=g[0],w=g[1],y=function(e){return x((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.id,e.target.value))}))};function S(){return(S=Object(u.a)(Object(m.a)().mark((function t(){var s,c,a,n,r,l,i,d;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if((s=Q(b)).valid){t.next=5;break}return f(!0),w(s.msg),t.abrupt("return");case 5:return c="Johannesburg",b.city&&(c=b.city),a=b.start,n=b.end,r=b.race,l=b.gender,i=b.id,x((function(e){var t;return Object(o.a)(Object(o.a)({},e),{},(t={},Object(Y.a)(t,"start",""),Object(Y.a)(t,"race",""),Object(Y.a)(t,"gender",""),Object(Y.a)(t,"id",""),Object(Y.a)(t,"end",""),t))})),t.next=11,localStorage.getItem("onboarding");case 11:d=t.sent,localStorage.setItem("onboarding",JSON.stringify(Object(o.a)(Object(o.a)({},JSON.parse(d)),{},{personalInfo:Object(o.a)(Object(o.a)({},b),{},{city:c}),start:a,race:r,gender:l,id:i,end:n}))),e("/onboarding-04");case 14:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(k.jsx)("main",{className:"bg-white",children:Object(k.jsxs)("div",{className:"relative flex",children:[Object(k.jsx)("div",{className:"w-full md:w-1/2",children:Object(k.jsxs)("div",{className:"min-h-screen h-full flex flex-col after:flex-1",children:[Object(k.jsxs)("div",{className:"flex-1",children:[Object(k.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[Object(k.jsx)("img",{src:"https://i.ibb.co/fvGBWTW/c3-small-dark.png",width:"80",height:"80",alt:""})," "]}),Object(k.jsx)("div",{className:"px-4 pt-12 pb-8",children:Object(k.jsx)("div",{className:"max-w-md mx-auto w-full",children:Object(k.jsxs)("div",{className:"relative",children:[Object(k.jsx)("div",{className:"absolute left-0 top-1/2 -mt-px w-full h-0.5 bg-zinc-200","aria-hidden":"true"}),Object(k.jsxs)("ul",{className:"relative flex justify-between w-full",children:[Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-01",children:"1"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-02",children:"2"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-03",children:"3"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-zinc-100 text-zinc-500",to:"/onboarding-04",children:"4"})})]})]})})})]}),Object(k.jsx)("div",{className:"px-4 py-8",children:Object(k.jsxs)("div",{className:"max-w-md mx-auto",children:[Object(k.jsx)("h1",{className:"text-3xl text-zinc-800 font-bold mb-6",children:"Personal Information"}),Object(k.jsxs)("form",{children:[Object(k.jsxs)("div",{className:"space-y-4 mb-8",children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"about",children:["About you ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsx)("textarea",{id:"about",className:"form-input w-full",type:"text",placeholder:"Tell us about yourself",onChange:y,rows:"3"})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"birthDate",children:["Birth Date ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsx)("input",{id:"birthDate",className:"form-input w-full",type:"date",min:"1900-01-01",onChange:y})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"joinedDate",children:["My C3 journey started"," ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsx)("input",{id:"joinedDate",className:"form-input w-full",type:"date",min:"2019-01-01",onChange:y})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"title",children:["Job Title",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsxs)("select",{id:"title",className:"form-select w-full",onChange:y,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Title"}),W.sort((function(e,t){return e<t?-1:e>t?1:0})).map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e,children:e})})}))]})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"race",children:["Race",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsxs)("select",{id:"race",className:"form-select w-full",onChange:y,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select a Race"}),G.sort().map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e,children:e})})}))]})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"gender",children:["Gender",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsxs)("select",{id:"gender",className:"form-select w-full",onChange:y,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select a Gender"}),J.sort().map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e,children:e})})}))]})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"id",children:["ID Number ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsx)("input",{id:"id",className:"form-input w-full",type:"text",placeholder:"eg. 1234567890123",onChange:y})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"city",children:["City ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsxs)("select",{id:"city",className:"form-select w-full",onChange:y,children:[Object(k.jsx)("option",{value:"Johannesburg",children:"Johannesburg"}),Object(k.jsx)("option",{value:"Cape Town",children:"Cape Town"}),Object(k.jsx)("option",{value:"Sydney",children:"Sydney"})]})]}),Object(k.jsx)("div",{className:"ml-1",children:Object(k.jsx)(K.a,{control:Object(k.jsx)(X.a,{id:"specified",checked:a,onChange:function(){return n(!a)}}),label:"Contract End Specified"})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"start",children:["Contract Start ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsx)("input",{id:"start",className:"form-input w-full",type:"date",min:"2022-01-01",onChange:y})]}),a&&Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"end",children:["Contract End ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsx)("input",{id:"end",className:"form-input w-full",type:"date",min:"2022-01-01",onChange:y})]})]}),Object(k.jsx)("div",{className:"pb-5",children:Object(k.jsx)(q,{type:"error",open:O,setOpen:f,children:N})}),Object(k.jsxs)("div",{className:"flex items-center justify-between",children:[Object(k.jsx)(l.b,{className:"text-sm underline hover:no-underline",to:"/onboarding-02",children:"<- Back"}),Object(k.jsx)("a",{className:"cursor-pointer btn bg-rose-500 hover:bg-rose-600 text-white ml-auto",onClick:function(){return S.apply(this,arguments)},children:"Next Step ->"})]})]})]})})]})}),Object(k.jsx)("div",{className:"hidden md:block absolute top-0 bottom-0 right-0 md:w-1/2","aria-hidden":"true",children:Object(k.jsx)("img",{className:"object-cover object-center w-full h-full",src:U,width:"760",height:"1024",alt:"Onboarding"})})]})})},Q=function(e){var t=new RegExp("/(((d{2}((0[1-9]|[12]d|3[01])|(0[13456789]|1[012])(0[1-9]|[12]d|30)|02(0[1-9]|1d|2[0-8])))|([02468][048]|[13579][26])0229))(( |-)(d{4})( |-)(d{3})|(d{7}))$"),s={about:"About You",birthDate:"Birth Date",joinedDate:"C3 Journey started",title:"Job Title",race:"Race",gender:"Gender",id:"ID Number",city:"City",start:"Contract Start",end:"Contract End"};for(var c in e)if(""===e[c]&&"Contract End"!==s[c])return{valid:!1,msg:" ".concat(s[c]," is required")};return!t.test(e.id)!==e.id.length===13?{valid:!1,msg:"".concat(s.id," is invalid")}:{valid:!0}},$=s(138),ee=s.n($),te=s(95);var se=function(){var e=Object(d.l)(),t=Object(c.useState)([]),s=Object(i.a)(t,2),n=s[0],r=s[1],j=Object(c.useState)(!1),b=Object(i.a)(j,2),x=b[0],h=b[1],p=Object(c.useState)(""),O=Object(i.a)(p,2),f=O[0],v=O[1],N=Object(c.useState)([]),w=Object(i.a)(N,2),S=w[0],C=w[1],z=Object(c.useState)(!1),D=Object(i.a)(z,2),A=D[0],M=D[1],E=a.a.useContext(Jc).dispatch,I=function(){var t=Object(u.a)(Object(m.a)().mark((function t(){var s,c,a,r,l,i;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,ce(n);case 2:if((s=t.sent).valid){t.next=7;break}return h(!0),v(s.msg),t.abrupt("return");case 7:return t.next=9,localStorage.getItem("onboarding");case 9:return c=t.sent,c=Object(o.a)(Object(o.a)({},JSON.parse(c)),n),a=c.loginDetails.name.replace(/\s\s+/g," "),r={type:c.type,techId:c.techId,personalInfo:{firstName:a.split(" ")[0],lastName:a.split(" ")[1],about:c.personalInfo.about,birthDate:c.personalInfo.birthDate,joinedDate:c.personalInfo.joinedDate,title:c.personalInfo.title,city:c.personalInfo.city},race:c.race,id:c.id,gender:c.gender,start:c.start,end:c.end,strengthInfo:n,email:c.loginDetails.user},t.next=15,y.post(g.default.path.register,r,!1);case 15:if(!(l=t.sent).err){t.next=20;break}return h(!0),v(l.error.message),t.abrupt("return");case 20:return M(!0),h(!1),t.next=24,y.post(g.default.path.loginMicrosft,c.loginDetails,!1);case 24:i=t.sent,localStorage.setItem("auth-token",i.token),localStorage.setItem("_id",i._id),localStorage.setItem("adminTag",i.adminTag),localStorage.setItem("repTag",i.repTag),setTimeout((function(){E({type:"LOGIN",payload:{user:c.loginDetails.user,token:c.loginDetails.token}})}),2e3),e("/");case 31:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get(g.default.path.getStrengths);case 2:t=e.sent,C([].concat.apply([],[t.strengths[0].strategicThinking,t.strengths[0].executing,t.strengths[0].influencing,t.strengths[0].relationshipBuilding]));case 4:case"end":return e.stop()}}),e)}))),[]),Object(k.jsx)("main",{className:"bg-white",children:Object(k.jsxs)("div",{className:"relative flex",children:[Object(k.jsx)("div",{className:"w-full md:w-1/2",children:Object(k.jsxs)("div",{className:"min-h-screen h-full flex flex-col after:flex-1",children:[Object(k.jsxs)("div",{className:"flex-1",children:[Object(k.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[Object(k.jsx)("img",{src:"https://i.ibb.co/fvGBWTW/c3-small-dark.png",width:"80",height:"80",alt:""})," "]}),Object(k.jsx)("div",{className:"px-4 pt-12 pb-8",children:Object(k.jsx)("div",{className:"max-w-md mx-auto w-full",children:Object(k.jsxs)("div",{className:"relative",children:[Object(k.jsx)("div",{className:"absolute left-0 top-1/2 -mt-px w-full h-0.5 bg-zinc-200","aria-hidden":"true"}),Object(k.jsxs)("ul",{className:"relative flex justify-between w-full",children:[Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-01",children:"1"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-02",children:"2"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-03",children:"3"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-04",children:"4"})})]})]})})})]}),Object(k.jsx)("div",{className:"px-4 py-8",children:Object(k.jsxs)("div",{className:"max-w-md mx-auto",children:[Object(k.jsx)("h1",{className:"text-3xl text-zinc-800 font-bold mb-6",children:"Strength Finder"}),Object(k.jsxs)("form",{children:[Object(k.jsx)("div",{className:"space-y-4 mb-8",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"strength1",children:"Please Select Your Strengths"}),Object(k.jsx)($.Multiselect,{className:" w-full mt-2",id:"strengths",name:"strengths",showArrow:!0,options:S,value:S,isObject:!1,selectionLimit:5,onKeyPressFn:function(e){"Enter"===e.key&&e.preventDefault()},onSelect:function(e){r(e)},onRemove:function(e){r(e)}})]})}),Object(k.jsxs)("div",{className:"pb-5",children:[Object(k.jsx)(q,{type:"error",open:x,setOpen:h,children:f}),Object(k.jsx)(q,{type:"success",open:A,setOpen:M,children:"You have successfully registered"})]}),Object(k.jsxs)("div",{className:"flex items-center justify-between",children:[Object(k.jsx)(l.b,{className:"text-sm underline hover:no-underline",to:"/onboarding-03",children:"<- Back"}),Object(k.jsx)("a",{className:"cursor-pointer btn bg-rose-500 hover:bg-rose-600 text-white ml-auto",onKeyPress:function(e){"Enter"===e.key&&e.preventDefault()},onClick:I,children:"Register ->"})]})]})]})})]})}),Object(k.jsx)("div",{className:"hidden md:block absolute top-0 bottom-0 right-0 md:w-1/2","aria-hidden":"true",children:Object(k.jsx)("img",{className:"object-cover object-center w-full h-full",src:U,width:"760",height:"1024",alt:"Onboarding"})})]})})},ce=function(e){return e.length<5?{valid:!1,msg:"At least 5 strengths are required"}:e.length>5?{valid:!1,msg:"A max of 5 strengths are required"}:{valid:!0}},ae=s(139),ne=s.n(ae);var re=function(){var e=Object(d.l)(),t=Object(c.useState)({email:"",password:""}),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)(!1),j=Object(i.a)(r,2),b=j[0],x=j[1],h=Object(c.useState)(""),p=Object(i.a)(h,2),O=p[0],f=p[1],v=Object(c.useState)(!1),N=Object(i.a)(v,2),w=N[0],S=N[1],C=Object(c.useState)(!1),z=Object(i.a)(C,2),D=z[0],A=z[1],M=Object(c.useState)(!1),E=Object(i.a)(M,2),I=E[0],T=E[1],L=function(e){return n((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.id,e.target.value))}))},P=function(){var t=Object(u.a)(Object(m.a)().mark((function t(){var s,c,n;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return T(!0),t.next=3,le(a);case 3:if((s=t.sent).valid){t.next=9;break}return x(!0),f(s.msg),T(!1),t.abrupt("return");case 9:return t.next=11,localStorage.getItem("onboarding");case 11:return c=t.sent,c=Object(o.a)(Object(o.a)({},JSON.parse(c)),a),t.next=15,y.post(g.default.path.register,c,!1);case 15:if(!(n=t.sent).err){t.next=21;break}return x(!0),f(n.msg),T(!1),t.abrupt("return");case 21:A(!0),T(!1),setTimeout((function(){e("/signin")}),2e3);case 24:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(k.jsx)("main",{className:"bg-white",children:Object(k.jsxs)("div",{className:"relative flex",children:[Object(k.jsx)("div",{className:"w-full md:w-1/2",children:Object(k.jsxs)("div",{className:"min-h-screen h-full flex flex-col after:flex-1",children:[Object(k.jsxs)("div",{className:"flex-1",children:[Object(k.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 sm:px-6 lg:px-8",children:[Object(k.jsxs)(l.b,{className:"block",to:"/",children:[Object(k.jsx)("img",{src:"https://i.ibb.co/fvGBWTW/c3-small-dark.png",width:"80",height:"80",alt:""})," "]}),Object(k.jsxs)("div",{className:"text-sm",children:["Have an account?"," ",Object(k.jsx)(l.b,{className:"font-medium text-rose-500 hover:text-rose-600",to:"/signin",children:"Sign In"})]})]}),Object(k.jsx)("div",{className:"px-4 pt-12 pb-8",children:Object(k.jsx)("div",{className:"max-w-md mx-auto w-full",children:Object(k.jsxs)("div",{className:"relative",children:[Object(k.jsx)("div",{className:"absolute left-0 top-1/2 -mt-px w-full h-0.5 bg-zinc-200","aria-hidden":"true"}),Object(k.jsxs)("ul",{className:"relative flex justify-between w-full",children:[Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-01",children:"1"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-02",children:"2"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-03",children:"3"})}),Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"flex items-center justify-center w-6 h-6 rounded-full text-xs font-semibold bg-rose-500 text-white",to:"/onboarding-04",children:"4"})})]})]})})})]}),Object(k.jsx)("div",{className:"px-4 py-8",children:Object(k.jsxs)("div",{className:"max-w-md mx-auto",children:[Object(k.jsx)("h1",{className:"text-3xl text-zinc-800 font-bold mb-6",children:"Register"}),Object(k.jsxs)("form",{children:[Object(k.jsxs)("div",{className:"space-y-4 mb-8",children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"email",children:["Email Address ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsx)("input",{id:"email",className:"form-input w-full",type:"email",name:"email",onChange:L})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"password",children:"Password"}),Object(k.jsxs)("div",{className:"flex items-center relative",children:[Object(k.jsx)("input",{id:"password",className:"form-input w-full -mr-10",type:w?"text":"password",autoComplete:"on",onChange:L}),Object(k.jsx)("div",{className:"absolute right-1 px-1 mr-2 rounded rounded-ful bg-slate-200 text-slate-400 text-xs hover:bg-slate-100 cursor-pointer",onClick:function(){S(!w)},children:"show"})]})]})]}),Object(k.jsxs)("div",{className:"pb-5",children:[Object(k.jsx)(q,{type:"error",open:b,setOpen:x,children:O}),Object(k.jsx)(q,{type:"success",open:D,setOpen:A,children:"You have successfully registered"})]}),Object(k.jsxs)("div",{className:"flex items-center justify-between",children:[Object(k.jsx)(l.b,{className:"text-sm underline hover:no-underline",to:"/onboarding-04",children:"<- Back"}),Object(k.jsx)("a",{className:"cursor-pointer btn bg-rose-500 ".concat(!I&&" hover:bg-rose-600"," text-white ml-auto"),onClick:!I&&P,children:I?Object(k.jsx)(ne.a,{color:"white",size:20}):"Register"})]})]})]})})]})}),Object(k.jsx)("div",{className:"hidden md:block absolute top-0 bottom-0 right-0 md:w-1/2","aria-hidden":"true",children:Object(k.jsx)("img",{className:"object-cover object-center w-full h-full",src:U,width:"760",height:"1024",alt:"Onboarding"})})]})})},le=function(e){var t={email:"Email",password:"Password"};for(var s in e)if(""===e[s])return{valid:!1,msg:"".concat(t[s]," is required")};return{valid:!0}};var ie=function(){var e=Object(d.j)();return Object(c.useEffect)((function(){document.querySelector("html").style.scrollBehavior="auto",window.scroll({top:0}),document.querySelector("html").style.scrollBehavior=""}),[e.pathname]),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(d.c,{children:[Object(k.jsx)(d.a,{path:"/signin",element:Object(k.jsx)(S,{})}),Object(k.jsx)(d.a,{path:"/blank",element:Object(k.jsx)(H,{})}),Object(k.jsx)(d.a,{path:"/onboarding-01",element:Object(k.jsx)(_,{})}),Object(k.jsx)(d.a,{path:"/onboarding-02",element:Object(k.jsx)(V,{})}),Object(k.jsx)(d.a,{path:"/onboarding-03",element:Object(k.jsx)(Z,{})}),Object(k.jsx)(d.a,{path:"/onboarding-04",element:Object(k.jsx)(se,{})}),Object(k.jsx)(d.a,{path:"/onboarding-05",element:Object(k.jsx)(re,{})})]})})};var oe=function(e){var t=e.children,s=e.activecondition,a=Object(c.useState)(s),n=Object(i.a)(a,2),r=n[0],l=n[1];return Object(k.jsx)("li",{className:"px-3 py-2 rounded-sm mb-0.5 last:mb-0 ".concat(s&&"bg-zinc-900"),children:t((function(){l(!r)}),r)})};s.p,s.p,s.p;var de=function(e){var t=e.sidebarOpen,s=e.setSidebarOpen,n=Object(d.j)().pathname,r=Object(c.useRef)(null),o=Object(c.useRef)(null),j=localStorage.getItem("sidebar-expanded"),b=Object(c.useState)(null!==j&&"true"===j),x=Object(i.a)(b,2),h=x[0],p=x[1],O=Object(c.useState)(!1),f=Object(i.a)(O,2),v=f[0],N=f[1];Object(c.useEffect)((function(){var e=function(e){var c=e.target;o.current&&r.current&&t&&o.current.parentElement.id!==c.id&&r.current.parentElement.id!==c.id&&s(!1)};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(c.useEffect)((function(){var e=function(e){var c=e.keyCode;t&&27===c&&s(!1)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}})),Object(c.useEffect)((function(){localStorage.setItem("sidebar-expanded",h),h?document.querySelector("body").classList.add("sidebar-expanded"):document.querySelector("body").classList.remove("sidebar-expanded")}),[h]);var w=Object(c.useState)(!1),S=Object(i.a)(w,2),C=S[0],z=S[1],D=Object(c.useState)([]),A=Object(i.a)(D,2),M=A[0],E=A[1],I=Object(c.useState)(""),T=Object(i.a)(I,2),L=(T[0],T[1]);return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("patch"),"valid"==localStorage.getItem("repTag")&&N(!0),L(t),e.next=6,y.get(g.default.path.timesheet.month);case 6:s=e.sent,E(s.data),z(!0);case 9:case"end":return e.stop()}}),e)}))),[C]),Object(k.jsx)(k.Fragment,{children:C&&Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"fixed inset-0 bg-zinc-900 bg-opacity-30 z-40 lg:hidden lg:z-auto transition-opacity duration-200 ".concat(t?"opacity-100":"opacity-0 pointer-events-none"),"aria-hidden":"true"}),Object(k.jsxs)("div",{id:"sidebar",ref:o,className:"flex flex-col absolute z-40 left-0 top-0 lg:static lg:left-auto lg:top-auto lg:translate-x-0 transform h-screen overflow-y-scroll lg:overflow-y-auto no-scrollbar w-64 lg:w-20 lg:sidebar-expanded:!w-64 2xl:!w-64 shrink-0 bg-zinc-800 p-4 transition-all duration-200 ease-in-out ".concat(t?"translate-x-0":"-translate-x-64"),children:[Object(k.jsxs)("div",{className:"flex justify-between mb-10 pr-3 sm:px-2",children:[Object(k.jsxs)("button",{ref:r,className:"lg:hidden text-zinc-500 hover:text-zinc-400",onClick:function(){return s(!t)},"aria-controls":"sidebar","aria-expanded":t,children:[Object(k.jsx)("span",{className:"sr-only",children:"Close sidebar"}),Object(k.jsx)("svg",{className:"w-6 h-6 fill-current",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(k.jsx)("path",{d:"M10.7 18.7l1.4-1.4L7.8 13H20v-2H7.8l4.3-4.3-1.4-1.4L4 12z"})})]}),Object(k.jsx)(l.c,{end:!0,to:"/",className:"block",children:Object(k.jsx)("img",{src:"https://i.ibb.co/jMBgmsV/C3-light.png",alt:""})})]}),Object(k.jsx)("div",{className:"space-y-8",children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("h3",{className:"text-xs uppercase text-zinc-500 font-semibold pl-3",children:[Object(k.jsx)("span",{className:"hidden lg:block lg:sidebar-expanded:hidden 2xl:hidden text-center w-6","aria-hidden":"true",children:"\u2022\u2022\u2022"}),Object(k.jsx)("span",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:"Pages"})]}),Object(k.jsxs)("ul",{className:"mt-3",children:[Object(k.jsx)("li",{className:"px-3 py-2 rounded-sm mb-0.5 last:mb-0 ".concat("/"===n&&"bg-zinc-900"),children:Object(k.jsx)(l.c,{end:!0,to:"/",className:"block text-zinc-200 hover:text-white truncate transition duration-150 ".concat("/"===n&&"hover:text-zinc-200"),children:Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsxs)("svg",{className:"shrink-0 h-6 w-6",viewBox:"0 0 24 24",children:[Object(k.jsx)("path",{className:"fill-current text-zinc-500 \n                            ".concat("/"===n&&"text-zinc-400"),d:"M20 7a.75.75 0 01-.75-.75 1.5 1.5 0 00-1.5-1.5.75.75 0 110-1.5 1.5 1.5 0 001.5-1.5.75.75 0 111.5 0 1.5 1.5 0 001.5 1.5.75.75 0 110 1.5 1.5 1.5 0 00-1.5 1.5A.75.75 0 0120 7zM4 23a.75.75 0 01-.75-.75 1.5 1.5 0 00-1.5-1.5.75.75 0 110-1.5 1.5 1.5 0 001.5-1.5.75.75 0 111.5 0 1.5 1.5 0 001.5 1.5.75.75 0 110 1.5 1.5 1.5 0 00-1.5 1.5A.75.75 0 014 23z"}),Object(k.jsx)("path",{className:"fill-current text-zinc-300 \n                            ".concat("/"===n&&"text-zinc-200"),d:"M17 23a1 1 0 01-1-1 4 4 0 00-4-4 1 1 0 010-2 4 4 0 004-4 1 1 0 012 0 4 4 0 004 4 1 1 0 010 2 4 4 0 00-4 4 1 1 0 01-1 1zM7 13a1 1 0 01-1-1 4 4 0 00-4-4 1 1 0 110-2 4 4 0 004-4 1 1 0 112 0 4 4 0 004 4 1 1 0 010 2 4 4 0 00-4 4 1 1 0 01-1 1z"})]}),Object(k.jsx)("span",{className:"text-sm font-medium ml-3 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Profile"})]})})}),Object(k.jsx)("li",{className:"px-3 py-2 rounded-sm mb-0.5 last:mb-0 ".concat(n.includes("timesheet")&&"bg-zinc-900"),children:Object(k.jsx)(l.c,{end:!0,to:"/timesheet/".concat(M[0]._id),className:"block text-zinc-200 hover:text-white truncate transition duration-150 ".concat(n.includes("timesheet")&&"hover:text-zinc-200"),children:Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsxs)("svg",{className:"shrink-0 h-6 w-6",viewBox:"0 0 24 24",children:[Object(k.jsx)("path",{className:"fill-current text-zinc-600 ".concat(n.includes("timesheet")&&"text-zinc-500"),d:"M1 3h22v20H1z"}),Object(k.jsx)("path",{className:"fill-current text-zinc-400 ".concat(n.includes("timesheet")&&"text-zinc-300"),d:"M21 3h2v4H1V3h2V1h4v2h10V1h4v2Z"})]}),Object(k.jsx)("span",{className:"text-sm font-medium ml-3 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Timesheets"})]})})}),v&&Object(k.jsx)(oe,{activecondition:n.includes("approve"),children:function(e,t){return Object(k.jsxs)(a.a.Fragment,{children:[Object(k.jsxs)("a",{href:"#0",className:"block text-zinc-200 hover:text-white truncate transition duration-150 ".concat(n.includes("approve")&&"hover:text-zinc-200"),onClick:function(t){t.preventDefault(),h?e():p(!0)},children:[" ",Object(k.jsx)(l.c,{end:!0,to:"/approve",className:"block text-zinc-200 hover:text-white truncate transition duration-150 ".concat((n.includes("approve")||""===n)&&"hover:text-zinc-200"),children:Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"flex items-center justify-between",children:[Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsxs)("svg",{className:"shrink-0 h-6 w-6",viewBox:"0 0 24 24",children:[Object(k.jsx)("path",{className:"fill-current text-zinc-300 ".concat(n.includes("approve")&&"text-zinc-200"),d:"M13 6.068a6.035 6.035 0 0 1 4.932 4.933H24c-.486-5.846-5.154-10.515-11-11v6.067Z"}),Object(k.jsx)("path",{className:"fill-current text-zinc-500 ".concat(n.includes("approve")&&"text-zinc-400"),d:"M18.007 13c-.474 2.833-2.919 5-5.864 5a5.888 5.888 0 0 1-3.694-1.304L4 20.731C6.131 22.752 8.992 24 12.143 24c6.232 0 11.35-4.851 11.857-11h-5.993Z"}),Object(k.jsx)("path",{className:"fill-current text-zinc-600 ".concat(n.includes("approve")&&"text-zinc-500"),d:"M6.939 15.007A5.861 5.861 0 0 1 6 11.829c0-2.937 2.167-5.376 5-5.85V0C4.85.507 0 5.614 0 11.83c0 2.695.922 5.174 2.456 7.17l4.483-3.993Z"})]}),Object(k.jsx)("span",{className:"text-sm font-medium ml-3 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Management"})]})," ",Object(k.jsx)("div",{className:"flex shrink-0 ml-2",children:Object(k.jsx)("svg",{className:"w-3 h-3 shrink-0 ml-1 fill-current text-zinc-400 ".concat(t&&"transform rotate-180"),viewBox:"0 0 12 12",children:Object(k.jsx)("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"})})})]})})})]}),Object(k.jsx)("div",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:Object(k.jsx)("ul",{className:"pl-9 mt-1 ".concat(!t&&"hidden"),children:Object(k.jsxs)("li",{className:"mb-1 last:mb-0",children:[Object(k.jsx)(l.c,{end:!0,to:"/approve",className:function(e){return"block text-zinc-200 hover:text-zinc-200 transition duration-150 truncate "+(e.isActive?"!text-rose-500":"")},children:Object(k.jsx)("span",{className:"text-sm font-medium lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"My Projects"})}),Object(k.jsx)(l.c,{end:!0,to:"/leave/managers",className:function(e){return"block text-zinc-200 hover:text-zinc-200 transition duration-150 truncate "+(e.isActive?"!text-rose-500":"")},children:Object(k.jsx)("span",{className:"text-sm font-medium lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Leave Request"})})]})})})]})}})]})]})}),Object(k.jsxs)("div",{className:"mt-auto",children:[Object(k.jsx)("div",{className:"justify-end mt-auto text-center mb-0",children:Object(k.jsx)(l.c,{end:!0,to:"/settings/patchNotes",children:Object(k.jsx)("span",{className:"text-sm text-rose-500",children:"1.2.2"})})}),Object(k.jsx)("div",{className:"pt-3 hidden lg:inline-flex 2xl:hidden justify-end mt-auto",children:Object(k.jsx)("div",{className:"px-3 py-2",children:Object(k.jsxs)("button",{onClick:function(){return p(!h)},children:[Object(k.jsx)("span",{className:"sr-only",children:"Expand / collapse sidebar"}),Object(k.jsxs)("svg",{className:"w-6 h-6 fill-current sidebar-expanded:rotate-180",viewBox:"0 0 24 24",children:[Object(k.jsx)("path",{className:"text-zinc-400",d:"M19.586 11l-5-5L16 4.586 23.414 12 16 19.414 14.586 18l5-5H7v-2z"}),Object(k.jsx)("path",{className:"text-zinc-600",d:"M3 23H1V1h2z"})]})]})})})]})]})]})})},je=s(27),be=s(77),xe=s(440),me=["show","enter","enterStart","enterEnd","leave","leaveStart","leaveEnd","appear","unmountOnExit","tag","children"],ue=["show","appear"],he=a.a.createContext({parent:{}});function pe(e){var t=e.show,s=e.enter,c=void 0===s?"":s,n=e.enterStart,r=void 0===n?"":n,l=e.enterEnd,i=void 0===l?"":l,d=e.leave,j=void 0===d?"":d,b=e.leaveStart,x=void 0===b?"":b,m=e.leaveEnd,u=void 0===m?"":m,h=e.appear,p=e.unmountOnExit,O=e.tag,f=void 0===O?"div":O,v=e.children,g=Object(be.a)(e,me),N=c.split(" ").filter((function(e){return e.length})),w=r.split(" ").filter((function(e){return e.length})),y=i.split(" ").filter((function(e){return e.length})),S=j.split(" ").filter((function(e){return e.length})),C=x.split(" ").filter((function(e){return e.length})),z=u.split(" ").filter((function(e){return e.length})),D=p;function A(e,t){var s;t.length&&(s=e.classList).add.apply(s,Object(je.a)(t))}function M(e,t){var s;t.length&&(s=e.classList).remove.apply(s,Object(je.a)(t))}var E=a.a.useRef(null),I=f;return Object(k.jsx)(xe.a,{appear:h,nodeRef:E,unmountOnExit:D,in:t,addEndListener:function(e){E.current.addEventListener("transitionend",e,!1)},onEnter:function(){D||(E.current.style.display=null),A(E.current,[].concat(Object(je.a)(N),Object(je.a)(w)))},onEntering:function(){M(E.current,w),A(E.current,y)},onEntered:function(){M(E.current,[].concat(Object(je.a)(y),Object(je.a)(N)))},onExit:function(){A(E.current,[].concat(Object(je.a)(S),Object(je.a)(C)))},onExiting:function(){M(E.current,C),A(E.current,z)},onExited:function(){M(E.current,[].concat(Object(je.a)(z),Object(je.a)(S))),D||(E.current.style.display="none")},children:Object(k.jsx)(I,Object(o.a)(Object(o.a)({ref:E},g),{},{style:{display:D?null:"none"},children:v}))})}var Oe=function(e){var t=e.show,s=e.appear,a=Object(be.a)(e,ue),n=Object(c.useContext)(he).parent,r=function(){var e=Object(c.useRef)(!0);return Object(c.useEffect)((function(){e.current=!1}),[]),e.current}();return void 0===t?Object(k.jsx)(pe,Object(o.a)({appear:n.appear||!n.isInitialRender,show:n.show},a)):Object(k.jsx)(he.Provider,{value:{parent:{show:t,isInitialRender:r,appear:s}},children:Object(k.jsx)(pe,Object(o.a)({appear:s,show:t},a))})};s(329);var fe=function(e){var t=e.align,s=Object(c.useState)(!1),a=Object(i.a)(s,2),n=a[0],r=a[1],o=Object(c.useState)("Employee"),d=Object(i.a)(o,2),j=d[0],b=d[1],x=Object(h.b)().instance,m=Object(c.useRef)(null),u=Object(c.useRef)(null);return Object(c.useEffect)((function(){"valid"==localStorage.getItem("adminTag")&&b("Administrator");var e=function(e){var t=e.target;u.current&&(!n||u.current.contains(t)||m.current.contains(t)||r(!1))};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(c.useEffect)((function(){var e=function(e){var t=e.keyCode;n&&27===t&&r(!1)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}})),Object(k.jsxs)("div",{className:"relative inline-flex",children:[Object(k.jsxs)("button",{ref:m,className:"inline-flex justify-center items-center group","aria-haspopup":"true",onClick:function(){return r(!n)},"aria-expanded":n,children:[Object(k.jsx)("img",{className:"w-10 rounded-full pt-1",src:"https://i.ibb.co/fvGBWTW/c3-small-dark.png",alt:"User"}),Object(k.jsx)("div",{className:"flex items-center truncate",children:Object(k.jsx)("span",{className:"truncate ml-2 text-sm font-medium group-hover:text-zinc-800",children:"Convergenc3"})})]}),Object(k.jsx)(Oe,{className:"origin-top-right z-10 absolute top-full min-w-44 bg-white border border-zinc-200 py-1.5 rounded shadow-lg overflow-hidden mt-1 ".concat("right"===t?"right-0":"left-0"),show:n,enter:"transition ease-out duration-200 transform",enterStart:"opacity-0 -translate-y-2",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-out duration-200",leaveStart:"opacity-100",leaveEnd:"opacity-0",children:Object(k.jsxs)("div",{ref:u,onFocus:function(){return r(!0)},onBlur:function(){return r(!1)},children:[Object(k.jsxs)("div",{className:"pt-0.5 pb-2 px-3 mb-1 border-b border-zinc-200",children:[Object(k.jsx)("div",{className:"font-medium text-zinc-800",children:"Convergenc3"}),Object(k.jsx)("div",{className:"text-xs text-zinc-500 italic",children:j})]}),Object(k.jsx)("ul",{children:Object(k.jsx)("li",{children:Object(k.jsx)(l.b,{className:"font-medium text-sm text-rose-500 hover:text-rose-600 flex items-center py-1 px-3",to:"/signin",onClick:function(){localStorage.clear(),x.logoutPopup({postLogoutRedirectUri:"/signin",mainWindowRedirectUri:"/signin"}),r(!n)},children:"Sign Out"})})})]})})]})},ve=s.p+"static/media/backArrow.d45b8a7a.svg";var ge=function(e){var t=e.sidebarOpen,s=e.setSidebarOpen,a=e.backbutton,n=Object(c.useRef)(null),r=Object(d.l)(),l=Object(c.useState)(!1),o=Object(i.a)(l,2),j=o[0];return o[1],Object(k.jsx)("header",{className:"sticky top-0 bg-white border-b border-zinc-200 z-30",children:Object(k.jsx)("div",{className:"px-4 sm:px-6 lg:px-8",children:Object(k.jsxs)("div",{className:"flex items-center justify-between h-16 -mb-px",children:[a?Object(k.jsx)("div",{children:Object(k.jsx)("button",{onClick:function(){return r(-1)},children:Object(k.jsx)("img",{src:ve,width:"15",height:"15",alt:"backArrow"})})}):Object(k.jsx)("div",{}),Object(k.jsx)("div",{className:"flex",children:Object(k.jsxs)("button",{className:"text-zinc-500 hover:text-zinc-600 lg:hidden","aria-controls":"sidebar","aria-expanded":t,onClick:function(){return s(!t)},children:[Object(k.jsx)("span",{className:"sr-only",children:"Open sidebar"}),Object(k.jsxs)("svg",{className:"w-6 h-6 fill-current",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[Object(k.jsx)("rect",{x:"4",y:"5",width:"16",height:"2"}),Object(k.jsx)("rect",{x:"4",y:"11",width:"16",height:"2"}),Object(k.jsx)("rect",{x:"4",y:"17",width:"16",height:"2"})]})]})}),Object(k.jsxs)("div",{className:"flex items-center space-x-3",children:[Object(k.jsx)("button",{ref:n,className:"inline-flex justify-center items-center group","aria-haspopup":"true",onClick:function(){return r("/settings/account")},"aria-expanded":j,children:Object(k.jsx)("span",{className:"inline-flex justify-center ",class:"iconify","data-icon":"ci:settings-filled"})}),Object(k.jsx)("hr",{className:"w-px h-6 bg-zinc-200 mx-3"}),Object(k.jsx)(fe,{align:"right"})]})]})})})};s.p,s.p,s.p;var Ne=function(e){var t=e.sidebarOpen,s=e.setSidebarOpen,n=Object(c.useContext)(I),r=n.globalClients,o=n.setClients,j=Object(d.j)().pathname,b=Object(c.useRef)(null),x=Object(c.useRef)(null),h=(localStorage.getItem("sidebar-expanded"),Object(c.useState)(!0)),p=Object(i.a)(h,2),O=p[0],f=p[1],v=Object(c.useState)(!1),N=Object(i.a)(v,2),w=N[0],S=N[1],C=a.a.useContext(Jc).dispatch,z=Object(d.l)(),D=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),C({type:"LOGOUT"}),z("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){var e=function(e){var c=e.target;x.current&&b.current&&(!t||x.current.contains(c)||b.current.contains(c)||s(!1))};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(c.useEffect)((function(){var e=function(e){var c=e.keyCode;t&&27===c&&s(!1)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}})),Object(c.useEffect)((function(){localStorage.setItem("sidebar-expanded",O),O?document.querySelector("body").classList.add("sidebar-expanded"):document.querySelector("body").classList.remove("sidebar-expanded")}),[O]);var M=Object(c.useState)(!1),E=Object(i.a)(M,2),T=E[0],L=E[1],P=Object(c.useState)({}),F=Object(i.a)(P,2),B=(F[0],F[1]),R=Object(c.useState)([]),H=Object(i.a)(R,2),Y=H[0],U=H[1],_=Object(c.useState)(""),q=Object(i.a)(_,2),V=(q[0],q[1]);return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t,s,c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("repTag"),s=localStorage.getItem("patch"),"valid"==t&&S(!0),V(s),e.next=6,y.get(g.default.path.clients.getAll);case 6:return c=e.sent,o(c),e.next=10,y.get(g.default.path.timesheet.month);case 10:a=e.sent,U(a.data),B({clients:c}),L(!0);case 14:case"end":return e.stop()}}),e)}))),[T]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:D();case 1:case"end":return e.stop()}}),e)}))),[y]),Object(k.jsx)(k.Fragment,{children:T&&Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"fixed inset-0 bg-zinc-900 bg-opacity-30 z-40 lg:hidden lg:z-auto transition-opacity duration-200 ".concat(t?"opacity-100":"opacity-0 pointer-events-none"),"aria-hidden":"true"}),Object(k.jsxs)("div",{id:"sidebar",ref:x,className:"flex flex-col absolute z-40 left-0 top-0 lg:static lg:left-auto lg:top-auto lg:translate-x-0 transform h-screen overflow-y-scroll lg:overflow-y-auto no-scrollbar w-64 lg:w-20 lg:sidebar-expanded:!w-64 2xl:!w-64 shrink-0 bg-zinc-800 p-4 transition-all duration-200 ease-in-out ".concat(t?"translate-x-0":"-translate-x-64"),children:[Object(k.jsxs)("div",{className:"flex justify-between mb-10 pr-3 sm:px-2",children:[Object(k.jsxs)("button",{ref:b,className:"lg:hidden text-zinc-500 hover:text-zinc-400",onClick:function(){return s(!t)},"aria-controls":"sidebar","aria-expanded":t,children:[Object(k.jsx)("span",{className:"sr-only",children:"Close sidebar"}),Object(k.jsx)("svg",{className:"w-6 h-6 fill-current",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(k.jsx)("path",{d:"M10.7 18.7l1.4-1.4L7.8 13H20v-2H7.8l4.3-4.3-1.4-1.4L4 12z"})})]}),Object(k.jsx)("span",{className:"hidden lg:block lg:sidebar-expanded:hidden 2xl:hidden text-center w-6","aria-hidden":"true",children:Object(k.jsx)("img",{className:"w-10 rounded-full pt-1",src:"https://i.ibb.co/fvGBWTW/c3-small-dark.png",width:"64",height:"32",alt:"User"})}),Object(k.jsx)("span",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:Object(k.jsx)(l.c,{end:!0,to:"/",className:"block",children:Object(k.jsx)("img",{src:"https://i.ibb.co/jMBgmsV/C3-light.png",alt:""})})})]}),Object(k.jsx)("div",{className:"space-y-8",children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("h3",{className:"text-xs uppercase text-zinc-500 font-semibold pl-3",children:[Object(k.jsx)("span",{className:"hidden lg:block lg:sidebar-expanded:hidden 2xl:hidden text-center w-6","aria-hidden":"true",children:"\u2022\u2022\u2022"}),Object(k.jsx)("span",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:"Pages"})]}),Object(k.jsxs)("ul",{className:"mt-3",children:[Object(k.jsx)("li",{className:"px-3 py-2 rounded-sm mb-0.5 last:mb-0 ".concat("/"===j&&"bg-zinc-900"),children:Object(k.jsx)(l.c,{end:!0,to:"/",className:"block text-zinc-200 hover:text-white truncate transition duration-150 ".concat("/"===j&&"hover:text-zinc-200"),children:Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsxs)("svg",{className:"shrink-0 h-6 w-6",viewBox:"0 0 24 24",children:[Object(k.jsx)("path",{className:"fill-current text-zinc-500 \n                            ".concat("/"===j&&"text-zinc-400"),d:"M20 7a.75.75 0 01-.75-.75 1.5 1.5 0 00-1.5-1.5.75.75 0 110-1.5 1.5 1.5 0 001.5-1.5.75.75 0 111.5 0 1.5 1.5 0 001.5 1.5.75.75 0 110 1.5 1.5 1.5 0 00-1.5 1.5A.75.75 0 0120 7zM4 23a.75.75 0 01-.75-.75 1.5 1.5 0 00-1.5-1.5.75.75 0 110-1.5 1.5 1.5 0 001.5-1.5.75.75 0 111.5 0 1.5 1.5 0 001.5 1.5.75.75 0 110 1.5 1.5 1.5 0 00-1.5 1.5A.75.75 0 014 23z"}),Object(k.jsx)("path",{className:"fill-current text-zinc-300 ".concat("/"===j&&"text-zinc-200"),d:"M17 23a1 1 0 01-1-1 4 4 0 00-4-4 1 1 0 010-2 4 4 0 004-4 1 1 0 012 0 4 4 0 004 4 1 1 0 010 2 4 4 0 00-4 4 1 1 0 01-1 1zM7 13a1 1 0 01-1-1 4 4 0 00-4-4 1 1 0 110-2 4 4 0 004-4 1 1 0 112 0 4 4 0 004 4 1 1 0 010 2 4 4 0 00-4 4 1 1 0 01-1 1z"})]}),Object(k.jsx)("span",{className:"text-sm font-medium ml-3 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Profile"})]})})}),Object(k.jsx)(oe,{activecondition:j.endsWith("/dashboard"),children:function(e,t){return Object(k.jsxs)(a.a.Fragment,{children:[Object(k.jsxs)("a",{href:"#0",className:"block text-zinc-200 hover:text-white truncate transition duration-150 ".concat("/dashboard"===j&&"hover:text-zinc-200"),onClick:function(t){t.preventDefault(),O?e():f(!0)},children:[" ",Object(k.jsx)(l.c,{end:!0,to:"/dashboard",className:"block text-zinc-200 hover:text-white truncate transition duration-150 ".concat("/dashboard"===j&&"hover:text-zinc-200"),children:Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"flex items-center justify-between",children:[Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsxs)("svg",{className:"shrink-0 h-6 w-6",viewBox:"0 0 24 24",children:[Object(k.jsx)("path",{className:"fill-current text-zinc-400 ".concat(("/dashboard"===j||j.includes("dashboard"))&&"!text-zinc-500"),d:"M12 0C5.383 0 0 5.383 0 12s5.383 12 12 12 12-5.383 12-12S18.617 0 12 0z"}),Object(k.jsx)("path",{className:"fill-current text-zinc-600 ".concat(("/dashboard"===j||j.includes("dashboard"))&&"text-zinc-600"),d:"M12 3c-4.963 0-9 4.037-9 9s4.037 9 9 9 9-4.037 9-9-4.037-9-9-9z"}),Object(k.jsx)("path",{className:"fill-current text-zinc-400 ".concat(("/dashboard"===j||j.includes("dashboard"))&&"text-zinc-200"),d:"M12 15c-1.654 0-3-1.346-3-3 0-.462.113-.894.3-1.285L6 6l4.714 3.301A2.973 2.973 0 0112 9c1.654 0 3 1.346 3 3s-1.346 3-3 3z"})]}),Object(k.jsx)("span",{className:"text-sm font-medium ml-3 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Dashboard"})]})," ",Object(k.jsx)("div",{className:"flex shrink-0 ml-2",children:Object(k.jsx)("svg",{className:"w-3 h-3 shrink-0 ml-1 fill-current text-zinc-400 ".concat(t&&"transform rotate-180"),viewBox:"0 0 12 12",children:Object(k.jsx)("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"})})})]})})})]}),Object(k.jsx)("div",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:Object(k.jsx)("ul",{className:"pl-9 mt-1 ".concat(!t&&"hidden"),children:Object(k.jsxs)("li",{className:"mb-1 last:mb-0",children:[Object(k.jsx)(l.c,{end:!0,to:"/analytics",className:function(e){return"block text-zinc-200 hover:text-zinc-200 transition duration-150 truncate "+(e.isActive?"!text-rose-500":"")},children:Object(k.jsx)("span",{className:"text-sm font-medium lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Employees"})}),Object(k.jsx)(l.c,{end:!0,to:"/managers",className:function(e){return"block text-zinc-200 hover:text-zinc-200 transition duration-150 truncate "+(e.isActive?"!text-rose-500":"")},children:Object(k.jsx)("span",{className:"text-sm font-medium lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Managers"})}),Object(k.jsx)(l.c,{end:!0,to:"/projects",className:function(e){return"block text-zinc-200 hover:text-zinc-200 transition duration-150 truncate "+(e.isActive?"!text-rose-500":"")},children:Object(k.jsx)("span",{className:"text-sm font-medium lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Projects"})})]})})})]})}}),Object(k.jsx)("li",{className:"px-3 py-2 rounded-sm mb-0.5 last:mb-0 ".concat(j.includes("timesheet")&&"bg-zinc-900"),children:Object(k.jsx)(l.c,{end:!0,to:"/timesheet/".concat(Y[0]._id),className:"block text-zinc-200 hover:text-white truncate transition duration-150 ".concat(j.includes("timesheet")&&"text-rose-500 hover:text-zinc-200"),children:Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsxs)("svg",{className:"shrink-0 h-6 w-6",viewBox:"0 0 24 24",children:[Object(k.jsx)("path",{className:"fill-current text-zinc-600 ".concat(j.includes("timesheet")&&"text-zinc-500"),d:"M1 3h22v20H1z"}),Object(k.jsx)("path",{className:"fill-current text-zinc-400 ".concat(j.includes("timesheet")&&"text-zinc-300"),d:"M21 3h2v4H1V3h2V1h4v2h10V1h4v2Z"})]}),Object(k.jsx)("span",{className:"text-sm font-medium ml-3 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Timesheets"})]})})}),Object(k.jsx)(oe,{activecondition:j.includes("clients"),children:function(e,t){return Object(k.jsxs)(a.a.Fragment,{children:[Object(k.jsxs)("a",{href:"#0",className:"block text-zinc-200 hover:text-white truncate transition duration-150 ".concat(("/"===j||j.includes("clients"))&&"hover:text-zinc-200"),onClick:function(t){t.preventDefault(),O?e():f(!0)},children:[" ",Object(k.jsx)(l.c,{end:!0,to:"/clients/all",className:"block text-zinc-200 hover:text-zinc-200 transition duration-150 truncate ",children:Object(k.jsxs)("div",{className:"flex items-center justify-between",children:[Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsxs)("svg",{className:"shrink-0 h-6 w-6",viewBox:"0 0 24 24",children:[Object(k.jsx)("path",{className:"fill-current text-zinc-600 \n                                      ".concat(j.includes("clients")||j.includes("projects")&&"text-zinc-500"),d:"M18.974 8H22a2 2 0 012 2v6h-2v5a1 1 0 01-1 1h-2a1 1 0 01-1-1v-5h-2v-6a2 2 0 012-2h.974zM20 7a2 2 0 11-.001-3.999A2 2 0 0120 7zM2.974 8H6a2 2 0 012 2v6H6v5a1 1 0 01-1 1H3a1 1 0 01-1-1v-5H0v-6a2 2 0 012-2h.974zM4 7a2 2 0 11-.001-3.999A2 2 0 014 7z"}),Object(k.jsx)("path",{className:"fill-current text-zinc-400 \n                                      ".concat(j.includes("clients")||j.includes("projects")&&"text-zinc-300"),d:"M12 6a3 3 0 110-6 3 3 0 010 6zm2 18h-4a1 1 0 01-1-1v-6H6v-6a3 3 0 013-3h6a3 3 0 013 3v6h-3v6a1 1 0 01-1 1z"})]}),Object(k.jsx)("span",{className:"text-sm font-medium ml-3 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Clients"})]}),Object(k.jsx)("div",{className:"flex shrink-0 ml-2",children:Object(k.jsx)("svg",{className:"w-3 h-3 shrink-0 ml-1 fill-current text-zinc-400 ".concat(t&&"transform rotate-180"),viewBox:"0 0 12 12",children:Object(k.jsx)("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"})})})]})})]}),Object(k.jsx)("div",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:Object(k.jsxs)("ul",{className:"pl-9 mt-1 ".concat(!t&&"hidden"),children:[Object(k.jsx)("li",{className:"mb-1 last:mb-0"}),r.map((function(e){return Object(k.jsx)("li",{className:"mb-1 last:mb-0",children:Object(k.jsx)(l.c,{end:!0,to:"/clients/".concat(e._id,"/projects"),className:function(t){var s=t.isActive;return"block text-zinc-400 hover:text-zinc-200 transition duration-150 truncate "+(j.includes(e._id)||s?"!text-rose-500":"")},children:Object(k.jsx)("span",{className:"text-sm font-medium lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:e.clientName})})},e._id)}))]})})]})}}),w&&Object(k.jsx)(oe,{activecondition:j.includes("approve"),children:function(e,t){return Object(k.jsxs)(a.a.Fragment,{children:[Object(k.jsxs)("a",{href:"#0",className:"block text-zinc-200 hover:text-white truncate transition duration-150 ".concat(j.includes("approve")&&"hover:text-zinc-200"),onClick:function(t){t.preventDefault(),O?e():f(!0)},children:[" ",Object(k.jsx)(l.c,{end:!0,to:"/approve",className:"block text-zinc-200 hover:text-white truncate transition duration-150 ".concat((j.includes("approve")||""===j)&&"hover:text-zinc-200"),children:Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"flex items-center justify-between",children:[Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsxs)("svg",{className:"shrink-0 h-6 w-6",viewBox:"0 0 24 24",children:[Object(k.jsx)("path",{className:"fill-current text-zinc-300 ".concat(j.includes("approve")&&"text-zinc-200"),d:"M13 6.068a6.035 6.035 0 0 1 4.932 4.933H24c-.486-5.846-5.154-10.515-11-11v6.067Z"}),Object(k.jsx)("path",{className:"fill-current text-zinc-500 ".concat(j.includes("approve")&&"text-zinc-400"),d:"M18.007 13c-.474 2.833-2.919 5-5.864 5a5.888 5.888 0 0 1-3.694-1.304L4 20.731C6.131 22.752 8.992 24 12.143 24c6.232 0 11.35-4.851 11.857-11h-5.993Z"}),Object(k.jsx)("path",{className:"fill-current text-zinc-600 ".concat(j.includes("approve")&&"text-zinc-500"),d:"M6.939 15.007A5.861 5.861 0 0 1 6 11.829c0-2.937 2.167-5.376 5-5.85V0C4.85.507 0 5.614 0 11.83c0 2.695.922 5.174 2.456 7.17l4.483-3.993Z"})]}),Object(k.jsx)("span",{className:"text-sm font-medium ml-3 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Management"})]})," ",Object(k.jsx)("div",{className:"flex shrink-0 ml-2",children:Object(k.jsx)("svg",{className:"w-3 h-3 shrink-0 ml-1 fill-current text-zinc-400 ".concat(t&&"transform rotate-180"),viewBox:"0 0 12 12",children:Object(k.jsx)("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"})})})]})})})]}),Object(k.jsx)("div",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:Object(k.jsx)("ul",{className:"pl-9 mt-1 ".concat(!t&&"hidden"),children:Object(k.jsxs)("li",{className:"mb-1 last:mb-0",children:[Object(k.jsx)(l.c,{end:!0,to:"/approve",className:function(e){return"block text-zinc-200 hover:text-zinc-200 transition duration-150 truncate "+(e.isActive?"!text-rose-500":"")},children:Object(k.jsx)("span",{className:"text-sm font-medium lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"My Projects"})}),Object(k.jsx)(l.c,{end:!0,to:"/leave/managers",className:function(e){return"block text-zinc-200 hover:text-zinc-200 transition duration-150 truncate "+(e.isActive?"!text-rose-500":"")},children:Object(k.jsx)("span",{className:"text-sm font-medium lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Manage Leave Requests"})})]})})})]})}}),Object(k.jsx)(oe,{activecondition:j.includes("events"),children:function(e,t){return Object(k.jsxs)(a.a.Fragment,{children:[Object(k.jsxs)("a",{href:"#0",className:"block text-zinc-200 hover:text-white truncate transition duration-150 ".concat(j.includes("events")&&"hover:text-zinc-200"),onClick:function(t){t.preventDefault(),O?e():f(!0)},children:[" ",Object(k.jsx)(l.c,{end:!0,to:"/events",className:"block text-zinc-200 hover:text-white truncate transition duration-150 ".concat((j.includes("events")||""===j)&&"hover:text-zinc-200"),children:Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"flex items-center justify-between ".concat(!O&&j.includes("/events")?"bg-zinc-900 rounded":""),children:[Object(k.jsxs)("div",{className:"flex items-center ",children:[Object(k.jsx)("svg",{className:"shrink-0 h-6 w-6",viewBox:"0 0 24 24",children:Object(k.jsx)("path",{className:"fill-current text-zinc-400 ".concat(("/approve"===j||j.includes("approve"))&&"text-zinc-200"),d:"M17.896,12.706v-0.005v-0.003L15.855,2.507c-0.046-0.24-0.255-0.413-0.5-0.413H4.899c-0.24,0-0.447,0.166-0.498,0.4L2.106,12.696c-0.008,0.035-0.013,0.071-0.013,0.107v4.593c0,0.28,0.229,0.51,0.51,0.51h14.792c0.28,0,0.51-0.229,0.51-0.51v-4.593C17.906,12.77,17.904,12.737,17.896,12.706 M5.31,3.114h9.625l1.842,9.179h-4.481c-0.28,0-0.51,0.229-0.51,0.511c0,0.703-1.081,1.546-1.785,1.546c-0.704,0-1.785-0.843-1.785-1.546c0-0.281-0.229-0.511-0.51-0.511H3.239L5.31,3.114zM16.886,16.886H3.114v-3.572H7.25c0.235,1.021,1.658,2.032,2.75,2.032c1.092,0,2.515-1.012,2.749-2.032h4.137V16.886z"})}),Object(k.jsx)("span",{className:"text-sm font-medium ml-3 lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Admin"})]})," ",Object(k.jsx)("div",{className:"flex shrink-0 ml-2",children:Object(k.jsx)("svg",{className:"w-3 h-3 shrink-0 ml-1 fill-current text-zinc-400 ".concat(t&&"transform rotate-180"),viewBox:"0 0 12 12",children:Object(k.jsx)("path",{d:"M5.9 11.4L.5 6l1.4-1.4 4 4 4-4L11.3 6z"})})})]})})})]}),Object(k.jsx)("div",{className:"lg:hidden lg:sidebar-expanded:block 2xl:block",children:Object(k.jsx)("ul",{className:"pl-9 mt-1 ".concat(!t&&"hidden"),children:Object(k.jsxs)("li",{className:"mb-1 last:mb-0",children:[Object(k.jsx)(l.c,{end:!0,to:"/events",className:function(e){return"block text-zinc-200 hover:text-zinc-200 transition duration-150 truncate "+(e.isActive?"!text-rose-500":"")},children:Object(k.jsx)("span",{className:"text-sm font-medium lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Events Managment"})}),Object(k.jsx)(l.c,{end:!0,to:"/leave/admin",className:function(e){return"block text-zinc-200 hover:text-zinc-200 transition duration-150 truncate "+(e.isActive?"!text-rose-500":"")},children:Object(k.jsx)("span",{className:"text-sm font-medium lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Manage Leave Requests"})}),Object(k.jsx)(l.c,{end:!0,to:"/formSubmissions",className:function(e){return"block text-zinc-200 hover:text-zinc-200 transition duration-150 truncate "+(e.isActive?"!text-rose-500":"")},children:Object(k.jsx)("span",{className:"text-sm font-medium lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"Form Submissions"})}),Object(k.jsx)(l.c,{end:!0,to:"/userManagement",className:function(e){return"block text-zinc-200 hover:text-zinc-200 transition duration-150 truncate "+(e.isActive?"!text-rose-500":"")},children:Object(k.jsx)("span",{className:"text-sm font-medium lg:opacity-0 lg:sidebar-expanded:opacity-100 2xl:opacity-100 duration-200",children:"User Management"})})]})})})]})}})]})]})}),Object(k.jsx)("div",{className:"justify-end mt-auto text-center mb-0",children:Object(k.jsx)(l.c,{end:!0,to:"settings/patchNotes",children:Object(k.jsx)("span",{className:"text-sm text-rose-500",children:"1.2.2"})})}),Object(k.jsx)("div",{className:"hidden lg:inline-flex 2xl:hidden  mt-0",children:Object(k.jsx)("div",{className:"px-3 py-2 justify-end",children:Object(k.jsxs)("button",{onClick:function(){return f(!O)},children:[Object(k.jsx)("span",{className:"sr-only",children:"Expand / collapse sidebar"}),Object(k.jsxs)("svg",{className:"w-6 h-6 fill-current sidebar-expanded:rotate-180",viewBox:"0 0 24 24",children:[Object(k.jsx)("path",{className:"text-zinc-400",d:"M19.586 11l-5-5L16 4.586 23.414 12 16 19.414 14.586 18l5-5H7v-2z"}),Object(k.jsx)("path",{className:"text-zinc-600",d:"M3 23H1V1h2z"})]})]})})})]})]})})},we=s(229),ye=s.n(we);var ke=function(e){var t=e.align,s=e.handleChange,c={mode:"range",static:!0,monthSelectorType:"static",dateFormat:"M j, Y",defaultDate:[new Date((new Date).getFullYear(),(new Date).getMonth(),1),new Date],prevArrow:'<svg class="fill-current" width="7" height="11" viewBox="0 0 7 11"><path d="M5.4 10.8l1.4-1.4-4-4 4-4L5.4 0 0 5.4z" /></svg>',nextArrow:'<svg class="fill-current" width="7" height="11" viewBox="0 0 7 11"><path d="M1.4 10.8L0 9.4l4-4-4-4L1.4 0l5.4 5.4z" /></svg>'};return Object(k.jsxs)("div",{className:"relative",children:[Object(k.jsx)(ye.a,{className:"form-input pl-9 text-slate-500 hover:text-slate-600 font-medium focus:border-slate-300 w-60",options:c,onChange:s,onRead:function(e,s,c){c.element.value=s.replace("to","-");var a=t||"";c.calendarContainer.classList.add("flatpickr-".concat(a))}}),Object(k.jsx)("div",{className:"absolute inset-0 right-auto flex items-center pointer-events-none",children:Object(k.jsx)("svg",{className:"w-4 h-4 fill-current text-slate-500 ml-3",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M15 2h-2V0h-2v2H9V0H7v2H5V0H3v2H1a1 1 0 00-1 1v12a1 1 0 001 1h14a1 1 0 001-1V3a1 1 0 00-1-1zm-1 12H2V6h12v8z"})})})]})};s(74);T.e.register(T.i,T.j,T.g,T.m,T.k,T.p,T.q);T.e.register(T.i,T.j,T.g,T.m,T.k,T.p,T.q);T.e.register(T.b,T.c,T.k,T.p,T.q,T.h);T.e.register(T.b,T.c,T.k,T.p,T.q,T.h);T.e.register(T.f,T.a,T.p,T.q);T.e.register(T.n,T.o,T.q,T.h);var Se=function(e){var t=Object(c.useState)(!1),s=Object(i.a)(t,2),a=s[0],n=s[1];return Object(k.jsxs)("tbody",{className:"text-sm divide-y divide-slate-100",children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"text-m text-left",children:function(){switch(e.employee.statusFlag){case"red":return Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5  bg-rose-100 text-rose-600",children:e.employee.name});case"orange":return Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5",style:{backgroundColor:"rgb(255 237 213)",color:"rgb(234 88 12)"},children:e.employee.name});case"yellow":return Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 bg-yellow-100 text-yellow-600",children:e.employee.name});case"green":return Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 bg-green-100 text-green-600",children:e.employee.name})}}()})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:e.employee.type})})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:e.employee.totalMonthHours})})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsxs)("div",{className:"font-medium text-m text-left",children:[" ",e.employee.utilization+"%"," "]})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"text-m text-left",children:function(){switch(e.employee.utilizationFlag){case"red":return Object(k.jsxs)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 bg-rose-100 text-rose-600",children:[e.employee.billableUtilization+"%"," "]});case"yellow":return Object(k.jsxs)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 bg-yellow-100 text-yellow-600",children:[e.employee.billableUtilization+"%"," "]});case"green":return Object(k.jsxs)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 bg-green-100 text-green-600",children:[e.employee.billableUtilization+"%"," "]})}}()})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap w-px",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{className:"text-zinc-400 hover:text-zinc-500 transform ".concat(a&&"rotate-180"),"aria-expanded":a,onClick:function(){return n(!a)},"aria-controls":e.employee._id,children:[Object(k.jsx)("span",{className:"sr-only",children:"Menu"}),Object(k.jsx)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",children:Object(k.jsx)("path",{d:"M16 20l-5.4-5.4 1.4-1.4 4 4 4-4 1.4 1.4z"})})]})})})]}),Object(k.jsx)("tr",{id:e.employee._id,role:"region",className:"".concat(!a&&"hidden"),children:Object(k.jsx)("td",{colSpan:"10",className:"px-2 first:pl-5 last:pr-5 py-3",children:Object(k.jsxs)("div",{className:" items-center bg-zinc-50 p-3 -mt-3",children:[Object(k.jsx)("div",{className:"overflow-x-auto",children:Object(k.jsxs)("table",{className:"table-auto w-full",children:[Object(k.jsx)("thead",{className:"text-xs uppercase text-slate-400 bg-slate-50 rounded-sm",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Project(s)"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Project Manager"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Project Hours"})})]})}),Object(k.jsxs)("tbody",{className:"text-sm divide-y divide-slate-100",children:[Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:e.employee.projectInfo.map((function(e,t){return Object(k.jsx)("div",{children:e.project.projectName},t)}))})})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:e.employee.projectInfo.map((function(e,t){return Object(k.jsx)("div",{children:e.project.businessRep.personalInfo.firstName+" "+e.project.businessRep.personalInfo.lastName},t)}))})})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:e.employee.projectInfo.map((function(e,t){return Object(k.jsx)("div",{children:e.totalHours},t)}))})})})]})]})})," "]})})})]})};var Ce,ze=function(e){return console.log("props"),console.log(e),console.log("employeesData"),console.log(e.employeesData),Object(k.jsxs)("div",{className:"col-span-full bg-white shadow-lg rounded-sm border border-slate-200",children:[Object(k.jsx)("header",{className:"px-5 py-4 border-b border-slate-100",children:Object(k.jsx)("h2",{className:"font-semibold text-slate-800",children:"Performance"})}),Object(k.jsx)("div",{className:"p-3",children:Object(k.jsx)("div",{className:"overflow-x-auto",children:Object(k.jsxs)("table",{className:"table-auto w-full",children:[Object(k.jsx)("thead",{className:"text-xs uppercase text-slate-400 bg-slate-50 rounded-sm",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Employee"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Title"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Total Hours"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Utilization"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Billable Utilization"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("span",{className:"sr-only",children:"Menu"})})]})}),(t=e.employeesData,""===e.searchTerm?t:t.filter((function(t){return""===e.searchTerm||t.name.toLowerCase().includes(e.searchTerm.toLowerCase())||""===e.searchTerm||t.type.toLowerCase().includes(e.searchTerm.toLowerCase())||t.name.toLowerCase().includes(e.searchTerm.toLowerCase())?t:void 0}))).map((function(e,t){return Object(k.jsx)(Se,{employee:e},t)}))]})})})]});var t},De=s(92),Ae=s(81),Me=Object(Ae.css)(Ce||(Ce=Object(De.a)(["\n  display: block;\n  margin-left: 50%;\n  margin-top: 20%;\n  width: 50%;\n  justifyContent: 'center',\n  alignItems:'center'\n  border-color: red;\n"])));var Ee=function(){return Object(k.jsx)("div",{className:"sweet-loading",children:Object(k.jsx)(ne.a,{color:"rgb(243,55,83)",css:Me,size:50})})};function Ie(e){var t=e.placeholder,s=e.setSearchTerm,c=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s(t.target.value);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("form",{className:"relative",children:[Object(k.jsx)("label",{htmlFor:"action-search",className:"sr-only",children:"Search"}),Object(k.jsx)("input",{id:"action-search",className:"form-input pl-9 focus:border-slate-300",type:"search",placeholder:t,onChange:c}),Object(k.jsx)("button",{className:"absolute inset-0 right-auto group","aria-label":"Search",disabled:!0,children:Object(k.jsxs)("svg",{className:"w-4 h-4 shrink-0 fill-current text-slate-400 group-hover:text-slate-500 ml-3 mr-2",viewBox:"0 0 16 16",xmlns:"http://www.w3.org/2000/svg",children:[Object(k.jsx)("path",{d:"M7 14c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7zM7 2C4.243 2 2 4.243 2 7s2.243 5 5 5 5-2.243 5-5-2.243-5-5-5z"}),Object(k.jsx)("path",{d:"M15.707 14.293L13.314 11.9a8.019 8.019 0 01-1.414 1.414l2.393 2.393a.997.997 0 001.414 0 .999.999 0 000-1.414z"})]})})]})}Ie.defaultProps={placeholder:"Search\u2026"};var Te=Ie;T.e.register(T.b,T.c,T.k,T.p,T.q,T.h,T.d);var Le=function(e){var t=e.data,s=e.width,n=e.height,r=Object(c.useRef)(null),l=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=r.current,s=new T.e(e,{type:"bar",data:t,options:{lineAt:500,layout:{padding:{top:12,bottom:16,left:20,right:20}},scales:{y:{grid:{drawBorder:!1},ticks:{maxTicksLimit:5,callback:function(e){return e}}}},plugins:{legend:{display:!1},tooltip:{callbacks:{title:function(){return!1},label:function(e){return"".concat(e.parsed.y)}}}},interaction:{intersect:!1,mode:"nearest"},animation:{duration:500},maintainAspectRatio:!1,resizeDelay:200},plugins:[{id:"htmlLegend",afterUpdate:function(e,t,s){var c=l.current;if(c){for(;c.firstChild;)c.firstChild.remove();e.options.plugins.legend.labels.generateLabels(e).forEach((function(t){var s=document.createElement("li");s.style.marginRight=F().theme.margin[4];var a=document.createElement("button");a.style.display="inline-flex",a.style.alignItems="center",a.style.opacity=t.hidden?".3":"",a.onclick=function(){e.setDatasetVisibility(t.datasetIndex,!e.isDatasetVisible(t.datasetIndex)),e.update()};var n=document.createElement("span");n.style.display="block",n.style.width=F().theme.width[3],n.style.height=F().theme.height[3],n.style.borderRadius=F().theme.borderRadius.full,n.style.marginRight=F().theme.margin[2],n.style.borderWidth="3px",n.style.borderColor=t.fillStyle,n.style.pointerEvents="none";var r=document.createElement("span");r.style.display="flex",r.style.alignItems="center";var l=document.createElement("span");l.style.color=F().theme.colors.slate[800],l.style.fontSize=F().theme.fontSize["3xl"][0],l.style.lineHeight=F().theme.fontSize["3xl"][1].lineHeight,l.style.fontWeight=F().theme.fontWeight.bold,l.style.marginRight=F().theme.margin[2],l.style.pointerEvents="none";var i=document.createElement("span");i.style.color=F().theme.colors.slate[500],i.style.fontSize=F().theme.fontSize.sm[0],i.style.lineHeight=F().theme.fontSize.sm[1].lineHeight;e.data.datasets[t.datasetIndex].data.reduce((function(e,t){return e+t}),0);var o=document.createTextNode(t.text);i.appendChild(o),s.appendChild(a),a.appendChild(n),a.appendChild(r),r.appendChild(l),r.appendChild(i),c.appendChild(s)}))}}}]});return function(){return s.destroy()}}),[]),Object(k.jsxs)(a.a.Fragment,{children:[Object(k.jsx)("div",{className:"px-5 py-3",children:Object(k.jsx)("ul",{ref:l,className:"flex flex-wrap"})}),Object(k.jsx)("div",{className:"grow",children:Object(k.jsx)("canvas",{ref:r,width:s,height:n})})]})};var Pe=function(e){var t,s,c,a,n,r,l=e.data,i={labels:["Managers","Non-Managers","Disruptive Tech"],datasets:[{label:"Utilization",data:[null===(t=l.managers)||void 0===t?void 0:t.averageUtilization,null===(s=l.nonManagers)||void 0===s?void 0:s.averageUtilization,null===(c=l.devs)||void 0===c?void 0:c.averageUtilization],backgroundColor:F().theme.colors.blue[400],hoverBackgroundColor:F().theme.colors.blue[500],barPercentage:.66,categoryPercentage:.66},{label:"Billable Utilization",data:[null===(a=l.managers)||void 0===a?void 0:a.averageBillable,null===(n=l.nonManagers)||void 0===n?void 0:n.averageBillable,null===(r=l.devs)||void 0===r?void 0:r.averageBillable],backgroundColor:F().theme.colors.indigo[500],hoverBackgroundColor:F().theme.colors.indigo[600],barPercentage:.66,categoryPercentage:.66}]};return Object(k.jsxs)("div",{className:"flex flex-col col-span-full xl:col-span-8 bg-white shadow-lg rounded-sm border border-slate-200",children:[Object(k.jsx)("header",{className:"px-5 py-4 border-b border-slate-100",children:Object(k.jsx)("h2",{className:"font-semibold text-slate-800",children:"Utilization Overview"})}),Object(k.jsx)(Le,{data:i,width:800,height:300})]})};var Fe=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),s=(t[0],t[1],Object(c.useState)(!0)),n=Object(i.a)(s,2),r=n[0],l=n[1],o=Object(c.useState)([]),j=Object(i.a)(o,2),b=j[0],x=j[1],h=a.a.useContext(Jc).dispatch,p=Object(c.useState)(""),O=Object(i.a)(p,2),f=O[0],v=O[1],N=Object(c.useState)([]),w=Object(i.a)(N,2),S=w[0],C=w[1],z=Object(c.useState)(""),D=Object(i.a)(z,2),M=D[0],E=D[1],I=Object(d.l)(),T=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),h({type:"LOGOUT"}),I("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function L(){return(L=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("change started"),l(!0),E(t.target.value),e.next=5,P(t.target.value);case 5:l(!1);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var P=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),T(),e.next=4,y.get("".concat(g.default.path.users.getAllEmployees,"/").concat(t));case 4:(s=e.sent).err||x(s),E(t),console.log(t),l(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,y.get("".concat(g.default.path.timesheet.month),!0);case 3:return t=(t=e.sent).data,C(t),e.next=8,P(t[0]._id);case 8:document.getElementById("monthPicker").value=t[0]._id;case 9:case"end":return e.stop()}}),e)}))),[]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:T();case 1:case"end":return e.stop()}}),e)}))),[y]),Object(k.jsx)("main",{children:r?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8",children:[Object(k.jsx)("div",{className:"mb-4 sm:mb-0 flex items-center",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Analytics"})}),Object(k.jsxs)("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2",children:[Object(k.jsx)("select",{id:"monthPicker",className:"form-select",value:M,onChange:function(e){return L.apply(this,arguments)},children:S.map((function(e,t){return Object(k.jsxs)("option",{value:e._id,children:[e.desc," "]},t)}))}),Object(k.jsx)(Te,{placeholder:"Search\u2026",setSearchTerm:v})]})]}),Object(k.jsxs)("div",{className:"pb-5 flex justify-between w-full",children:[Object(k.jsx)(Pe,{data:b&&b[1]}),Object(k.jsxs)("div",{className:"flex justify-starts align-end flex-col",style:{marginLeft:"100px"},children:[Object(k.jsx)("div",{class:"px-5 py-10 mb-3",children:Object(k.jsxs)("div",{class:"relative rounded-md border border-gray-600",children:[Object(k.jsxs)("div",{className:"p-3 flex flex-col items-center justify-around",children:[Object(k.jsx)("div",{className:"mt-3 rounded-full bg-green-100 text-green-600 px-2.5 py-0.5 font-medium text-sm w-full text-center",children:">3 Months"}),Object(k.jsx)("div",{className:"ml-3 mt-3 rounded-full  bg-yellow-100 text-yellow-600 px-2.5 py-0.5 font-medium text-sm w-full text-center",children:">2 and <3 Months"}),Object(k.jsx)("div",{className:"ml-3 mt-3 rounded-full px-2.5 py-0.5 font-medium text-sm w-full text-center",style:{backgroundColor:"rgb(255 237 213)",color:"rgb(234 88 12)"},children:">1 and <2 Months"}),Object(k.jsx)("div",{className:"ml-3 mt-3 rounded-full  bg-rose-100 text-rose-600 px-2.5 py-0.5 font-medium text-sm w-full text-center",children:"<1 Month"})]}),Object(k.jsx)("h2",{class:"absolute flex top-0 left-0 transform -translate-y-1/2",children:Object(k.jsx)("span",{class:"bg-gray-700 px-1 ml-2 text-sm font-medium",style:{backgroundColor:"#F1F5F9"},children:"Project Status (Employee)"})})]})}),Object(k.jsx)("div",{class:"px-5 py-10 mt-3",children:Object(k.jsxs)("div",{class:"relative rounded-md border border-gray-600",children:[Object(k.jsxs)("div",{className:"p-3 flex flex-col items-center justify-around",children:[Object(k.jsx)("div",{className:"mt-3 rounded-full bg-green-100 text-green-600 px-2.5 py-0.5 font-medium text-sm w-full text-center",children:"Above 80%"}),Object(k.jsx)("div",{className:"ml-3 mt-3 rounded-full  bg-yellow-100 text-yellow-600 px-2.5 py-0.5 font-medium text-sm w-full text-center",children:"Between 60% & 80%"}),Object(k.jsx)("div",{className:"ml-3 mt-3 rounded-full bg-rose-100 text-rose-600 px-2.5 py-0.5 font-medium text-sm w-full text-center",children:"Below 60%"})]}),Object(k.jsx)("h2",{class:"absolute flex top-0 left-0 transform -translate-y-1/2",children:Object(k.jsx)("span",{class:"bg-gray-700 px-1 ml-2 text-sm font-medium",style:{backgroundColor:"#F1F5F9"},children:"Billable Utilization"})})]})})]})]}),Object(k.jsx)("div",{className:"grid grid-cols-12 gap-6",children:Object(k.jsx)(ze,{employeesData:b&&b[0],searchTerm:f})})]})})},Be=s(56),Re=s.n(Be);var He=function(e){Object(c.useRef)(null);var t=Object(c.useState)([]),s=Object(i.a)(t,2),n=(s[0],s[1],Object(c.useState)(!1)),r=Object(i.a)(n,2),l=r[0],o=r[1],d=a.a.useContext(Jc).dispatch,j=Object(c.useState)(!0),b=Object(i.a)(j,2),x=(b[0],b[1],function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),d({type:"LOGOUT"}),navigateTo("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:x();case 1:case"end":return e.stop()}}),e)}))),[y]),console.log(e),Object(k.jsxs)("tbody",{className:"text-sm divide-y divide-slate-100",children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:e.manager.firstName+" "+e.manager.lastName})})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap w-px",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{className:"text-zinc-400 hover:text-zinc-500 transform ".concat(l&&"rotate-180"),"aria-expanded":l,onClick:function(){return o(!l)},"aria-controls":e._id,children:[Object(k.jsx)("span",{className:"sr-only",children:"Menu"}),Object(k.jsx)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",children:Object(k.jsx)("path",{d:"M16 20l-5.4-5.4 1.4-1.4 4 4 4-4 1.4 1.4z"})})]})})})]}),Object(k.jsx)("tr",{id:e._id,role:"region",className:"".concat(!l&&"hidden"),children:Object(k.jsx)("td",{colSpan:"10",className:"px-2 first:pl-5 last:pr-5 py-3",children:Object(k.jsxs)("div",{className:" items-center bg-indigo-100 p-3 -mt-3",children:[Object(k.jsx)("div",{className:"overflow-x-auto",children:Object(k.jsxs)("table",{className:"table-auto w-full",children:[Object(k.jsx)("thead",{className:"text-xs uppercase text-slate-400 bg-slate-50 rounded-sm",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Employee"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Projects"})})]})}),Object(k.jsxs)("tbody",{className:"text-sm divide-y divide-slate-100 bg-slate-50",children:[Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:e.manager.consultants.map((function(e){return Object(k.jsx)("div",{children:e.personalInfo.firstName+" "+e.personalInfo.lastName})}))})})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:e.manager.consultants.map((function(t){return console.log(e.consultants),Object(k.jsx)("div",{children:t.projects.map((function(e){return e.projectName+", "}))})}))})})})]})]})})," "]})})})]})};var Ye=function(e){return Object(k.jsxs)("div",{className:"col-span-full bg-white shadow-lg rounded-sm border border-slate-200",children:[Object(k.jsx)("header",{className:"px-5 py-4 border-b border-slate-100",children:Object(k.jsx)("h2",{className:"font-semibold text-slate-800",children:"Project Managers"})}),Object(k.jsx)("div",{className:"p-3",children:Object(k.jsx)("div",{className:"overflow-x-auto",children:Object(k.jsxs)("table",{className:"table-auto w-full",children:[Object(k.jsx)("thead",{className:"text-xs uppercase text-slate-400 bg-slate-50 rounded-sm",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Manager"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("span",{className:"sr-only",children:"Menu"})})]})}),(t=e.managersData,t.filter((function(t){return""==e.searchTerm?(console.log("Manager",t),t):t.firstName.toLowerCase().includes(e.searchTerm.toLowerCase())||t.lastName.toLowerCase().includes(e.searchTerm.toLowerCase())?t:void 0}))).map((function(e){return Object(k.jsx)(He,{manager:e})}))]})})})]});var t};var Ue=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),s=(t[0],t[1],Object(c.useState)(!0)),n=Object(i.a)(s,2),r=n[0],l=n[1],o=Object(c.useState)([]),j=Object(i.a)(o,2),b=j[0],x=j[1],h=a.a.useContext(Jc).dispatch,p=Object(c.useState)(""),O=Object(i.a)(p,2),f=O[0],v=O[1],N=Object(d.l)(),w=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),h({type:"LOGOUT"}),N("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,y.get(g.default.path.users.getAllManagers);case 3:t=e.sent,console.log(t.error),t.err||x(t),l(!1);case 7:case"end":return e.stop()}}),e)}))),[]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:w();case 1:case"end":return e.stop()}}),e)}))),[y]),Object(k.jsx)("main",{children:r?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8",children:[Object(k.jsx)("div",{className:"mb-4 sm:mb-0",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Managers"})}),Object(k.jsx)("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2",children:Object(k.jsx)(Te,{placeholder:"Search\u2026",setSearchTerm:v})})]}),Object(k.jsx)("div",{className:"grid grid-cols-12 gap-6",children:Object(k.jsx)(Ye,{managersData:b,searchTerm:f})})]})})},_e=s(167),qe=s(111);var Ve=function(e){var t=e.client;return Object(k.jsx)("div",{className:"flex flex-col  sm:col-span-6 xl:col-span-3 bg-white shadow-lg rounded-md",children:Object(k.jsxs)("div",{className:"px-5 pt-5",children:[Object(k.jsx)("h1",{className:"text-lg font-semibold text-slate-800 mb-2",children:null===t||void 0===t?void 0:t.clientName}),Object(k.jsx)("div",{className:"text-xs font-semibold text-slate-400 uppercase mb-1",children:"Hours"}),Object(k.jsx)("div",{className:"flex items-start",children:Object(k.jsx)("div",{className:"text-3xl font-bold text-slate-800 mr-2 pb-3",children:null===t||void 0===t?void 0:t.hours})})]})})};var We=function(e){var t=Object(c.useState)([]),s=Object(i.a)(t,2),n=s[0],r=s[1],l=Object(c.useRef)(null),o=Object(c.useState)([]),d=Object(i.a)(o,2),j=d[0],b=d[1],x=Object(c.useState)(!1),h=Object(i.a)(x,2),p=h[0],O=h[1],f=Object(c.useState)(!1),v=Object(i.a)(f,2),N=v[0],w=v[1],S=Object(c.useState)(!1),C=Object(i.a)(S,2),z=C[0],D=C[1],M=a.a.useContext(Jc).dispatch,E=Object(c.useState)(!0),I=Object(i.a)(E,2),T=I[0],L=I[1],P=Object(c.useState)({text:"A4",value:"size-a4"}),F=Object(i.a)(P,2),B=F[0],R=(F[1],function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),M({type:"LOGOUT"}),navigateTo("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}());function H(e,t){return e.user.personalInfo.lastName<t.user.personalInfo.lastName?-1:e.user.personalInfo.lastName>t.user.personalInfo.lastName?1:0}var Y=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s){var c,a,n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("".concat(g.default.path.projects.getProjectDetails,"/").concat(t._id,"/").concat(s));case 2:return c=e.sent,b(c),L(!0),e.next=7,y.get("".concat(g.default.path.timesheet.getTimesheetForProject,"/").concat(c.project._id,"/").concat(c.monthID._id));case 7:a=e.sent,n=[],a.timesheets.forEach((function(e){e.changed&&n.push(e)})),n.sort(H),r(n),L(!1);case 13:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),U=function(){var t=Object(u.a)(Object(m.a)().mark((function t(){return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return l.current.save(),t.next=3,y.patch("".concat(g.default.path.projects.setPdfStatus,"/").concat(e.selectedMonth,"/").concat(e.project._id));case 3:return t.sent,t.next=6,y.patch("".concat(g.default.path.projects.setPdfApproval,"/").concat(e.selectedMonth,"/").concat(e.project._id));case 6:t.sent,e.refreshClient(e.selectedMonth);case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)((function(){Y(e.project,e.selectedMonth)}),[p]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function t(){var s;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("".concat(g.default.path.projects.getPdfStatus,"/").concat(e.selectedMonth,"/").concat(e.project._id));case 2:s=t.sent,console.log("getDownloadedPDF-------------------------------------- ",s.downloaded),w(s.downloaded),D(!!s.approved&&s.approved),O(!1);case 7:case"end":return t.stop()}}),t)}))),[e.selectedMonth]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:R();case 1:case"end":return e.stop()}}),e)}))),[y]);var _=function(e){switch(e){case"true":return"bg-green-100 text-green-600";case"false":return"bg-red-100 text-red-600";default:return"bg-zinc-100 text-zinc-500"}};return Object(k.jsxs)("tbody",{className:"text-sm divide-y divide-slate-100",children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:e.client.client.clientName})})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:Object(k.jsx)("div",{children:e.project.projectName})})})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:Object(k.jsx)("div",{children:Re()(e.project.dateAdded).format("YYYY-MM-DD")})})})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800",children:Object(k.jsx)("div",{children:Re()(e.project.completionDate).format("YYYY-MM-DD")})})})}),Object(k.jsx)("td",{children:z?Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 ".concat(_("true")),children:"Yes"}):Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 ".concat(_("false")),children:"No"})}),Object(k.jsx)("td",{children:N?Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 ".concat(_("true")),children:"Yes"}):Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 ".concat(_("false")),children:"No"})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{className:"text-zinc-400 hover:text-zinc-500 transform ".concat(p&&"rotate-180"),"aria-expanded":p,onClick:function(t){O(!p),Y(e.project,e.selectedMonth)},"aria-controls":"description-".concat(e.client.client._id),children:[Object(k.jsx)("span",{className:"sr-only",children:"Menu"}),Object(k.jsx)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",children:Object(k.jsx)("path",{d:"M16 20l-5.4-5.4 1.4-1.4 4 4 4-4 1.4 1.4z"})})]})})})]}),Object(k.jsx)("tr",{id:"description-".concat(e.client.client._id),role:"region",className:"".concat(!p&&"hidden"),children:Object(k.jsx)("td",{colSpan:"10",className:"px-2 first:pl-5 last:pr-5 py-3",children:Object(k.jsxs)("div",{className:"flex-colum items-center bg-zinc-50 p-3 -mt-3",children:[n.map((function(e){"pending"===e.approval&&!1})),T?"PDF is loading. Please wait...":Object(k.jsxs)("div",{children:[" ",Object(k.jsx)("div",{children:Object(k.jsx)(te.a,{primary:!0,onClick:function(){return U()},children:"Export"})}),Object(k.jsx)("div",{className:"page-container hidden-on-narrow",children:Object(k.jsx)(qe.a,{ref:l,fileName:"Convergenc3_Timesheet_".concat(j.project.projectName,"/").concat(1===j.project.consultants.length?j.project.consultants[0].consultant.personalInfo.firstName+j.project.consultants[0].consultant.personalInfo.lastName+"_":"").concat(j.monthID.desc),paperSize:"A4",children:Object(k.jsx)("div",{className:"pdf-page ".concat(B.value),children:Object(k.jsxs)("div",{class:"p-5",children:[Object(k.jsxs)("div",{class:"flex justify-between m-auto items-center ",children:[Object(k.jsx)("img",{src:"https://i.ibb.co/Y3MH7k9/C3-Dark.png",alt:"Kendoka Company Logo",class:"w-40"})," ",Object(k.jsx)("div",{children:Object(k.jsx)("h3",{class:"font-bold text-lg",children:j.monthID.name})})]}),Object(k.jsx)("div",{class:"flex justify-between pt-5",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("h3",{class:"font-bold text-lg",children:j.project.client}),Object(k.jsx)("p",{class:"text-xs",children:j.project.projectName}),Object(k.jsx)("br",{}),Object(k.jsxs)("p",{class:"text-xs",children:["Summary:",Object(k.jsx)("div",{class:" pt-2 shadow-md rounded-md",children:Object(k.jsxs)("table",{class:"min-w-full",children:[Object(k.jsx)("thead",{class:"bg-gray-500",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{scope:"col",class:" px-3 text-xs font-medium tracking-wider text-left text-white uppercase ",children:"Employee"}),Object(k.jsx)("th",{scope:"col",class:" px-3 text-xs font-medium tracking-wider text-left text-white uppercase ",children:"Hours"})]})}),Object(k.jsx)("tbody",{children:j.project.consultants.map((function(e,t){return 0==e.hours?Object(k.jsx)("tr",{}):Object(k.jsxs)("tr",{class:"bg-white border-b ",children:[Object(k.jsxs)("td",{class:"py-2 px-3 text-xs font-medium text-gray-900 whitespace-nowrap ",children:[e.consultant.personalInfo.firstName," ",e.consultant.personalInfo.lastName]}),Object(k.jsx)("td",{class:"py-2 px-3 text-xs text-gray-500 whitespace-nowrap ",children:e.totalHours})]})}))})]})})]})]})}),Object(k.jsx)("div",{class:"flex pt-5 break-after-page",children:Object(k.jsx)("div",{class:"w-full",children:Object(k.jsx)("div",{class:"inline-block py-3 min-w-full align-middle",children:Object(k.jsx)("div",{class:" shadow-md rounded-md",children:Object(k.jsxs)("table",{class:"min-w-full",children:[Object(k.jsx)("thead",{class:"bg-gray-500 ",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{scope:"col",class:"py-2 pl-3  flex-initial w-[10%] text-xs text-center font-medium tracking-wider text-white uppercase ",children:"Date"}),Object(k.jsx)("th",{scope:"col",class:"py-2 pl-2 flex-initial w-[20%] text-xs font-medium tracking-wider text-left text-white uppercase ",children:"Consultant"}),Object(k.jsx)("th",{scope:"col",class:"py-2 px-3 flex-initial w-[10%] text-xs font-medium tracking-wider text-left text-white uppercase ",children:"Hours"}),Object(k.jsx)("th",{scope:"col",class:"py-2 pr-3 pl-2 flex-initial w-[55%] text-xs font-medium tracking-wider text-left text-white uppercase ",children:"Description"})]})}),Object(k.jsx)("tbody",{children:n.map((function(e,t){return Object(k.jsxs)("tr",{class:"bg-white border-b ",children:[Object(k.jsxs)("td",{class:"py-2 pl-3 pr-3 flex-initial w-[10%] text-xs text-center font-medium text-gray-900 whitespace-nowrap ",children:[e.day,"/",e.month,Object(k.jsx)("br",{}),e.dayName]}),Object(k.jsxs)("td",{class:"py-2 pl-2 flex-initial w-[20%] text-xs text-gray-500 whitespace-nowrap ",children:[e.user.personalInfo.firstName," ",e.user.personalInfo.lastName]}),Object(k.jsx)("td",{class:"py-2 pr-3 flex-initial w-[10%] text-xs text-center text-gray-500 whitespace-nowrap ",children:e.hours}),Object(k.jsx)("td",{class:"py-2 px-2 flex-initial w-[80%] text-xs text-gray-500 flex flex-wrap",children:e.desc})]})}))})]})})})})})]})})})})]})]})})})]})};var Ge=function(e){var t=Object(c.useState)({}),s=Object(i.a)(t,2),n=(s[0],s[1],Object(c.useState)([])),r=Object(i.a)(n,2),l=(r[0],r[1],Object(c.useRef)(null),Object(c.useState)(!0)),o=Object(i.a)(l,2),d=(o[0],o[1],Object(c.useState)("")),j=Object(i.a)(d,2),b=(j[0],j[1],Object(c.useState)(!1)),x=Object(i.a)(b,2),m=x[0],u=(x[1],a.a.useState(!1)),h=Object(i.a)(u,2);return h[0],h[1],Object(k.jsxs)("div",{className:"col-span-full bg-white shadow-lg rounded-sm border border-slate-200",children:[Object(k.jsx)("header",{className:"px-5 py-4 border-b border-slate-100",children:Object(k.jsx)("h2",{className:"font-semibold text-slate-800",children:"Performance"})}),Object(k.jsx)("div",{className:"p-3",children:Object(k.jsx)("div",{className:"overflow-x-auto",children:Object(k.jsxs)("table",{className:"table-auto w-full",children:[Object(k.jsx)("thead",{className:"text-xs uppercase text-slate-400 bg-slate-50 rounded-sm",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Client Name"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Project Name"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Project Start"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Project End"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Approved"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Downloaded"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left"})})]})}),e.clientsData.clientInfo.filter((function(t){return""==e.searchTerm||t.client.clientName.toLowerCase().includes(e.clientSearchTerm.toLowerCase())?t:void 0})).map((function(t){return t.projects.filter((function(t){if(t.projectName.toLowerCase().includes(e.projectSearchTerm.toLowerCase()))return t})).map((function(s){return Object(k.jsx)(We,{client:t,project:s,descriptionOpen:m,refreshClient:e.refreshClient,selectedMonth:e.selectedMonth,droppedTab:e.droppedTab,setDroppedTab:e.setDroppedTab})}))}))]})})})]})};var Je=function(e){var t=Object(c.useState)(!1),s=Object(i.a)(t,2),n=(s[0],s[1],Object(c.useState)(!0)),r=Object(i.a)(n,2),l=r[0],o=r[1],j=Object(c.useState)([]),b=Object(i.a)(j,2),x=b[0],h=b[1],p=Object(c.useState)([]),O=Object(i.a)(p,2),f=O[0],v=O[1],N=a.a.useContext(Jc).dispatch,w=Object(c.useState)(""),S=Object(i.a)(w,2),C=S[0],z=S[1],D=Object(c.useState)(""),M=Object(i.a)(D,2),E=M[0],I=M[1],T=Object(c.useState)([]),L=Object(i.a)(T,2),P=L[0],F=L[1],B=Object(c.useState)(""),R=Object(i.a)(B,2),H=R[0],Y=R[1],U=Object(d.l)(),_=(Object(d.n)().key,Object(d.n)().id,Object(d.n)().clientID,function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),N({type:"LOGOUT"}),U("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()),q=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),_(),e.next=4,y.get(g.default.path.clients.getAllClients);case 4:return s=e.sent,e.next=7,W(t);case 7:c=e.sent,v(c),h(s,"".concat(s.length)),Y(t),o(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function V(){return(V=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("change started"),o(!0),Y(t.target.value),e.next=5,W(t.target.value);case 5:s=e.sent,v(s),o(!1);case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function W(e){return G.apply(this,arguments)}function G(){return(G=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get(g.default.path.clients.getClientHours.concat("/".concat(t)),!0);case 2:return s=e.sent,console.log(s),e.abrupt("return",s);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("".concat(g.default.path.timesheet.month),!0);case 2:return t=(t=e.sent).data,F(t),e.next=7,q(t[0]._id);case 7:document.getElementById("monthPicker").value=t[0]._id,Y(t[0]._id);case 9:case"end":return e.stop()}}),e)}))),[]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_();case 1:case"end":return e.stop()}}),e)}))),[y]),Object(k.jsx)("main",{children:Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8",children:[Object(k.jsx)("div",{className:"mb-4 sm:mb-0",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Projects Analytics"})}),Object(k.jsxs)("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2",children:[Object(k.jsx)("select",{id:"monthPicker",className:"form-select",onChange:function(e){return V.apply(this,arguments)},children:P.map((function(e,t){return Object(k.jsxs)("option",{value:e._id,children:[e.desc," "]},t)}))}),Object(k.jsx)(Te,{placeholder:"Search Client\u2026",setSearchTerm:I})," ",Object(k.jsx)(Te,{placeholder:"Search Project\u2026",setSearchTerm:z})]})]}),l?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)(a.a.Fragment,{children:[Object(k.jsx)("div",{className:"grid grid-cols-12 gap-6 pb-6",children:f.map((function(e){return Object(k.jsx)(Ve,{client:e},e._id)}))}),Object(k.jsx)("div",{className:"grid grid-cols-12 gap-6",children:Object(k.jsx)(Ge,{clientsData:x,refreshClient:q,clientSearchTerm:E,projectSearchTerm:C,selectedMonth:H})})]})]})})};var Ke=function(e){var t=Object(c.useState)(!1),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)(!1),l=Object(i.a)(r,2),o=(l[0],l[1],Object(c.useRef)(null)),d=Object(c.useRef)(null),j=function(t){var s=t.target.name;"done"==t.target.name?s=!0:"check"==t.target.name&&(s=!1),t.target.checked?e.setSelectedOptions((function(e){return[].concat(Object(je.a)(e),[s])})):e.setSelectedOptions((function(e){return e.filter((function(e){return e!==s}))}))};return Object(c.useEffect)((function(){var e=function(e){var t=e.target;d.current&&(!a||d.current.contains(t)||o.current.contains(t)||n(!1))};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(c.useEffect)((function(){var e=function(e){var t=e.keyCode;a&&27===t&&n(!1)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}})),Object(k.jsxs)("div",{className:"relative inline-flex",children:[Object(k.jsxs)("button",{ref:o,className:"btn bg-white border-slate-200 hover:border-slate-300 text-slate-500 hover:text-slate-600","aria-haspopup":"true",onClick:function(){return n(!a)},"aria-expanded":a,children:[Object(k.jsx)("span",{className:"sr-only",children:"Filter"}),Object(k.jsx)("wbr",{}),Object(k.jsx)("svg",{className:"w-4 h-4 fill-current",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M9 15H7a1 1 0 010-2h2a1 1 0 010 2zM11 11H5a1 1 0 010-2h6a1 1 0 010 2zM13 7H3a1 1 0 010-2h10a1 1 0 010 2zM15 3H1a1 1 0 010-2h14a1 1 0 010 2z"})})]}),Object(k.jsx)(Oe,{show:a,tag:"div",className:"origin-top-right z-10 absolute top-full min-w-56 bg-white border border-slate-200 pt-1.5 rounded shadow-lg overflow-hidden mt-1 ".concat("right"===e.align?"right-0":"left-0"),enter:"transition ease-out duration-200 transform",enterStart:"opacity-0 -translate-y-2",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-out duration-200",leaveStart:"opacity-100",leaveEnd:"opacity-0",children:Object(k.jsxs)("div",{ref:d,children:[Object(k.jsx)("div",{className:"text-xs font-semibold text-slate-400 uppercase pt-1.5 pb-2 px-4",children:"Filters"}),Object(k.jsx)("ul",{className:"mb-4",children:e.filterOptions.map((function(e,t){return Object(k.jsx)("li",{className:"py-1 px-3",children:Object(k.jsxs)("label",{className:"flex items-center",children:[Object(k.jsx)("input",{type:"checkbox",id:t,name:e,className:"form-checkbox",onChange:j}),Object(k.jsx)("span",{className:"text-sm font-medium ml-2",children:e})]})},t)}))})]})})]})};var Xe=function(e){var t=e.children,s=e.id,a=e.modalOpen,n=e.setModalOpen,r=Object(c.useRef)(null);return Object(c.useEffect)((function(){}),[n]),Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Oe,{className:"fixed inset-0 bg-slate-900 bg-opacity-30 z-50 transition-opacity",show:a,enter:"transition ease-out duration-200",enterStart:"opacity-0",enterEnd:"opacity-100",leave:"transition ease-out duration-100",leaveStart:"opacity-100",leaveEnd:"opacity-0","aria-hidden":"true"}),Object(k.jsx)(Oe,{id:s,className:"fixed inset-0 z-50 overflow-hidden flex items-center my-4 justify-center transform px-4 sm:px-6",role:"dialog","aria-modal":"true",show:a,enter:"transition ease-in-out duration-200",enterStart:"opacity-0 translate-y-4",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-in-out duration-200",leaveStart:"opacity-100 translate-y-0",leaveEnd:"opacity-0 translate-y-4",children:Object(k.jsx)("div",{ref:r,className:"bg-white rounded shadow-lg overflow-auto max-w-lg w-full max-h-full",children:t})})]})};var Ze=function(e){var t=Object(c.useState)(!1),s=Object(i.a)(t,2),a=s[0],n=s[1];return Object(k.jsx)(k.Fragment,{children:e.leaveDay?Object(k.jsxs)(k.Fragment,{children:[0!=e.isHalfDay?Object(k.jsx)("tbody",{className:"".concat("Friday"==e.dayName?"border-b-5":""," text-sm bg-violet-100"),children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-400",children:Object(k.jsx)("div",{children:e.date})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-400",children:Object(k.jsx)("div",{children:e.dayName})}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-400",children:[Object(k.jsx)("div",{className:"text-left ml-5",children:e.hours})," "]}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-400",children:[Object(k.jsx)("div",{className:"text-left ml-5",children:e.totalHours})," "]}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"text-left text-zinc-400",children:e.description})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-500",children:Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 text-zinc-400",children:e.approval})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 text-zinc-400",children:e.status?"done":"check"})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("button",{disabled:!0,className:"flex items-center",onClick:function(t){return e.editTimesheet(t,e.id)},children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-zinc-300 mr-2",children:Object(k.jsx)("path",{d:"M1 16h3c.3 0 .5-.1.7-.3l11-11c.4-.4.4-1 0-1.4l-3-3c-.4-.4-1-.4-1.4 0l-11 11c-.2.2-.3.4-.3.7v3c0 .6.4 1 1 1zm1-3.6l10-10L13.6 4l-10 10H2v-1.6z"})})})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap w-px",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{disabled:!0,className:"text-zinc-300 hover:text-zinc-300 transform ".concat(a&&"rotate-180"),"aria-expanded":a,onClick:function(){return n(!a)},"aria-controls":"description-".concat(e.id),children:[Object(k.jsx)("span",{className:"sr-only",children:"Menu"}),Object(k.jsx)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",children:Object(k.jsx)("path",{d:"M16 20l-5.4-5.4 1.4-1.4 4 4 4-4 1.4 1.4z"})})]})})})]})}):Object(k.jsx)("tbody",{className:"".concat("Friday"==e.dayName?"border-b-5":""," text-sm bg-violet-100"),children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-400",children:Object(k.jsx)("div",{children:e.date})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-400",children:Object(k.jsx)("div",{children:e.dayName})}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-400",children:[Object(k.jsx)("div",{className:"text-left ml-5",children:e.hours})," "]}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-400",children:[Object(k.jsx)("div",{className:"text-left ml-5",children:e.totalHours})," "]}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"text-left text-zinc-400",children:e.description})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-500",children:Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 text-zinc-400",children:"-"})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 text-zinc-400",children:"-"})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{disabled:!1,className:"flex items-center",onClick:function(t){return e.editTimesheet(t,e.id)},children:[" ",Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-zinc-300 mr-2",children:Object(k.jsx)("path",{d:"M1 16h3c.3 0 .5-.1.7-.3l11-11c.4-.4.4-1 0-1.4l-3-3c-.4-.4-1-.4-1.4 0l-11 11c-.2.2-.3.4-.3.7v3c0 .6.4 1 1 1zm1-3.6l10-10L13.6 4l-10 10H2v-1.6z"})})]})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap w-px",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{disabled:!1,className:"text-zinc-300 hover:text-zinc-300 transform ".concat(a&&"rotate-180"),"aria-expanded":a,onClick:function(){return n(!a)},"aria-controls":"description-".concat(e.id),children:[Object(k.jsx)("span",{className:"sr-only",children:"Menu"}),Object(k.jsx)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",children:Object(k.jsx)("path",{d:"M16 20l-5.4-5.4 1.4-1.4 4 4 4-4 1.4 1.4z"})})]})})})]})}),"Friday"==e.dayName?Object(k.jsx)("tbody",{className:"text-sm ",children:Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"10",className:"px-2 first:pl-5 last:pr-5 py-2",children:Object(k.jsx)("div",{className:"font-bold items-center bg-zinc-200 py-2 px-5 ",children:Object(k.jsx)("div",{className:"text-center items-center self-center",children:"Weekend"})})})})}):""]}):"PUBLIC HOLIDAY"!=e.description?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("tbody",{className:"text-sm ",children:[Object(k.jsxs)("tr",{className:"",children:[Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{children:e.date})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{children:e.dayName})}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:[Object(k.jsx)("div",{className:"text-left ml-5",children:e.hours})," "]}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:[Object(k.jsx)("div",{className:"text-left ml-5",children:e.totalHours})," "]}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{children:e.description.substring(0,15)})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 ".concat(function(e){switch(e){case"approved":return"bg-green-100 text-green-600";case"declined":return"bg-red-100 text-red-600";default:return"bg-zinc-100 text-zinc-500"}}(e.approval)),children:e.approval})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 ".concat(e.status?"bg-green-100 text-green-600":" bg-amber-200 text-zinc-500"),children:e.status?"done":"check"})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{className:"flex items-center",onClick:function(t){1==e.editable?e.editTimesheet(t,e.id):e.handleError(t,e.id)},children:[" ",Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-zinc-400 mr-2",children:Object(k.jsx)("path",{d:"M1 16h3c.3 0 .5-.1.7-.3l11-11c.4-.4.4-1 0-1.4l-3-3c-.4-.4-1-.4-1.4 0l-11 11c-.2.2-.3.4-.3.7v3c0 .6.4 1 1 1zm1-3.6l10-10L13.6 4l-10 10H2v-1.6z"})})]})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap w-px",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{className:"text-zinc-400 hover:text-zinc-500 transform ".concat(a&&"rotate-180"),"aria-expanded":a,onClick:function(){return n(!a)},"aria-controls":"description-".concat(e.id),children:[Object(k.jsx)("span",{className:"sr-only",children:"Menu"}),Object(k.jsx)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",children:Object(k.jsx)("path",{d:"M16 20l-5.4-5.4 1.4-1.4 4 4 4-4 1.4 1.4z"})})]})})})]}),Object(k.jsx)("tr",{id:"description-".concat(e.id),role:"region",className:"".concat(!a&&"hidden"),children:Object(k.jsx)("td",{colSpan:"10",className:"px-2 first:pl-5 last:pr-5 py-0.2",children:Object(k.jsx)("div",{className:"flex items-center bg-zinc-50 p-3 -mt-3",children:Object(k.jsx)("div",{className:"italic",children:e.description})})})}),Object(k.jsx)("tr",{id:"description-".concat(e.id),role:"region",className:"".concat(!a&&"hidden"),children:Object(k.jsxs)("td",{colSpan:"10",className:"px-2 first:pl-5 last:pr-5 py-0.2",children:[Object(k.jsxs)("div",{className:"flex items-center  p-3 -mt-3",children:[" ","Reason For Declined Entry:"]}),Object(k.jsx)("div",{className:"flex items-center bg-zinc-50 p-3 -mt-3",children:Object(k.jsx)("div",{className:"italic",children:e.message})})]})})]}),"Friday"==e.dayName?Object(k.jsx)("tbody",{className:"text-sm ",children:Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"10",className:"px-2 first:pl-5 last:pr-5 py-1",children:Object(k.jsx)("div",{className:"font-bold items-center bg-zinc-200 py-1 px-5 ",children:Object(k.jsx)("div",{className:"text-center items-center self-center",children:"Weekend"})})})})}):null]}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("tbody",{className:"".concat("Friday"==e.dayName?"border-b-5":""," text-sm bg-indigo-100"),children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-400",children:Object(k.jsx)("div",{children:e.date})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-400",children:Object(k.jsx)("div",{children:e.dayName})}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-400",children:[Object(k.jsx)("div",{className:"text-left ml-5",children:e.hours})," "]}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-400",children:[Object(k.jsx)("div",{className:"text-left ml-5",children:e.totalHours})," "]}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"text-left text-zinc-400",children:e.description})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap text-zinc-500",children:Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 text-zinc-400",children:"-"})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 text-zinc-400",children:"-"})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{disabled:!0,className:"flex items-center",onClick:function(t){return e.editTimesheet(t,e.id)},children:[" ",Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-zinc-300 mr-2",children:Object(k.jsx)("path",{d:"M1 16h3c.3 0 .5-.1.7-.3l11-11c.4-.4.4-1 0-1.4l-3-3c-.4-.4-1-.4-1.4 0l-11 11c-.2.2-.3.4-.3.7v3c0 .6.4 1 1 1zm1-3.6l10-10L13.6 4l-10 10H2v-1.6z"})})]})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-0.2 whitespace-nowrap w-px",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{disabled:!0,className:"text-zinc-300 hover:text-zinc-300 transform ".concat(a&&"rotate-180"),"aria-expanded":a,onClick:function(){return n(!a)},"aria-controls":"description-".concat(e.id),children:[Object(k.jsx)("span",{className:"sr-only",children:"Menu"}),Object(k.jsx)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",children:Object(k.jsx)("path",{d:"M16 20l-5.4-5.4 1.4-1.4 4 4 4-4 1.4 1.4z"})})]})})})]})}),"Friday"==e.dayName?Object(k.jsx)("tbody",{className:"text-sm ",children:Object(k.jsx)("tr",{children:Object(k.jsx)("td",{colSpan:"10",className:"px-2 first:pl-5 last:pr-5 py-2",children:Object(k.jsx)("div",{className:"font-bold items-center bg-zinc-200 py-2 px-5 ",children:Object(k.jsx)("div",{className:"text-center items-center self-center",children:"Weekend"})})})})}):null]})})},Qe=s(59),$e=s(55);s(219);var et=function(e){var t,s=Object(c.useState)(!1),a=Object(i.a)(s,2),n=a[0],r=a[1],l=Object(c.useState)(!1),o=Object(i.a)(l,2),d=o[0],j=o[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),h=x[0],p=x[1],O=localStorage.getItem("_id");function f(){return(f=Object(u.a)(Object(m.a)().mark((function t(){return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.post("".concat(g.default.path.completedsheet.createCompletedsheet,"/").concat(O,"/").concat(e.month._id,"/").concat(e.project),{user:O},!0);case 2:t.sent,p(!0);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}return Object(c.useEffect)((function(){p(!1)}),[e.timesheetData]),Object(k.jsx)("div",{className:"bg-white shadow-lg rounded-sm border border-slate-200",children:Object(k.jsxs)("div",{className:"relative overflow-hidden",children:[Object(k.jsx)("div",{className:"relative h-17 overflow-y-auto overflow-clip",children:Object(k.jsxs)("table",{className:"table-auto w-full divide-y divide-slate-200",children:[Object(k.jsx)("thead",{className:"text-xs uppercase text-slate-500 bg-slate-50 border-t border-slate-200",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Date"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Day"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Project Hours"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Total Hours"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Description"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Approval"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Status"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("span",{className:"sr-only",children:"Menu"})})]})}),e.timesheetsLoader?Object(k.jsx)("div",{className:"w-full",children:Object(k.jsx)(Ee,{})}):(t=e.timesheetData,t.filter((function(t){return e.selectedOptions.length?e.selectedOptions.includes(t.changed)||e.selectedOptions.includes(t.approval.toLowerCase())?t:void 0:t}))).map((function(t,s){return Object(k.jsx)(Ze,{id:t._id,timesheet:s+1,date:t.day+"/"+t.month,fullDate:t.year+"-"+t.month+"-"+t.day,dayName:t.dayName,hours:parseFloat(t.hours),totalHours:parseFloat(t.dailyHours),approval:t.approval,status:t.changed,description:t.desc,day:t.day,editTimesheet:e.editTimesheet,editable:!(e.completedsheet.length>0)||!e.completedsheet.some((function(t){return h||t.user===O&&t.month===e.month._id&&t.project===e.project})),handleError:e.handleError,leaveDay:t.leaveDay},s)}))]})}),Object(k.jsxs)("div",{className:"mt-auto grid grid-flow-col sm:auto-cols-max justify-start p-1 sm:justify-end gap-2 ",children:[e.completedsheet.length>0&&e.completedsheet.some((function(t){return h||t.user===O&&t.month===e.month._id&&t.project===e.project}))?Object(k.jsx)("button",{disabled:!0,className:"btn-sm bg-gray-400 text-white",onClick:function(e){e.stopPropagation(),r(!0)},children:"Submit Timesheets"}):Object(k.jsx)("button",{disabled:h,className:h?"btn-sm bg-gray-400 text-white":"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(e){e.stopPropagation(),r(!0)},children:"Submit Timesheets"}),Object(k.jsx)("div",{children:Object(k.jsx)(Qe.a,{icon:$e.b,className:"p-2",size:"lg",onClick:function(){j(!0)}})})]}),Object(k.jsx)(Xe,{id:"success-modal",modalOpen:n,setModalOpen:r,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Are you sure you want to submit your full timesheet for"," ",Object(k.jsxs)("a",{className:"font-bold",children:[" ",e.monthName]})," and project"," ",Object(k.jsxs)("a",{className:"font-bold",children:[' "',e.editProjectName,'"']}),"?"]})}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),r(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(e){!function(){f.apply(this,arguments)}(),e.stopPropagation(),r(!1)},children:"Yes, Submit it"})]})]})]})}),Object(k.jsx)(Xe,{id:"info-modal",modalOpen:d,setModalOpen:j,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["This button is used to submit all your timesheet entries for"," ",e.editProjectName," in ",e.monthName,"."]})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),j(!1)},children:"Ok"})})]})]})})]})})};var tt=function(e){var t=function(t){e.setSelectedProject(t._id),e.getTimesheetData(t._id),e.setSelectedProjectName(t.projectName)};return Object(k.jsx)("div",{className:"bg-white shadow-lg rounded-sm border border-slate-200 relative",children:Object(k.jsx)("div",{className:"flex",children:e.allProjectsData.map((function(s){return"Internal"==s.client.clientName?Object(k.jsx)("div",{className:s._id==e.selectedProject?"font-semibold text-white px-5 py-2 bg-rose-500 hover:cursor-pointer hover:shadow-xl":"font-semibold text-rose-800 px-5 py-2 bg-rose-100 hover:cursor-pointer hover:shadow-xl",onClick:function(){t(s)},children:s.projectName}):Object(k.jsx)("div",{className:s._id==e.selectedProject?"font-semibold text-white px-5 py-2 bg-indigo-500 hover:cursor-pointer hover:shadow-xl":"font-semibold text-indigo-800 px-5 py-2 bg-indigo-100 hover:cursor-pointer hover:shadow-xl",onClick:function(){t(s)},children:s.projectName})}))})})};var st=function(e){var t=e.children,s=e.id,a=e.title,n=e.modalOpen,r=e.setModalOpen,l=e.resetState,i=Object(c.useRef)(null);return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Oe,{className:"fixed inset-0 bg-slate-900 bg-opacity-30 z-50 transition-opacity",show:n,enter:"transition ease-out duration-200",enterStart:"opacity-0",enterEnd:"opacity-100",leave:"transition ease-out duration-100",leaveStart:"opacity-100",leaveEnd:"opacity-0","aria-hidden":"true"}),Object(k.jsx)(Oe,{id:s,className:"fixed inset-0 z-50 overflow-hidden flex items-center my-4 justify-center transform px-4 sm:px-6",role:"dialog","aria-modal":"true",show:n,enter:"transition ease-in-out duration-200",enterStart:"opacity-0 translate-y-4",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-in-out duration-200",leaveStart:"opacity-100 translate-y-0",leaveEnd:"opacity-0 translate-y-4",children:Object(k.jsxs)("div",{ref:i,className:"bg-white rounded shadow-lg overflow-auto max-w-lg w-full max-h-full",children:[Object(k.jsx)("div",{className:"px-5 py-3 border-b border-slate-200",children:Object(k.jsxs)("div",{className:"flex justify-between items-center",children:[Object(k.jsx)("div",{className:"font-semibold text-slate-800",children:a}),Object(k.jsxs)("button",{className:"text-slate-400 hover:text-slate-500",onClick:function(e){e.stopPropagation(),r(!1),l()},children:[Object(k.jsx)("div",{className:"sr-only",children:"Close"}),Object(k.jsx)("svg",{className:"w-4 h-4 fill-current",children:Object(k.jsx)("path",{d:"M7.95 6.536l4.242-4.243a1 1 0 111.415 1.414L9.364 7.95l4.243 4.242a1 1 0 11-1.415 1.415L7.95 9.364l-4.243 4.243a1 1 0 01-1.414-1.415L6.536 7.95 2.293 3.707a1 1 0 011.414-1.414L7.95 6.536z"})})]})]})}),t]})})]})},ct=s(434);var at=function(){var e,t=Object(c.useState)(!1),s=Object(i.a)(t,2),n=(s[0],s[1],Object(c.useState)(!1)),r=Object(i.a)(n,2),l=r[0],j=r[1],b=Object(c.useState)(""),x=Object(i.a)(b,2),h=x[0],p=x[1],O=Object(c.useState)(!1),f=Object(i.a)(O,2),v=f[0],N=f[1],w=Object(c.useState)(!1),S=Object(i.a)(w,2),C=S[0],z=S[1],D=Object(c.useState)(!1),M=Object(i.a)(D,2),E=M[0],I=M[1],T=Object(c.useState)([]),L=Object(i.a)(T,2),P=L[0],F=L[1],B=Object(c.useState)({}),R=Object(i.a)(B,2),H=R[0],U=R[1],_=Object(c.useState)([]),V=Object(i.a)(_,2),W=V[0],G=V[1],J=Object(c.useState)([]),K=Object(i.a)(J,2),X=K[0],Z=K[1],Q=Object(c.useState)([]),$=Object(i.a)(Q,2),ee=$[0],te=$[1],se=Object(c.useState)([]),ce=Object(i.a)(se,2),ae=ce[0],ne=ce[1],re=Object(c.useState)({}),le=Object(i.a)(re,2),ie=le[0],oe=le[1],de=Object(c.useState)(""),be=Object(i.a)(de,2),xe=be[0],me=be[1],ue=Object(c.useState)(""),he=Object(i.a)(ue,2),pe=he[0],Oe=he[1],fe=Object(c.useState)({}),ve=Object(i.a)(fe,2),ge=ve[0],Ne=ve[1],we=Object(d.l)(),ye=a.a.useContext(Jc).dispatch,ke=Object(c.useState)(""),Se=Object(i.a)(ke,2),Ce=Se[0],ze=Se[1],De=Object(c.useState)(!1),Ae=Object(i.a)(De,2),Me=Ae[0],Ie=Ae[1],Te=Object(c.useState)(""),Le=Object(i.a)(Te,2),Pe=Le[0],Fe=Le[1],Be=Object(c.useState)(""),Re=Object(i.a)(Be,2),He=Re[0],Ye=Re[1],Ue=Object(c.useState)(!0),_e=Object(i.a)(Ue,2),qe=_e[0],Ve=_e[1],We=Object(c.useState)(!1),Ge=Object(i.a)(We,2),Je=Ge[0],Ze=Ge[1],Qe=Object(c.useState)(""),$e=Object(i.a)(Qe,2),at=$e[0],nt=$e[1],rt=Object(c.useState)(""),lt=Object(i.a)(rt,2),it=lt[0],ot=lt[1],dt=Object(c.useState)(!1),jt=Object(i.a)(dt,2),bt=jt[0],xt=jt[1],mt=Object(c.useState)([]),ut=Object(i.a)(mt,2),ht=ut[0],pt=ut[1],Ot=Object(c.useState)(""),ft=Object(i.a)(Ot,2),vt=ft[0],gt=ft[1],Nt=Object(d.n)().key,wt=localStorage.getItem("_id");Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t,s,c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ve(!0),e.next=3,y.get("".concat(g.default.path.projects.getProjectsFor,"/").concat(wt));case 3:if(!((t=e.sent).projects.length>0)){e.next=32;break}return Ie(!1),e.next=8,G(t.projects);case 8:return e.next=10,Fe(t.projects[0]._id);case 10:return Ye(t.projects[0].projectName),console.log("selectedMonth",vt),console.log("selectedProject","".concat(g.default.path.timesheet.getTimesheetForUser,"/").concat(wt,"/").concat(vt||Nt,"/").concat(t.projects[0]._id)),e.next=15,y.get("".concat(g.default.path.timesheet.getTimesheetForUser,"/").concat(wt,"/").concat(vt||Nt,"/").concat(t.projects[0]._id));case 15:return s=e.sent,e.next=18,y.get("".concat(g.default.path.timesheet.getMonth,"/").concat(Nt));case 18:return c=e.sent,e.next=21,y.get("".concat(g.default.path.completedsheet.getCompletedsheetForMonth,"/").concat(Pe||t.projects[0]._id,"/").concat(Nt));case 21:a=e.sent,F(a),me(c),Ne({hours:parseFloat(s.hours),recommended:s.recommendedHours}),console.log(s),ne(s.breakdown[0]),Oe(s.declined),te(s.timesheets),ze(t.projects[0].client.clientName),e.next=33;break;case 32:Ie(!0);case 33:Ve(!1);case 34:case"end":return e.stop()}}),e)}))),[vt]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ct();case 1:case"end":return e.stop()}}),e)}))),[y]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("".concat(g.default.path.timesheet.month),!0);case 2:t=(t=e.sent).data,gt(Nt),pt(t);case 6:case"end":return e.stop()}}),e)}))),[Nt]);var yt=function(e){return U((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.id,e.target.value))}))};function kt(){return(kt=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:gt(t.target.value),we("/timesheet/".concat(t.target.value));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var St=function(){I(!1),N(!1),j(!1),U({}),Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""})),Array.from(document.querySelectorAll("textarea")).forEach((function(e){return e.value=""})),Array.from(document.querySelectorAll("select")).forEach((function(e){return e.selectedIndex=0}))},Ct=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),ye({type:"LOGOUT"}),we("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),zt=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ze(!0),console.log("TREST",vt),W.forEach((function(e){e._id==t&&ze(e.client.clientName)})),e.next=5,y.get("".concat(g.default.path.timesheet.getTimesheetForUser,"/").concat(wt,"/").concat(vt||Nt,"/").concat(t));case 5:return s=e.sent,e.next=8,y.get("".concat(g.default.path.completedsheet.getCompletedsheetForMonth,"/").concat(t,"/").concat(Nt));case 8:c=e.sent,F(c),ne(s.breakdown[0]),te(s.timesheets),Ne({hours:s.hours,recommended:s.recommendedHours}),Oe(s.declined),Ze(!1);case 15:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Dt=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s,c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.get("".concat(g.default.path.timesheet.getTimesheet,"/").concat(t._id));case 2:for(s=e.sent,Ne(Object(o.a)(Object(o.a)({},ge),{},{hours:s.monthHours})),c=function(e){ee[e]._id==t._id&&te((function(t){return[].concat(Object(je.a)(t.slice(0,e)),[s],Object(je.a)(t.slice(e+1,t.length)))}))},a=0;a<ee.length;a++)c(a);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function At(){return(At=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch("".concat(g.default.path.timesheet.editTimesheet,"/").concat(ie._id),H);case 2:if(!(t=e.sent).err){e.next=7;break}return j(!0),p(t.error.message),e.abrupt("return");case 7:N(!0),z("Successfully Edited Timesheet."),Dt(ie),setTimeout((function(){St()}),2e3);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mt=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Testing"),t.stopPropagation(),xt(!bt);case 3:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),Et=function(){var t=Object(u.a)(Object(m.a)().mark((function t(s,c){var a;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log("Testing again"),s.stopPropagation(),I(!0),t.next=5,y.get("".concat(g.default.path.timesheet.getTimesheet,"/").concat(c));case 5:a=t.sent,oe(a),e=new Date(a.dateAdded),nt(Object(ct.a)(e,"d MMM")),W.forEach((function(e){e._id==Pe&&ot(e.projectName)})),document.getElementById("hours").value=a.hours,document.getElementById("desc").value=a.desc,U({desc:a.desc,hours:a.hours});case 13:case"end":return t.stop()}}),t)})));return function(e,s){return t.apply(this,arguments)}}();return Object(k.jsxs)("main",{children:[qe?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{children:[Me?Object(k.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:Object(k.jsx)("div",{className:"text-center",children:Object(k.jsxs)("div",{className:"inline-flex flex-col max-w-lg px-4 py-4 rounded-sm text-m bg-white shadow-lg border border-slate-200 text-slate-600",children:[Object(k.jsx)("div",{className:"flex w-full",children:Object(k.jsxs)("div",{className:"flex ",children:[Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-yellow-500 mt-[3px] mr-3",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z"})})," ",Object(k.jsx)("div",{className:"text-xl text-slate-800 font-bold",children:"No Projects Found!"})]})}),Object(k.jsx)("div",{className:"pt-3 text-justify",children:"You currently have no projects assigned to you. Please contact Monique to assign projects to you."})]})})}):Object(k.jsxs)("div",{className:"overflow-hidden px-4 sm:px-6 lg:px-8 py-2 w-full pb-1",children:[Object(k.jsxs)("div",{className:" flex justify-between sm:flex sm:justify-between sm:items-center mb-4",children:[Object(k.jsxs)("div",{className:"sm:mb-0",children:[Object(k.jsxs)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:["Timesheets:"," ",Object(k.jsx)("select",{id:"monthPicker",className:"form-select text-md",value:vt,onChange:function(e){return kt.apply(this,arguments)},children:ht.map((function(e,t){return Object(k.jsx)("option",{value:e._id,className:"text-sm",children:e.desc},t)}))})]}),Object(k.jsxs)("h2",{className:"text-xl md:text-xl text-slate-800",children:["Selected Client: ",Ce]})]}),Object(k.jsxs)("div",{className:"grid grid-flow-col sm:auto-row-max justify-start sm:justify-end gap-2",children:[Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(e){var t=new Date,s=t.getDate(),c=t.getMonth()+1;ee.map((function(t){t.day==s&&t.month==c&&0==(void 0!=t.leaveDay&&t.leaveDay)&&"PUBLIC HOLIDAY"!=t.desc&&Et(e,t._id)}))},children:"Record Today"}),Object(k.jsx)(Ke,{align:"right",setSelectedOptions:Z,filterOptions:["pending","approved","declined","done","check"]}),Object(k.jsxs)("div",{className:"border-zinc-900 bg-zinc-200 text-zinc-600 px-2.5 py-0.5",title:"undefined"!=ae?ae.map((function(e){return"\n".concat(e.projectName," : ").concat(e.hours)})):"",children:["Total Worked Hours: ",ge.hours]}),Object(k.jsxs)("div",{className:"border-green-900 bg-green-100 text-green-600 px-2.5 py-0.5",children:["Recommended Hours: ",ge.recommended]}),Object(k.jsxs)("div",{className:"border-rose-900 bg-rose-100 text-rose-600 px-2.5 py-0.5",children:["Declined: ",pe]})]})]}),Object(k.jsx)(tt,{allProjectsData:W,setSelectedProject:Fe,setSelectedProjectName:Ye,selectedProject:Pe,getTimesheetData:zt}),Object(k.jsx)(et,{timesheetData:ee,timesheetsLoader:Je,editTimesheet:Et,selectedOptions:X,completedsheet:P,month:xe,project:Pe,editProjectName:He,monthName:xe.desc,handleError:Mt})]})," "]}),Object(k.jsx)(Xe,{id:"error-modal",modalOpen:bt,setModalOpen:xt,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:"After submitting you are no longer allowed to edit your timesheets. For any assistance please contact Jason Scheepers"})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),xt(!1)},children:"Ok"})})]})]})}),Object(k.jsxs)(st,{id:"feedback-modal",modalOpen:E,setModalOpen:I,title:"Edit Log ".concat(at," for ").concat(it),resetState:St,children:[" ",Object(k.jsxs)("div",{className:"px-5 py-4",children:[Object(k.jsx)("div",{className:"text-lg",children:Object(k.jsx)("div",{className:"font-large text-slate-800 mb-3",children:"Please Edit The Following Details"})}),Object(k.jsxs)("div",{className:"space-y-3",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"hours",children:"Hours"}),Object(k.jsx)("input",{id:"hours",className:"form-input w-full px-2 py-1",type:"number",min:0,max:20,step:.5,precision:2,required:!0,onChange:yt})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"description",children:"Description"}),Object(k.jsx)("textarea",{id:"desc",className:"form-textarea w-full px-2 py-1",rows:"4",placeholder:"Tell us about your day",maxLength:400,required:!0,onChange:yt})]}),Object(k.jsx)(q,{type:"error",open:l,setOpen:j,children:h}),Object(k.jsx)(q,{type:"success",open:v,setOpen:N,children:C})]}),Object(k.jsx)("div",{className:"px-5 py-4 border-t border-slate-200",children:Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 text-slate-600",onClick:function(e){e.stopPropagation(),St()},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){H.hours<=0?(p("Hours are required."),j(!0)):H.desc?function(){At.apply(this,arguments)}():(p("Description is required."),j(!0))},children:"Update"})]})})]})]})]})};var nt=function(e){var t=Object(c.useState)(!1),s=Object(i.a)(t,2),a=s[0],n=s[1];return Object(k.jsxs)("tbody",{className:"text-sm",children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("label",{className:"inline-flex",children:[Object(k.jsx)("span",{className:"sr-only",children:"Select"}),Object(k.jsx)("input",{id:e.id,className:"form-checkbox",type:"checkbox",onChange:e.handleClick,checked:e.isChecked})]})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsxs)("div",{className:"flex items-center text-zinc-800",children:[Object(k.jsx)("div",{className:"w-10 h-10 shrink-0 flex items-center justify-center bg-zinc-100 rounded-full mr-2 sm:mr-3",children:Object(k.jsx)("img",{className:"ml-1",src:e.image,width:"20",height:"20",alt:e.timesheet})}),Object(k.jsx)("div",{className:"font-medium text-rose-500",children:e.timesheet})]})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{children:e.date})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"text-left font-medium text-zinc-800",children:e.consultant})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"text-left font-medium text-zinc-800",children:e.rates})}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:[Object(k.jsx)("div",{className:"text-left",children:e.hours})," "]}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:[Object(k.jsx)("div",{className:"text-left",children:e.totalDayHours})," "]}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-left px-2.5 py-0.5 ".concat(function(e){switch(e){case"approved":return"bg-green-100 text-green-600";case"declined":return"bg-red-100 text-red-600";default:return"bg-zinc-100 text-zinc-500"}}(e.status)),children:e.status})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{onClick:function(t){return e.editTimesheet(t,e.id)},children:[" ",Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-zinc-400 mr-2",children:Object(k.jsx)("path",{d:"M1 16h3c.3 0 .5-.1.7-.3l11-11c.4-.4.4-1 0-1.4l-3-3c-.4-.4-1-.4-1.4 0l-11 11c-.2.2-.3.4-.3.7v3c0 .6.4 1 1 1zm1-3.6l10-10L13.6 4l-10 10H2v-1.6z"})})]})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{className:"text-zinc-400 hover:text-zinc-500 transform ".concat(a&&"rotate-180"),"aria-expanded":a,onClick:function(){return n(!a)},"aria-controls":"description-".concat(e.id),children:[Object(k.jsx)("span",{className:"sr-only",children:"Menu"}),Object(k.jsx)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",children:Object(k.jsx)("path",{d:"M16 20l-5.4-5.4 1.4-1.4 4 4 4-4 1.4 1.4z"})})]})})})]}),Object(k.jsx)("tr",{id:"description-".concat(e.id),role:"region",className:"".concat(!a&&"hidden"),children:Object(k.jsx)("td",{colSpan:"10",className:"px-2 first:pl-5 last:pr-5 py-3",children:Object(k.jsx)("div",{className:"flex items-center bg-zinc-50 p-3 -mt-3",children:Object(k.jsx)("div",{className:"italic",children:e.description})})})})]})},rt=s.p+"static/media/icon-03.f73068ec.svg";var lt=function(e){Object(d.n)().key;var t=Object(c.useState)(!1),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)([]),l=Object(i.a)(r,2),o=l[0],j=l[1];Object(c.useEffect)((function(){j([]),n(!1)}),[e.timesheetData]);var b=function(e){var t=e.target,s=t.id,c=t.checked;n(!1),j([].concat(Object(je.a)(o),[s])),c||j(o.filter((function(e){return e!==s})))};return Object(c.useEffect)((function(){e.setSelectedItems(o)}),[o]),Object(k.jsxs)("div",{className:"bg-white shadow-lg rounded-sm border border-slate-200 relative",children:[Object(k.jsx)("header",{className:"px-5 py-4",children:Object(k.jsxs)("h2",{className:"font-semibold text-slate-800",children:["Add Rates to Timesheets"," "]})}),Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:"overflow-x-auto",children:Object(k.jsxs)("table",{className:"table-auto w-full divide-y divide-slate-200",children:[Object(k.jsx)("thead",{className:"text-xs uppercase text-slate-500 bg-slate-50 border-t border-slate-200",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("label",{className:"inline-flex",children:[Object(k.jsx)("span",{className:"sr-only",children:"Select all"}),Object(k.jsx)("input",{className:"form-checkbox",type:"checkbox",checked:a,onChange:function(){n(!a),j(e.timesheetData.map((function(e){return e._id}))),a&&j([])}})]})})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Day Count"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Date"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Consultant"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Rate"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Project Hours"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Total Hours"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Status"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("span",{className:"sr-only",children:"Menu"})})]})}),e.timesheetData.map((function(t,s){return Object(k.jsx)(nt,{id:t._id,timesheet:s+1,image:rt,date:t.day+"/"+t.month,consultant:t.user.personalInfo.firstName+" "+t.user.personalInfo.lastName,rates:"R"+t.rates,status:t.approval,hours:parseFloat(t.hours),totalDayHours:parseFloat(t.totalDayHours),description:t.desc,handleClick:b,isChecked:o.includes(t._id),editTimesheet:e.editTimesheet},s)}))]})})})]})};s(339),s(377),s(340),s(341),s(342);var it=function(e){var t=Object(c.useState)({text:"A4",value:"size-a4"}),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useRef)(null);return Object(k.jsxs)("div",{id:"example",class:"p-5",children:[Object(k.jsxs)("div",{class:"flex justify-around py-5",children:[Object(k.jsxs)("div",{class:"flex-none",children:[Object(k.jsx)("h4",{children:"Select a Page Size"}),Object(k.jsx)(_e.a,{data:[{text:"A4",value:"size-a4"},{text:"Letter",value:"size-letter"},{text:"Executive",value:"size-executive"}],textField:"text",dataItemKey:"value",value:a,onChange:function(e){n(e.target.value)}})]}),Object(k.jsxs)("div",{class:"flex-none",children:[Object(k.jsx)("h4",{children:"Export PDF"}),Object(k.jsx)(te.a,{primary:!0,onClick:function(e){r.current.save()},children:"Export"})]})]}),Object(k.jsx)("div",{className:"page-container hidden-on-narrow",children:Object(k.jsx)(qe.a,{ref:r,fileName:"Convergenc3_Timesheet_".concat(e.info.project,"/").concat(1===e.projectData.project.consultants.length?e.projectData.project.consultants[0].consultant.personalInfo.firstName+e.projectData.project.consultants[0].consultant.personalInfo.lastName+"_":"").concat(e.info.month),paperSize:"A4",children:Object(k.jsx)("div",{className:"pdf-page ".concat(a.value),children:Object(k.jsxs)("div",{class:"p-5",children:[Object(k.jsxs)("div",{class:"flex justify-between m-auto items-center ",children:[Object(k.jsx)("img",{src:"https://i.ibb.co/Y3MH7k9/C3-Dark.png",alt:"Kendoka Company Logo",class:"w-40"})," ",Object(k.jsx)("div",{children:Object(k.jsx)("h3",{class:"font-bold text-lg",children:e.info.month})})]}),Object(k.jsx)("div",{class:"flex justify-between pt-5",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("h3",{class:"font-bold text-lg",children:e.info.client}),Object(k.jsx)("p",{class:"text-xs",children:e.info.project}),Object(k.jsx)("br",{}),Object(k.jsxs)("p",{class:"text-xs",children:["Summary:",Object(k.jsx)("div",{class:" pt-2 shadow-md rounded-md",children:Object(k.jsxs)("table",{class:"min-w-full",children:[Object(k.jsx)("thead",{class:"bg-gray-500",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{scope:"col",class:" px-3 text-xs font-medium tracking-wider text-left text-white uppercase ",children:"Employee"}),Object(k.jsx)("th",{scope:"col",class:" px-3 text-xs font-medium tracking-wider text-left text-white uppercase ",children:"Hours"})]})}),Object(k.jsx)("tbody",{children:e.projectData.project.consultants.map((function(e,t){return 0==e.hours?Object(k.jsx)("tr",{}):Object(k.jsxs)("tr",{class:"bg-white border-b ",children:[Object(k.jsxs)("td",{class:"py-2 px-3 text-xs font-medium text-gray-900 whitespace-nowrap ",children:[e.consultant.personalInfo.firstName," ",e.consultant.personalInfo.lastName]}),Object(k.jsx)("td",{class:"py-2 px-3 text-xs text-gray-500 whitespace-nowrap ",children:e.totalHours})]})}))})]})})]})]})}),Object(k.jsx)("div",{class:"flex pt-5 break-after-page",children:Object(k.jsx)("div",{class:"w-full",children:Object(k.jsx)("div",{class:"inline-block py-3 min-w-full align-middle",children:Object(k.jsx)("div",{class:" shadow-md rounded-md",children:Object(k.jsxs)("table",{class:"min-w-full",children:[Object(k.jsx)("thead",{class:"bg-gray-500 ",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{scope:"col",class:"py-2 pl-3  flex-initial w-[10%] text-xs text-center font-medium tracking-wider text-white uppercase ",children:"Date"}),Object(k.jsx)("th",{scope:"col",class:"py-2 pl-2 flex-initial w-[20%] text-xs font-medium tracking-wider text-left text-white uppercase ",children:"Consultant"}),Object(k.jsx)("th",{scope:"col",class:"py-2 px-3 flex-initial w-[10%] text-xs font-medium tracking-wider text-left text-white uppercase ",children:"Hours"}),Object(k.jsx)("th",{scope:"col",class:"py-2 pr-3 pl-2 flex-initial w-[55%] text-xs font-medium tracking-wider text-left text-white uppercase ",children:"Description"})]})}),Object(k.jsx)("tbody",{children:e.data.map((function(e,t){return 0==e.hours?Object(k.jsx)("tr",{}):Object(k.jsxs)("tr",{class:"bg-white border-b ",children:[Object(k.jsxs)("td",{class:"py-2 pl-3 pr-3 flex-initial w-[10%] text-xs text-center font-medium text-gray-900 whitespace-nowrap ",children:[e.day,"/",e.month,Object(k.jsx)("br",{}),e.dayName]}),Object(k.jsxs)("td",{class:"py-2 pl-2 flex-initial w-[20%] text-xs text-gray-500 whitespace-nowrap ",children:[e.user.personalInfo.firstName," ",e.user.personalInfo.lastName]}),Object(k.jsx)("td",{class:"py-2 pr-3 flex-initial w-[10%] text-xs text-center text-gray-500 whitespace-nowrap ",children:e.hours}),Object(k.jsx)("td",{class:"py-2 pr-3 pl-2  flex-initial w-[80%] text-xs text-gray-500 flex flex-wrap",children:e.desc})]})}))})]})})})})})]})})})})]})};var ot=function(e){var t=Object(c.useState)(!1),s=Object(i.a)(t,2),n=(s[0],s[1],Object(c.useState)([])),r=Object(i.a)(n,2),l=(r[0],r[1]),j=Object(c.useState)({loading:!1}),b=Object(i.a)(j,2),x=b[0],h=(b[1],Object(c.useState)(!1)),p=Object(i.a)(h,2),O=p[0],f=p[1],v=Object(c.useState)({}),N=Object(i.a)(v,2),w=N[0],S=N[1],C=Object(c.useState)([]),z=Object(i.a)(C,2),D=z[0],M=z[1],E=Object(c.useState)(!1),I=Object(i.a)(E,2),T=I[0],L=I[1],P=Object(c.useState)({}),F=Object(i.a)(P,2),B=F[0],R=F[1],H=Object(c.useState)({}),U=Object(i.a)(H,2),_=U[0],q=U[1],V=Object(c.useState)({}),W=Object(i.a)(V,2),G=W[0],J=W[1],K=Object(c.useState)(!0),X=Object(i.a)(K,2),Z=X[0],Q=X[1],$=a.a.useContext(Jc).dispatch,ee=Object(d.l)(),te=Object(d.n)().key,se=Object(d.n)().id,ce=Object(d.n)().clientID;function ae(e,t){return e.user.personalInfo.lastName<t.user.personalInfo.lastName?-1:e.user.personalInfo.lastName>t.user.personalInfo.lastName?1:0}var ne=function(){f(!1),L(!1),S({})},re=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),le(),e.next=4,y.get("".concat(g.default.path.timesheet.getTimesheetForProject,"/").concat(te,"/").concat(se));case 4:return t=e.sent,s=[],t.timesheets.forEach((function(e){e.changed&&s.push(e)})),e.next=9,s.sort(ae);case 9:M(s),Q(!1);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),le=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),$({type:"LOGOUT"}),ee("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:le();case 1:case"end":return e.stop()}}),e)}))),[y]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t,s,c,a,n,r;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.next=3,y.get("".concat(g.default.path.projects.getProjectDetails,"/").concat(te,"/").concat(se));case 3:return t=e.sent,q(t),e.next=7,y.get("".concat(g.default.path.timesheet.getTimesheetForProject,"/").concat(te,"/").concat(se));case 7:return s=e.sent,c=[],s.timesheets.forEach((function(e){e.changed&&c.push(e)})),e.next=12,c.sort(ae);case 12:return M(c),e.next=15,y.get("".concat(g.default.path.projects.getProject,"/").concat(te));case 15:return a=e.sent,e.next=18,y.get("".concat(g.default.path.clients.getClient,"/").concat(ce));case 18:return n=e.sent,e.next=21,y.get("".concat(g.default.path.timesheet.getMonth,"/").concat(se),!0);case 21:r=e.sent,J({project:a.projectName,client:n.clientName,month:r.desc}),Q(!1);case 24:case"end":return e.stop()}}),e)}))),[x.loading]);var ie=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),f(!0),e.next=4,y.get("".concat(g.default.path.timesheet.getTimesheet,"/").concat(s));case 4:c=e.sent,R(c),document.getElementById("rates").value=c.rates;case 7:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),oe=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch("".concat(g.default.path.timesheet.addRates,"/").concat(te,"/").concat(se,"/").concat(B._id),w);case 2:e.sent,re(),setTimeout((function(){ne()}),1e3);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsxs)("main",{children:[Z?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8",children:[Object(k.jsxs)("div",{className:"mb-4 sm:mb-0",children:[Object(k.jsxs)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:["Timesheets: ",G.month]}),Object(k.jsx)("h2",{className:"text-xl md:text-xl text-slate-800",children:G.client}),G.project]}),Object(k.jsx)("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2"})]}),Object(k.jsx)(lt,{setSelectedItems:l,timesheetData:D,editTimesheet:ie}),Object(k.jsx)(it,{data:D,projectData:_,info:G})]}),Object(k.jsx)(st,{id:"feedback-modal",modalOpen:O,setModalOpen:f,title:"Timesheet Rate",resetState:ne,children:Object(k.jsxs)("div",{className:"px-5 py-4",children:[Object(k.jsx)("div",{className:"text-lg",children:Object(k.jsx)("div",{className:"font-large text-slate-800 mb-3",children:"Please Fill in the Rate:"})}),Object(k.jsx)("div",{className:"space-y-3",children:Object(k.jsx)("div",{children:Object(k.jsx)("input",{id:"rates",className:"form-input w-full px-2 py-1",type:"text",required:!0,onChange:function(e){return S((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.id,e.target.value))}))}})})}),Object(k.jsx)("div",{className:"px-5 py-4 border-t border-slate-200",children:Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 text-slate-600",onClick:function(e){e.stopPropagation(),f(!1),ne()},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(e){e.stopPropagation(),L(!0)},children:"Save"})]})})]})}),Object(k.jsx)(Xe,{id:"success-modal",modalOpen:T,setModalOpen:L,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-slate-800",children:"Are you sure you want update this timesheet?"})}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 text-slate-600",onClick:function(e){e.stopPropagation(),L(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:oe,children:"Yes, Update it"})]})]})]})})]})};var dt=function(e){var t=Object(c.useState)(!1),s=Object(i.a)(t,2),n=s[0],r=s[1],l=Object(c.useState)([]),o=Object(i.a)(l,2),j=o[0],b=o[1],x=Object(c.useState)(!1),h=Object(i.a)(x,2),p=h[0],O=h[1],f=a.a.useContext(Jc).dispatch,v=Object(d.l)(),N=Object(d.n)().key,w=Object(d.n)().id,S=Object(c.useState)(!1),C=Object(i.a)(S,2),z=C[0],D=C[1],M=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return D(!0),E(),e.next=4,y.get("".concat(g.default.path.timesheet.getTimesheetForUserDay,"/").concat(t,"/").concat(w,"/").concat(N,"/").concat(s));case 4:(c=e.sent).length>0?O(!0):O(!1),b(c),D(!1);case 8:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),E=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),f({type:"LOGOUT"}),v("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsx)("table",{className:"text-sm w-full",children:Object(k.jsxs)("tbody",{className:"text-sm w-full",children:[Object(k.jsx)("tr",{role:"region",className:"text-sm  ",children:Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:Object(k.jsxs)("div",{className:"flex items-center font-medium text-center px-2.5 py-0.5 bg-indigo-100 text-zinc-600",children:["Other Timesheets",Object(k.jsxs)("button",{className:"text-zinc-400 hover:text-zinc-500 transform ".concat(n&&"rotate-180"),"aria-expanded":n,onClick:function(){r(!n),M(e.user,e.day)},"aria-controls":"timesheet-".concat(e.id),children:[Object(k.jsx)("span",{className:"sr-only",children:"Menu"}),Object(k.jsx)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",children:Object(k.jsx)("path",{d:"M16 20l-5.4-5.4 1.4-1.4 4 4 4-4 1.4 1.4z"})})]})]})})}),z?Object(k.jsx)("div",{className:"p-3 -mt-3 ",children:Object(k.jsx)(Ee,{})}):p?Object(k.jsx)("tr",{id:"timesheets-".concat(e.id),role:"region",className:"".concat(!n&&"hidden"),children:Object(k.jsx)("td",{colSpan:"10",className:"px-2 first:pl-5 last:pr-5 py-3  w-full",children:Object(k.jsxs)("div",{className:"flex items-center bg-indigo-100 p-3 -mt-3 ",children:[Object(k.jsxs)("table",{className:"table-auto w-full divide-y divide-slate-200",children:[Object(k.jsx)("thead",{className:"text-xs uppercase text-slate-500 bg-indigo-100",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Project"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Hours"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Description"})})]})}),j.map((function(e){return Object(k.jsxs)("tr",{className:"text-sm",children:[Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:[Object(k.jsx)("div",{className:"text-left",children:e.project.projectName})," "]}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:[Object(k.jsx)("div",{className:"text-left px-4",children:e.hours})," "]}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:[Object(k.jsx)("div",{className:"text-left",children:e.desc})," "]})]})}))]})," "]})})}):Object(k.jsx)("tr",{id:"timesheets-".concat(e.id),role:"region",className:"".concat(!n&&"hidden"),children:Object(k.jsxs)("td",{colSpan:"10",className:"px-2 first:pl-5 last:pr-5 py-3",children:[Object(k.jsx)("div",{className:"flex items-center bg-zinc-50 p-3 -mt-3 ",children:"No other timesheets were logged"})," "]})})]})})};var jt=function(e){var t=Object(c.useState)(e.descriptionExpanded),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)(e.otherTimesheetsOpen),l=Object(i.a)(r,2);return l[0],l[1],Object(k.jsxs)("tbody",{className:"text-sm",children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("label",{className:"inline-flex",children:[Object(k.jsx)("span",{className:"sr-only",children:"Select"}),Object(k.jsx)("input",{id:e.id,className:"form-checkbox",type:"checkbox",onChange:e.handleClick,checked:e.isChecked})]})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{children:e.date})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{children:e.dateName})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-medium text-zinc-800",children:e.consultant})}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:[Object(k.jsx)("div",{className:"text-left ml-5",children:e.hours})," "]}),Object(k.jsxs)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:[Object(k.jsx)("div",{className:"text-left ml-5",children:e.totalDayHours})," "]}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{children:e.description.substring(0,15)})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"inline-flex font-medium rounded-full text-center px-2.5 py-0.5 ".concat(function(e){switch(e){case"approved":return"bg-green-100 text-green-600";case"declined":return"bg-red-100 text-red-600";default:return"bg-slate-100 text-slate-500"}}(e.status)),children:e.status})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{onClick:function(){return e.approveOne(e.id,"approved")},children:[" ",Object(k.jsx)("img",{src:"https://img.icons8.com/color/24/000000/ok--v1.png"})]})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{onClick:function(){return e.approveOne(e.id,"declined",e.description,e.date,e.dateName)},children:[" ",Object(k.jsx)("img",{src:"https://img.icons8.com/color/24/000000/cancel--v1.png"})]})})}),Object(k.jsx)("td",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("button",{className:"text-zinc-400 hover:text-zinc-500 transform ".concat(a&&"rotate-180"),"aria-expanded":a,onClick:function(){return n(!a)},"aria-controls":"description-".concat(e.id),children:[Object(k.jsx)("span",{className:"sr-only",children:"Menu"}),Object(k.jsx)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",children:Object(k.jsx)("path",{d:"M16 20l-5.4-5.4 1.4-1.4 4 4 4-4 1.4 1.4z"})})]})})})]}),Object(k.jsx)("tr",{id:"description-".concat(e.id),role:"region",className:"".concat(!a&&"hidden"),children:Object(k.jsx)("td",{colSpan:"10",className:"px-2 first:pl-5 last:pr-5 py-3",children:Object(k.jsx)("div",{className:"flex items-center bg-zinc-50 p-3 -mt-3",children:Object(k.jsx)("div",{className:"italic",children:e.description})})})}),Object(k.jsx)("tr",{role:"region",children:Object(k.jsx)("td",{colSpan:"10",className:"px-2 first:pl-5 last:pr-5 py-0",children:Object(k.jsx)(dt,{otherTimesheetData:e.otherTimesheetData,id:e.id,user:e.user,day:e.day})})})]})};var bt=function(e){Object(d.n)().key;var t=Object(c.useState)(!1),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)(!1),l=Object(i.a)(r,2),o=l[0],j=l[1],b=Object(c.useState)([]),x=Object(i.a)(b,2),h=x[0],p=x[1],O=Object(c.useState)(!1),f=Object(i.a)(O,2),v=f[0],N=f[1],w=Object(c.useState)(!1),S=Object(i.a)(w,2),C=S[0],z=S[1],D=Object(c.useState)([]),A=Object(i.a)(D,2),M=A[0],E=A[1];function I(){return(I=Object(u.a)(Object(m.a)().mark((function t(){return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.patch("".concat(g.default.path.projects.setPdfApproval,"/").concat(e.selectedMonth,"/").concat(e.project));case 2:t.sent,N(!0);case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function t(){var s;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y.get("".concat(g.default.path.projects.getPdfStatus,"/").concat(e.selectedMonth,"/").concat(e.project));case 2:s=t.sent,p(s),console.log("req",s);case 5:case"end":return t.stop()}}),t)}))),[]),Object(c.useEffect)((function(){E([]),z(!1)}),[e.timesheetData]);var T,L=function(e){var t=e.target,s=t.id,c=t.checked;z(!1),E([].concat(Object(je.a)(M),[s])),c||E(M.filter((function(e){return e!==s})))};return Object(c.useEffect)((function(){e.setSelectedItems(M)}),[M]),Object(k.jsxs)("div",{className:"bg-white shadow-lg rounded-sm border border-slate-200 relative",children:[Object(k.jsx)("header",{className:"px-5 py-4",children:Object(k.jsxs)("h2",{className:"font-semibold text-slate-800",children:["Approve Timesheets"," "]})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"overflow-x-auto",children:Object(k.jsxs)("table",{className:"table-auto w-full divide-y divide-slate-200",children:[Object(k.jsx)("thead",{className:"text-xs uppercase text-slate-500 bg-slate-50 border-t border-slate-200",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap w-px",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsxs)("label",{className:"inline-flex",children:[Object(k.jsx)("span",{className:"sr-only",children:"Select all"}),Object(k.jsx)("input",{className:"form-checkbox",type:"checkbox",checked:C,onChange:function(){z(!C),E(e.timesheetData.map((function(e){return e._id}))),C&&E([])}})]})})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Date"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Day"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Consultant"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Project Hours"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Total Hours"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Description"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Status"})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold "})}),Object(k.jsx)("th",{className:"px-2 first:pl-5 last:pr-5 py-3 whitespace-nowrap",children:Object(k.jsx)("span",{className:"sr-only",children:"Menu"})})]})}),(T=e.timesheetData,T.filter((function(t){if(e.selectedOptions.includes(t.approval.toLowerCase())){if(t.user.personalInfo.firstName.toLowerCase().includes(e.searchTerm.toLowerCase())||t.user.personalInfo.lastName.toLowerCase().includes(e.searchTerm.toLowerCase()))return t}else if(!e.selectedOptions.length&&(t.user.personalInfo.firstName.toLowerCase().includes(e.searchTerm.toLowerCase())||t.user.personalInfo.lastName.toLowerCase().includes(e.searchTerm.toLowerCase())))return t}))).map((function(t,s){if(t.hours>0)return Object(k.jsx)(jt,{user:t.user._id,day:t.day,id:t._id,timesheet:s+1,image:rt,date:t.day+"/"+t.month,dateName:t.dayName,consultant:t.user.personalInfo.firstName+" "+t.user.personalInfo.lastName,status:t.approval,hours:parseFloat(t.hours),totalDayHours:parseFloat(t.totalDayHours),description:t.desc,handleClick:L,isChecked:M.includes(t._id),approveOne:e.approveOne,descriptionExpanded:!0},s)}))]})}),Object(k.jsxs)("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start p-3 sm:justify-end gap-2 ",children:[Object(k.jsx)("button",{disabled:h.approved,className:h.approved||v?"btn-sm bg-gray-400 text-white":"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(e){e.stopPropagation(),j(!0)},children:"Complete Approval"}),Object(k.jsx)("div",{children:Object(k.jsx)(Qe.a,{icon:$e.b,className:"p-2",size:"lg",onClick:function(){n(!0)}})})]})]}),Object(k.jsx)(Xe,{id:"info-modal",modalOpen:a,setModalOpen:n,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["This button is used to indicate that you have approved all the submitted entries and don't require any further adjustments for project \"",e.info.project,'" in ',e.info.month,"."]})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),n(!1)},children:"Ok"})})]})]})}),Object(k.jsx)(Xe,{id:"success-modal",modalOpen:o,setModalOpen:j,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Are you sure you want to submit approval of your teams full timesheet for project"," ",Object(k.jsxs)("a",{className:"font-bold",children:['"',e.info.project,'"']})," in"," ",Object(k.jsx)("a",{className:"font-bold",children:e.info.month})," ?"]})}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),j(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(e){!function(){I.apply(this,arguments)}(),e.stopPropagation(),j(!1)},children:"Yes, Submit it"})]})]})]})})]})};var xt=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),s=(t[0],t[1],Object(c.useState)([])),n=Object(i.a)(s,2),r=n[0],l=n[1],j=Object(c.useState)([]),b=Object(i.a)(j,2),x=b[0],h=b[1],p=Object(c.useState)({loading:!1}),O=Object(i.a)(p,2),f=O[0],v=(O[1],Object(c.useState)([])),N=Object(i.a)(v,2),w=N[0],S=N[1],C=Object(c.useState)([]),z=Object(i.a)(C,2),D=z[0],M=z[1],E=Object(c.useState)(!1),I=Object(i.a)(E,2),T=I[0],L=I[1],P=Object(c.useState)(""),F=Object(i.a)(P,2),B=F[0],R=F[1],H=Object(c.useState)(!1),Y=Object(i.a)(H,2),U=Y[0],_=Y[1],V=Object(c.useState)(!1),W=Object(i.a)(V,2),G=W[0],J=W[1],K=Object(c.useState)({}),X=Object(i.a)(K,2),Z=X[0],Q=X[1],$=Object(c.useState)(!0),ee=Object(i.a)($,2),te=ee[0],se=ee[1],ce=Object(c.useState)({}),ae=Object(i.a)(ce,2),ne=ae[0],re=ae[1],le=a.a.useContext(Jc).dispatch,ie=Object(c.useState)(!1),oe=Object(i.a)(ie,2),de=oe[0],je=oe[1],be=Object(c.useState)(""),xe=Object(i.a)(be,2),me=xe[0],ue=xe[1],he=Object(c.useState)([]),pe=Object(i.a)(he,2),Oe=pe[0],fe=pe[1],ve=Object(c.useState)(!1),ge=Object(i.a)(ve,2),Ne=ge[0],we=ge[1],ye=[],ke=Object(d.l)(),Se=Object(d.n)().key,Ce=Object(d.n)().id,ze=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(!0),De(),e.next=4,y.get("".concat(g.default.path.timesheet.getTimesheetForProject,"/").concat(Se,"/").concat(Ce));case 4:if(t=e.sent,s=[],t.timesheets.forEach((function(e,t){e.hours>0&&s.push(e)})),M(s),s.map(function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye[t.user._id]={id:t.user._id,name:t.user.personalInfo.firstName+" "+t.user.personalInfo.lastName,amount:ye[t.user._id]?parseInt(ye[t.user._id].amount)+parseInt(t.hours):parseInt(t.hours)},"pending"==t.approval&&s.map((function(e){console.log("completedItem pending",e),e.user._id==t.user._id&&we(!1)})),"approved"==t.approval&&s.map((function(e){e.user._id==t.user._id&&we(!0)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),!Ne){e.next=13;break}return e.next=12,y.patch("".concat(g.default.path.completedsheet.editCompletedsheet,"/").concat(Se,"/").concat(Ce));case 12:e.sent;case 13:se(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),le({type:"LOGOUT"}),ke("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){je(!1),_(!1),L(!1)};Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t,s,c,a,n,r;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return se(!0),e.next=3,y.get("".concat(g.default.path.timesheet.getTimesheetForProject,"/").concat(Se,"/").concat(Ce));case 3:return t=e.sent,s=[],t.timesheets.length>0&&(t.timesheets.forEach((function(e,t){parseInt(e.hours)>0&&s.push(e)})),M(s)),e.next=8,y.get("".concat(g.default.path.completedsheet.getCompletedsheetForMonth,"/").concat(Se,"/").concat(Ce));case 8:return c=e.sent,e.next=11,S(c);case 11:return e.next=13,y.get("".concat(g.default.path.projects.getProject,"/").concat(Se));case 13:return a=e.sent,e.next=16,y.get("".concat(g.default.path.clients.getClient,"/").concat(a.client));case 16:return n=e.sent,e.next=19,y.get("".concat(g.default.path.timesheet.getMonth,"/").concat(Ce),!0);case 19:return r=e.sent,Q({project:a.projectName,client:n.clientName,month:r.desc}),s.map(function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ye[t.user._id]={id:t.user._id,name:t.user.personalInfo.firstName+" "+t.user.personalInfo.lastName,amount:ye[t.user._id]?parseInt(ye[t.user._id].amount)+parseInt(t.hours):parseInt(t.hours)},console.log("item.approval pending",t.approval),"pending"==t.approval&&s.map((function(e){console.log("completedItem pending",e),e.user._id==t.user._id&&we(!1)})),console.log("item.approval approved",t.approval),"approved"==t.approval&&s.map((function(e){console.log("completedItem approved",e),e.user._id==t.user._id&&we(!0)}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.t0=fe,e.next=25,ye;case 25:e.t1=e.sent,(0,e.t0)(e.t1),se(!1);case 28:case"end":return e.stop()}}),e)}))),[f.loading]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:De();case 1:case"end":return e.stop()}}),e)}))),[y]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))),[D]);var Me=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t,s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t={approval:"approved"},s=localStorage.getItem("_id"),c=0;case 3:if(!(c<r.length)){e.next=12;break}return e.next=6,y.patch("".concat(g.default.path.timesheet.approveTimesheet,"/").concat(r[c],"/").concat(s),t,!0);case 6:if(!e.sent.err){e.next=9;break}return e.abrupt("return");case 9:c++,e.next=3;break;case 12:ze(),setTimeout((function(){l([])}),1e3);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t,s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("declineTimesheet: ",ne),t=Object(o.a)(Object(o.a)({},ne),{},{approval:"declined"}),console.log(t),s=localStorage.getItem("_id"),e.next=6,y.patch("".concat(g.default.path.timesheet.approveTimesheet,"/").concat(ne.id,"/").concat(s),t);case 6:if(!(c=e.sent).err){e.next=12;break}return console.log("ERROR"),L(!0),R(c.error.message),e.abrupt("return");case 12:_(!0),J("Successfully Declined Timesheet."),setTimeout((function(){Ae(),ze()}),2e3);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Le=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s,c,a,n){var r,l,i;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(re({id:t,desc:c,date:a,dateName:n}),"declined"!=s){e.next=5;break}je(!0),e.next=15;break;case 5:return r={approval:s},l=localStorage.getItem("_id"),e.next=9,y.patch("".concat(g.default.path.timesheet.approveTimesheet,"/").concat(t,"/").concat(l),r);case 9:if(!(i=e.sent).err){e.next=14;break}return L(!0),R(i.error.message),e.abrupt("return");case 14:setTimeout((function(){Ae(),ze()}),2e3);case 15:case"end":return e.stop()}}),e)})));return function(t,s,c,a,n){return e.apply(this,arguments)}}();return Object(k.jsx)("main",{children:te?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8",children:[Object(k.jsxs)("div",{className:"mb-4 sm:mb-0",children:[Object(k.jsxs)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:["Timesheets: ",Z.month]}),Object(k.jsx)("h2",{className:"text-xl md:text-xl text-slate-800",children:Z.client}),Z.project,Object(k.jsx)(q,{type:"error",open:T,setOpen:L,children:B})]}),Object(k.jsx)("div",{className:"mb-4 sm:mb-0 p-2 rounded-lg bg-indigo-200",children:Object.entries(Oe).map((function(e){return Object(k.jsx)("div",{className:"flex",children:Object(k.jsxs)("div",{className:"px-2",children:[(t=e[1].id,w.some((function(e){return e.user===t}))?Object(k.jsx)(Qe.a,{icon:$e.a,className:""}):Object(k.jsx)(Qe.a,{icon:$e.c,className:""}))," ",e[1].name," : ",e[1].amount]})});var t}))}),Object(k.jsxs)("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2",children:[Object(k.jsx)("div",{className:"".concat(r.length<1&&"hidden"),children:Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsx)("div",{className:"hidden xl:block text-sm italic mr-2 whitespace-nowrap"}),Object(k.jsxs)("button",{className:"btn bg-white border-slate-200 hover:border-slate-300 text-rose-500 hover:text-rose-600",onClick:function(e){Me(),l([])},children:["Approve selected ",r.length]})]})}),Object(k.jsx)(Te,{placeholder:"Search\u2026",setSearchTerm:ue}),Object(k.jsx)(Ke,{align:"right",setSelectedOptions:h,filterOptions:["approved","declined"]})]})]}),Object(k.jsx)(bt,{setSelectedItems:l,timesheetData:D,approveOne:Le,selectedOptions:x,selectedMonth:Ce,project:Se,searchTerm:me,info:Z}),Object(k.jsxs)(st,{id:"feedback-modal",modalOpen:de,setModalOpen:je,resetState:Ae,title:"Declined",children:[Object(k.jsxs)("div",{className:"px-5 py-4",children:[Object(k.jsx)("div",{className:"text-sm",children:Object(k.jsx)("div",{className:"font-medium text-slate-800 mb-3",children:"Please Indicate a reason for declining the timesheet."})}),Object(k.jsx)("div",{className:"space-y-3",children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"ReasonForDeclining",children:["Reason for declining"," ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsx)("input",{className:"form-input w-full px-2 py-1",type:"text",value:ne.message,onChange:function(e){re(Object(o.a)(Object(o.a)({},ne),{},{desc:e.target.value}))}})]})}),Object(k.jsx)(q,{type:"error",open:T,setOpen:L,children:B}),Object(k.jsx)(q,{type:"success",open:U,setOpen:_,children:G})]}),Object(k.jsxs)("div",{className:"px-5 py-4 border-t border-slate-200",children:[Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 text-slate-600",onClick:function(e){e.stopPropagation(),je(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-indigo-500 hover:bg-indigo-600 text-white",onClick:function(){Ie()},children:"Decline"})]}),Object(k.jsx)("div",{className:"text-xs mt-3",children:"* By declining this entry, an email will be sent to the consultant notifying them."})]})]})]})})},mt=["children","align"];var ut=function(e){var t=e.children,s=e.align,a=Object(be.a)(e,mt),n=Object(c.useState)(!1),r=Object(i.a)(n,2),l=r[0],d=r[1],j=Object(c.useRef)(null),b=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=function(e){var t=e.target;b.current&&(!l||b.current.contains(t)||j.current.contains(t)||d(!1))};return document.addEventListener("click",e),function(){return document.removeEventListener("click",e)}})),Object(c.useEffect)((function(){var e=function(e){var t=e.keyCode;l&&27===t&&d(!1)};return document.addEventListener("keydown",e),function(){return document.removeEventListener("keydown",e)}})),Object(k.jsxs)("div",Object(o.a)(Object(o.a)({},a),{},{children:[Object(k.jsxs)("button",{ref:j,className:"bg-white text-slate-400 hover:text-slate-500 rounded-full ".concat(l&&"bg-slate-100 text-slate-500"),"aria-haspopup":"true",onClick:function(){return d(!l)},"aria-expanded":l,children:[Object(k.jsx)("span",{className:"sr-only",children:"Menu"}),Object(k.jsxs)("svg",{className:"w-8 h-8 fill-current",viewBox:"0 0 32 32",children:[Object(k.jsx)("circle",{cx:"16",cy:"16",r:"2"}),Object(k.jsx)("circle",{cx:"10",cy:"16",r:"2"}),Object(k.jsx)("circle",{cx:"22",cy:"16",r:"2"})]})]}),Object(k.jsx)(Oe,{show:l,tag:"div",className:"origin-top-right z-10 absolute top-full min-w-36 bg-white border border-slate-200 py-1.5 rounded shadow-lg overflow-hidden mt-1 ".concat("right"===s?"right-0":"left-0"),enter:"transition ease-out duration-200 transform",enterStart:"opacity-0 -translate-y-2",enterEnd:"opacity-100 translate-y-0",leave:"transition ease-out duration-200",leaveStart:"opacity-100",leaveEnd:"opacity-0",children:Object(k.jsx)("ul",{ref:b,onFocus:function(){return d(!0)},onBlur:function(){return d(!1)},children:t})})]}))};var ht=function(e){return Object(k.jsx)("div",{className:"col-span-full sm:col-span-6 xl:col-span-3 bg-white shadow-lg rounded-sm border border-slate-200",children:Object(k.jsx)("div",{className:"flex flex-col h-full",children:Object(k.jsxs)("div",{className:"grow p-5",children:[Object(k.jsx)("div",{className:"relative",children:Object(k.jsxs)(ut,{align:"right",className:"absolute top-0 right-0 inline-flex",children:[Object(k.jsx)("li",{children:Object(k.jsx)("button",{className:"font-medium text-sm text-slate-600 hover:text-slate-800 flex py-1 px-3",onClick:function(t){return e.editClient(t,e.id)},children:"Edit"})}),Object(k.jsx)("li",{children:Object(k.jsx)("button",{className:"font-medium text-sm text-rose-500 hover:text-rose-600 flex py-1 px-3",onClick:function(t){return e.openModalClient(t,e.id)},children:"Delete"})})]})}),Object(k.jsxs)(l.b,{to:e.link,children:[Object(k.jsxs)("header",{children:[Object(k.jsx)("div",{className:"flex justify-center mb-2"}),Object(k.jsx)("header",{children:Object(k.jsx)("div",{title:e.name,className:"text-center mb-5",children:Object(k.jsx)(l.b,{className:"inline-flex text-slate-800 hover:text-slate-900",to:e.link,children:Object(k.jsx)("h2",{className:"text-xl leading-snug justify-center font-semibold",children:e.name.length>15?e.name.substring(0,15)+"...":e.name})})})})]}),Object(k.jsx)("div",{className:"text-center mt-2",children:Object(k.jsx)("div",{className:"text-sm",children:e.content})})]})]})})})};var pt=function(){var e=Object(d.n)().key,t=Object(c.useState)({}),s=Object(i.a)(t,2),n=s[0],r=s[1],l=Object(c.useState)([]),j=Object(i.a)(l,2),b=j[0],x=j[1],h=Object(c.useState)(!0),p=Object(i.a)(h,2),O=p[0],f=p[1],v=Object(c.useState)(!1),N=Object(i.a)(v,2),w=N[0],S=N[1],C=Object(d.l)(),z=Object(c.useState)(!1),D=Object(i.a)(z,2),M=D[0],E=D[1],T=Object(c.useState)(""),L=Object(i.a)(T,2),P=L[0],F=L[1],B=Object(c.useState)(!1),R=Object(i.a)(B,2),H=R[0],U=R[1],_=Object(c.useState)(!1),V=Object(i.a)(_,2),W=V[0],G=V[1],J=Object(c.useState)("Add"),K=Object(i.a)(J,2),X=K[0],Z=K[1],Q=Object(c.useState)({}),$=Object(i.a)(Q,2),ee=$[0],te=$[1],se=Object(c.useState)({}),ce=Object(i.a)(se,2),ae=ce[0],ne=ce[1],re=Object(c.useState)(!1),le=Object(i.a)(re,2),ie=le[0],oe=le[1],de=Object(c.useState)(!1),je=Object(i.a)(de,2),be=je[0],xe=je[1],me=a.a.useContext(Jc).dispatch,ue=Object(c.useContext)(I).setClients,he=function(e){return te((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.id,e.target.value))}))},pe=function(){S(!1),U(!1),E(!1),te({clientName:"",clientDesc:""}),Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""})),Array.from(document.querySelectorAll("textarea")).forEach((function(e){return e.value=""})),Oe()},Oe=function(){Z("Add"),r(Object(o.a)(Object(o.a)({},n),{},{title:"Add New Client"}))},fe=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return ve(),f(!0),e.next=4,y.get(g.default.path.clients.getAll);case 4:t=e.sent,ue(t),x(t),f(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ve=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),me({type:"LOGOUT"}),C("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),Z("Add"),e.next=4,y.get(g.default.path.clients.getAll);case 4:t=e.sent,x(t),r(Object(o.a)(Object(o.a)({},n),{},{title:"Add New Client"})),te({clientName:"",clientDesc:""}),f(!1);case 9:case"end":return e.stop()}}),e)}))),[e]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ve();case 1:case"end":return e.stop()}}),e)}))),[y]);var ge=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s,c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"Add"!=X){e.next=23;break}return e.next=4,Ot(ee);case 4:if((s=e.sent).valid){e.next=9;break}return E(!0),F(s.msg),e.abrupt("return");case 9:return E(!1),e.next=12,y.post(g.default.path.clients.createClient,ee,!0);case 12:if(!(c=e.sent).err){e.next=17;break}return E(!0),F(c.error.message),e.abrupt("return");case 17:U(!0),G("Successfully Added New Client."),fe(),setTimeout((function(){pe()}),2e3),e.next=35;break;case 23:return t.stopPropagation(),e.next=26,Ot(ee);case 26:if((a=e.sent).valid){e.next=33;break}return E(!0),F(a.msg),e.abrupt("return");case 33:E(!1),oe(!0);case 35:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),Z("Update"),r(Object(o.a)(Object(o.a)({},n),{},{title:"Edit Client"})),S(!0),e.next=6,y.get("".concat(g.default.path.clients.getClient,"/").concat(s));case 6:c=e.sent,ne(c),te({clientName:c.clientName,clientDesc:c.clientDesc}),document.getElementById("clientName").value=c.clientName,document.getElementById("clientDesc").value=c.clientDesc;case 11:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),we=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,y.patch("".concat(g.default.path.clients.editClient,"/").concat(ae._id),ee);case 3:if(!(s=e.sent).err){e.next=8;break}return E(!0),F(s.error.message),e.abrupt("return");case 8:U(!0),G("Successfully Editted Client."),fe(),setTimeout((function(){pe()}),1e3),f(!1);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),ye=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,y.get("".concat(g.default.path.clients.getClient,"/").concat(s));case 3:c=e.sent,ne(c),xe(!0);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),ke=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f(!0),e.next=4,y.delete("".concat(g.default.path.clients.deleteClient,"/").concat(ae._id));case 4:if(!e.sent.err){e.next=7;break}return e.abrupt("return");case 7:fe(),setTimeout((function(){xe(!1)}),1e3),f(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Se=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation(),S(!0);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("main",{children:O?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8",children:[Object(k.jsx)("div",{className:"mb-4 sm:mb-0",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-zinc-800 font-bold",children:"Convergenc3 Clients"})}),Object(k.jsxs)("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2",children:[Object(k.jsxs)("button",{className:"btn bg-rose-500 hover:bg-rose-600 text-white","aria-controls":"feedback-modal",onClick:Se,children:[Object(k.jsx)("svg",{className:"w-4 h-4 fill-current opacity-50 shrink-0",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M15 7H9V1c0-.6-.4-1-1-1S7 .4 7 1v6H1c-.6 0-1 .4-1 1s.4 1 1 1h6v6c0 .6.4 1 1 1s1-.4 1-1V9h6c.6 0 1-.4 1-1s-.4-1-1-1z"})}),Object(k.jsx)("span",{className:"hidden xs:block ml-2",children:" Add New Client"})]}),Object(k.jsx)(st,{id:"feedback-modal",modalOpen:w,setModalOpen:S,title:n.title,resetState:pe,children:Object(k.jsxs)("div",{className:"px-5 py-4",children:[Object(k.jsxs)("div",{className:"space-y-3",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"name",children:"Client Name"}),Object(k.jsx)("input",{id:"clientName",className:"form-input w-full px-2 py-1",type:"text",required:!0,onChange:he})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"description",children:"Client Description"}),Object(k.jsx)("textarea",{id:"clientDesc",className:"form-textarea w-full px-2 py-1",rows:"4",required:!0,onChange:he})]}),Object(k.jsx)(q,{type:"error",open:M,setOpen:E,children:P}),Object(k.jsx)(q,{type:"success",open:H,setOpen:U,children:W})]}),Object(k.jsx)("div",{className:"px-5 py-4 border-t border-zinc-200",children:Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),pe()},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:ge,children:X})]})})]})}),Object(k.jsx)(Xe,{id:"danger-modal",modalOpen:be,setModalOpen:xe,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-rose-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-rose-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Are you sure you want to delete"," ",ae.clientName,"?"]})}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),xe(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:ke,children:"Yes, Delete it"})]})]})]})}),Object(k.jsx)(Xe,{id:"success-modal",modalOpen:ie,setModalOpen:oe,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Are you sure you want update ",ae.clientName,"?"]})}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),oe(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:we,children:"Yes, Update it"})]})]})]})})]})]}),Object(k.jsx)("div",{className:"grid grid-cols-12 gap-6",children:b&&b.map((function(e){return Object(k.jsx)(ht,{openModalClient:ye,editClient:Ne,id:e._id,name:e.clientName,image:"data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEASABIAAD/2wCEAAgGBgcGBQgHBwcJCQgKDBQNDAsLDBkSEw8UHRofHh0aHBwgJC4nICIsIxwcKDcpLDAxNDQ0Hyc5PTgyPC4zNDIBERISGBUYLxoaL2NCOEJjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY//CABEIAIAAgAMBIgACEQEDEQH/xAAcAAACAwADAQAAAAAAAAAAAAAFBgMEBwABAgj/2gAIAQEAAAAA2Lzf99Q070nfOQ0LljHiTGjcuRWjYCCc8s+oap1xW8tVa05A2etuKbytufQLLkTeckzmebdNS765zvlfE2Eux5Nezpg+iuc53hbAUT25tq9LudrmhvOfTcvTtYyApVKhc+FuDopOCjrHkT6pgboK8XIGoAtBltdQdWc9z865WGj31FBZy+0QLV5V0E3EbglfLWfUs6TfFzXyFMwJlDNpi/L5jqYwm6bHevWDWImNLbPXKaBkRV6kmKXbmB1dH0uvdQU1WdL8XUxtx+cwGtsGhd5ejpe21Y7Is6bwATrjFp3E8D8+7VIQ5XLdfOfjbWH/xAAYAQADAQEAAAAAAAAAAAAAAAABAgQDAP/aAAoCAhADEAAAAJtnTuV3QjN2UkqxPMiFWIQo7Mr920693dw7OnN2WiVCQpBcZUKdp14HVAN0owKEY1J0+tsjmiUHHXKh1ioviDb4dyNLXRl//8QAJhAAAgMAAgICAgMBAQEAAAAAAgMBBAUABhESBxMUIRUiMRYjMv/aAAgBAQABCACxXhxftVUVFEwM+I57c9uNj3jxMUFwftxUQI+Oe3PaOe3JLjIg48cPOUZeZrrhI+sQccHu+2yPaOvdk19LYUix3Has4WPFqtHyVrzyPkfbKfA/9tsjWB7mfI34widhHe33vEUMnfu2PsC5e75r1bjkir5D2Wf5HetoiiObm1o0MqLKh7ttTz/t9oY/R9/3B5XxtEVzE9Yz7lfaWx27Up6SlVLfY+lZVbJJ9fW7GnKCQof9Vo2XH+K0NdUSw6e5+G+WBHb7E1GwzK7QjTCa92vi6X/2scnU+wZ52OnZsYf1qHF044eJqT/h9f1zn9QhXCUsf3GjZlToZPyX26yusFd3R+k2+86xPs5nTcTIriup8jUrgaDQ4KJ9ZOQhRSEH6TVYJR8P7/59B2W/6F8lITz6F8+hfPpXyDDkkM8YpRT/AG7t0ydzvenZPr8vyui46MDG1LWk9ZpfSRaSQPu/Gxfyhqq5HT8TP1YoM7vnp672t1QPjFkK7bRJXuHPcee4c+wOfYHC7h2ETkJ6H2TV19qyi73rYvZja0VF7157HEzo2X64ZjYL6KKvRU2YbPBUAs9+W69CvoFo2fl+0p+ZQg+gNuo0vy0K7NvsYAzsWrdPrzLKp7dvRxHbdoonz/1O7PO0dPuu0/vzugdc1MjYtvvdhyqF9gHet9Gzpok2nTf2hrl0q1lylCKxS+ZL9JcJR4LQQgdUFL+aMt00868Hxrj27uNbs11dc2BaBTvqc3rjUj1fD++w07tHBzmMZEdo6xbDSD+M9A5IjH+aTgXH96eiFgYWPas91rKgk0KVeEKhRrTVCTZZ7CIP+uvTcyxYhjdHOr7uRYzLHVus0+q9fq5VX0Dj0AwPE2qpVII0U9i4DpCa0fYMGcNXyWBxgpZ/qgSE/r3X4nna9+OtWTUGh2S/of3PrFdDIhjK9b1Z4gGyu1E8Q8WIEplgclgcYSij9iCPbzwDXH+HS7MI+Y6mWy3SevS7G51S2j6qSxMVnPZLH4tf3RQoJvZkTcigTNY6proHi6bPXPtRcHzH0xKQdDEw2jIcLN0WR7J0F9iRahYU8jWcmCd/BXxjzC8bS8cQVw9D6WFjiu7LldmzNV+lKxxaWkISpurnaf8AKnDa/cK/XarotdT2wtAexqXa+dZ93xm2a9JhggbjBCVqaX2M/wDXYC8jrNp9LJ7QV2pSJ+R2jPtsisNLXztI5XVgPEc9A4QDPCUuf3NlteoEmfaO539N9u9UiJZp0apNYCWRDvuK0fquog4HzxjLZfqvl1YG1LLGoSXdX0A5n2BPCQpvXNRtftuRPCdSjQXY4sxasTH3DnkZ5fshWqmznc+wzV6q6+CVDXXmevXM5Lm6GjDPrJapZXYs2eI/NWs/WKFtTo8z7DMSufxgfXisdX8uMfSqANoQ26F+sduQYJRgv9qXpI1LMx+6SmrWUM7LsuqnfSz5C0Psxa9LjLqKrLkoxs+KXXc5fDeX9YgLBBBRBMmFeeKs/jo+2cDQY1wyaHKt/wBj3atpPbOw59aw5dm2p9Io8UVc0dC9R6tWfSEY8cGPAzzuqP6GXO207A9fSFhzkCm0hTfSEoCGKXLZniqLjL3WyjMI+w7aysjEBjqYiIni7f46iYfaTfqd42SqKhL9KodJRHHZrFN2iEs63bgYGOesc3bOfmRZ2r2ZnNLC19/RYc11PqPpXhtZ9WzDBaXiVV2EhQxFi6JrkGBADIenn3ODhsiaZMdlxx2DRMMlJt0UFG8kFduvkHXLULsgDv/EADIQAAICAQMBBgUDAwUAAAAAAAECAAMRBBIhQRMiMVFhkQUQQlJxMpKhFGKBIzNygrH/2gAIAQEACT8Ac+8c+8aNGjGMfeMY0aNGjGMfeMY0SmdkKjknEVWfeBhpp6PczS0H/JlVC1txvRtyiapMH7KiZqKrGIJ74wJbpktD4VVf0ziUUkVuVBJMoo9zKaBkwoXyPGCmLRK6Jorv2zTWIgU8sIqujNnaYiUOo4aXH+pH6t5z+3oYhDWnv11jusfPHnEfS0vyUYd32MQZUYCqCAehMqDG7lvUxT2q8Lb1I6E+c0ltlbcq6DIYTQ3+I+mUO75HdAmhu/bNDd7TQXe0URRKmfZyABzNRVVYwyNNWh3ovQl4bU+GUn/Vt6uftE0FSKngSMmae3sRypCHbFLL1jKOf05jcgD8Ry7095IogEURRFHtGhHyATS00IxPoEjaVQ6Dt7rOdjnx485V8VejkdvcqrVZjgkDoIiMCMEMJsFDvv5+kSrS2PYm4vequ7t9qq3SUtX8PuVbaf7CRyo9MxiQ/jsjCMIwjCMJq1BBwe5L1dK0BGFloTdnMtRnvTY/4lCrpjYSn956mAYxDx8rzfrbrM0VADFYCgSsdv2hwY4UVI2yatOSPol2LVQHM1a/smrU/wDWaxf2zSlls/WM4mn7NHUBeYgKoOCx8JUUt25BBlWn0mjooQMb6jjOMd0gzUdqyrhm9fliVAfVwIh7KslHlLWd/ZNE3BHURO+UxiUcLgKGmmr4P2TSl0I723gQCARCw/GYh49JrNRpUpO+06f9brjwEXUOGXPaXPuZs88xxxMu2YOT1gUi6opkjwOODO+Kl79h8bG6mAQCJ4+U0lnJ8YvJjCMIRCIREBN3erjFAegE79h6kzAE/BhEMYRhNsYT4q/sJrndF8BNY1ase8JqXYY85qzW3oY6ao+I7VA2ItR0jPtNYqUcRiK1biEwZx4zUHT45FgPhPirsvoBPiD4/wCInxG3M19s+I2zSuKcfrI4gKEjpEtsQch4XXAjWvRgNuxwIxtC+CowP+DGFI1ZJ01AT/br8z6ma1CnWF7UY8HGMQqgPODzNeS5PAYEiEoa07QsHI8MEkAiZ1V7rgpWneB6H1gftuz7TaozwJqUssAzs64+QHyUTx+0DkzYnw3RP2VdeR33+4j6pZb/AE2qtUXDeC55BYkdBmC1wOOkVUqhOBEA82hZrT1aNzZp7FHsZtorS3v6sISyjMUChhdSlgG3eevM216hTkWoPH8wjDDMIhEYZEY7+yNVfnuJjVXvtNt1TIcIeeG8+hjmwZ7DTttx5EmDJK8xVwIBGC+RxCrM3OcwAF1P8jEFz6XTWF9UiNwADjJ94XTRLqtqB3BZA3IzLN4VAxjZAwyH0M1LSwvLCyWX111r5ADJg7m+s5l19uialVJ27CzYzj/DTu2dkLW/Lcxjws8YSCeuIxWHch84NrL4cxWc13W2sE+wZJmmemgWoErZ97KSPDPXkGAC18IJaK7kYVufnnc1rN/4IXOvsAtXSouSlY+p5bffpSy9k7DZzxkkQAgIoAI6Yg2cc9RAGT+2LwPKDj+YMYE4I5lbu5cuQnPCr3jKXqpWykEPZuIbgE58iZjstHayj1MydpWwAfn51i0VP2Wlq+9xKC+q16OyK3iKyMADyzA+6p/054VgQD/AxGOy2sEQ92EKD4yrcnTacGKSp+kjmKU2jwBhBAGXGYWTN7xW7Km6trWH0LvAz/MXbuKkt0ztEcMW49J//8QAIBEAAwACAwEBAAMAAAAAAAAAAAECAxESITFBEAQTUf/aAAgBAgEBPwBw/dCVPwc0KWhcn8ONHB0KaQ6bIteIqiXv8dsmmjmypqVtil+o7+nL/DHTVFJ76NUzVFU2tCySlooT0Q+9jpn9nEWZPwatLYobY8bfRccRI1bW0hqn8FFL4NtrRG/ERje+yv40X6LBE+It66RxRkXEaaMMax8jGts0OS1o2ZluR1tEvWNIxfiY+x+ldyf/xAAeEQEBAAICAwEBAAAAAAAAAAABAAIRAxIQITEEUf/aAAgBAwEBPwDZKDCSyhdi2F2ILLGxxsjXjoSDdSMhbZ8b18LX9uXEcYbZbIxB3OLuwk3Z/NWi67ujCXcseQGw5DOZcR1bJyILIPrKasf054/LL9HJl9bj9u23YPaEuXPfJ1uR0eN2HvxxvuCcd8m7ltSWPqPkem//2Q==",link:"/clients/".concat(e._id,"/projects"),content:e.clientDesc},e._id)}))})]})})},Ot=function(e){var t={clientName:"Client Name",clientDesc:"Client Description"};for(var s in e)if(""==e[s])return{valid:!1,msg:"".concat(t[s]," is required")};return{valid:!0}},ft=s(232);var vt=function(e){return e.active?Object(k.jsx)("div",{className:"col-span-full sm:col-span-6 xl:col-span-3 bg-white shadow-lg rounded-sm border border-slate-200",children:Object(k.jsxs)("div",{className:"flex flex-col h-full ",children:[Object(k.jsxs)("div",{className:"grow p-5",children:[Object(k.jsx)("div",{className:"relative",children:Object(k.jsxs)(ut,{align:"right",className:"absolute top-0 right-0 inline-flex",children:[Object(k.jsx)("li",{children:Object(k.jsx)("button",{className:"font-medium text-sm text-slate-600 hover:text-slate-800 flex py-1 px-3",onClick:function(t){e.editProject(t,e.id)},children:"Edit"})}),Object(k.jsx)("li",{children:Object(k.jsx)("button",{className:"font-medium text-sm text-rose-500 hover:text-rose-600 flex py-1 px-3",onClick:function(t){return e.openModalProject(t,e.id)},children:"Delete"})})]})}),Object(k.jsx)("header",{children:Object(k.jsx)("div",{title:e.name,className:"text-center mb-5",children:Object(k.jsx)(l.b,{className:"inline-flex text-slate-800 hover:text-slate-900",to:e.link,children:Object(k.jsx)("h2",{className:"text-xl leading-snug justify-center font-semibold",children:e.name.length>15?e.name.substring(0,15)+"...":e.name})})})}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Client Rep:"}),Object(k.jsx)("div",{className:"text-sm col-span-5",children:Object(k.jsxs)("a",{href:"mailto:".concat(e.contactInfo.email),children:[" ",e.contactInfo.name]})})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"C3 Rep:"}),Object(k.jsx)("div",{className:"text-sm col-span-5",children:Object(k.jsx)("a",{href:"mailto:".concat(e.businessRep.email),children:e.businessRep.name})})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Team:"}),Object(k.jsx)("div",{className:"text-sm col-span-5",children:e.consultants.slice(0,2).map((function(e){return Object(k.jsxs)("div",{children:[e.personalInfo.firstName+" "+e.personalInfo.lastName,Object(k.jsx)("br",{})]})}))})]})]}),Object(k.jsx)("div",{className:"border-t border-slate-200",children:Object(k.jsx)(l.b,{className:"block text-center text-sm text-rose-500 hover:text-rose-600 font-medium px-3 py-4",to:e.link,children:Object(k.jsx)("div",{className:"flex items-center justify-center",children:Object(k.jsx)("span",{children:"See Timesheets"})})})})]})}):Object(k.jsx)("div",{className:"col-span-full sm:col-span-6 xl:col-span-3 bg-slate-300 shadow-lg rounded-sm border border-slate-200",children:Object(k.jsxs)("div",{className:"flex flex-col h-full ",children:[Object(k.jsxs)("div",{className:"grow p-5",children:[Object(k.jsx)("header",{children:Object(k.jsx)("div",{className:"text-center mb-5",children:Object(k.jsx)(l.b,{className:"inline-flex text-slate-400 hover:text-slate-500",to:e.link,children:Object(k.jsx)("h2",{className:"text-xl leading-snug justify-center font-semibold",children:e.name})})})}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold text-slate-400",children:"Client Rep:"}),Object(k.jsx)("div",{className:"text-sm col-span-5 text-slate-400",children:Object(k.jsxs)("a",{href:"mailto:".concat(e.contactInfo.email),children:[" ",e.contactInfo.name]})})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold text-slate-400",children:"C3 Rep:"}),Object(k.jsx)("div",{className:"text-sm col-span-5 text-slate-400",children:Object(k.jsx)("a",{href:"mailto:".concat(e.businessRep.email),children:e.businessRep.name})})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold text-slate-400",children:"Team:"}),Object(k.jsxs)("div",{className:"text-sm col-span-5 text-slate-400",children:[e.consultants.slice(0,2).map((function(e){return Object(k.jsxs)("div",{children:[e.personalInfo.firstName+" "+e.personalInfo.lastName,Object(k.jsx)("br",{})]})}))," "]})]})]}),Object(k.jsx)("div",{className:"border-t border-slate-200",children:Object(k.jsx)(l.b,{className:"block text-center text-sm text-rose-200 hover:text-rose-400 font-medium px-3 py-4",to:e.link,children:Object(k.jsx)("div",{className:"flex items-center justify-center",children:Object(k.jsx)("span",{children:"See Timesheets"})})})})]})})};var gt=function(){var e=Object(d.n)().key,t=Object(c.useState)({}),s=Object(i.a)(t,2),n=s[0],r=s[1],l=Object(c.useState)([]),j=Object(i.a)(l,2),b=j[0],x=j[1],h=Object(c.useState)([]),p=Object(i.a)(h,2),O=p[0],f=p[1],v=Object(c.useState)({}),N=Object(i.a)(v,2),w=N[0],S=N[1],C=Object(c.useState)([{id:0}]),z=Object(i.a)(C,2),D=(z[0],z[1],Object(c.useState)(!0)),M=Object(i.a)(D,2),E=M[0],I=M[1],T=Object(c.useState)(!1),L=Object(i.a)(T,2),P=L[0],F=L[1],B=Object(d.l)(),R=Object(c.useState)(!1),H=Object(i.a)(R,2),U=H[0],_=H[1],V=Object(c.useState)(""),W=Object(i.a)(V,2),G=W[0],J=W[1],K=Object(c.useState)(!1),X=Object(i.a)(K,2),Z=X[0],Q=X[1],$=Object(c.useState)(!1),ee=Object(i.a)($,2),te=ee[0],se=ee[1],ce=Object(c.useState)("Add"),ae=Object(i.a)(ce,2),ne=ae[0],re=ae[1],le=Object(c.useState)({}),ie=Object(i.a)(le,2),oe=ie[0],de=ie[1],je=Object(c.useState)({}),be=Object(i.a)(je,2),xe=be[0],me=be[1],ue=Object(c.useState)(!1),he=Object(i.a)(ue,2),pe=he[0],Oe=he[1],fe=Object(c.useState)(!1),ve=Object(i.a)(fe,2),ge=ve[0],Ne=ve[1],we=(Object(c.useRef)(),Object(c.useState)([])),ye=Object(i.a)(we,2),ke=ye[0],Se=ye[1],Ce=a.a.useContext(Jc).dispatch,ze=function(e){de((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.id,e.target.value))}))},De=function(){F(!1),Oe(!1),Q(!1),_(!1),de({projectName:"",firstName:"",lastName:"",email:"",phoneNumber:"",businessRep:"",consultants:[],dueDate:""}),Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""})),Array.from(document.querySelectorAll("textarea")).forEach((function(e){return e.value=""})),Array.from(document.querySelectorAll("select")).forEach((function(e){return e.selectedIndex=0})),Se([]),Ae()},Ae=function(){I(!0),re("Add"),r(Object(o.a)(Object(o.a)({},n),{},{title:"Add New Project"})),I(!1)},Me=function(){var t=Object(u.a)(Object(m.a)().mark((function t(){var s;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return Ie(),I(!0),t.next=4,y.get("".concat(g.default.path.projects.getProjects,"/").concat(e));case 4:s=t.sent,x(s),I(!1);case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),Ie=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),Ce({type:"LOGOUT"}),B("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function t(){var s,c,a,n;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return I(!0),re("Add"),t.next=4,y.get("".concat(g.default.path.projects.getProjects,"/").concat(e));case 4:return s=t.sent,t.next=7,y.get(g.default.path.users.getAll);case 7:return c=t.sent,t.next=10,y.get("".concat(g.default.path.clients.getClient,"/").concat(e));case 10:a=t.sent,n=[],c.forEach((function(e){var t={label:e.personalInfo.firstName+" "+e.personalInfo.lastName,value:e._id};n.push(t)})),x(s),S(c),f(n),r({title:"Add New Project",company:a.clientName}),I(!1);case 18:case"end":return t.stop()}}),t)}))),[e]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ie();case 1:case"end":return e.stop()}}),e)}))),[y]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=[],ke.forEach((function(e){t.push(e.value)})),de((function(e){return Object(o.a)(Object(o.a)({},e),{},{consultants:t})})),console.log(oe);case 4:case"end":return e.stop()}}),e)}))),[ke]);var Te=function(){var t=Object(u.a)(Object(m.a)().mark((function t(s){var c,a,n;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(s.preventDefault(),"Add"!=ne){t.next=20;break}if((c=Nt(oe)).valid){t.next=7;break}return _(!0),J(c.msg),t.abrupt("return");case 7:return _(!1),t.next=10,y.post("".concat(g.default.path.projects.createProject,"/").concat(e),oe,!0);case 10:if(!(a=t.sent).err){t.next=15;break}return _(!0),J(a.error.message),t.abrupt("return");case 15:Q(!0),se("Successfully Created Project."),setTimeout((function(){De(),Me()}),1e3),t.next=30;break;case 20:if(s.stopPropagation(),(n=Nt(oe)).valid){t.next=28;break}return _(!0),J(n.msg),t.abrupt("return");case 28:_(!1),Oe(!0);case 30:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),Le=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s){var c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),re("Update"),r(Object(o.a)(Object(o.a)({},n),{},{title:"Edit Project"})),e.next=5,y.get("".concat(g.default.path.projects.getProject,"/").concat(s));case 5:c=e.sent,me(c),document.getElementById("projectName").value=c.projectName,document.getElementById("firstName").value=c.contactInfo.firstName,document.getElementById("lastName").value=c.contactInfo.lastName,document.getElementById("email").value=c.contactInfo.email,document.getElementById("phoneNumber").value=c.contactInfo.phoneNumber,document.getElementById("businessRep").value=c.businessRep,a=[],c.consultants.forEach((function(e){a.push(O.find((function(t){return t.value===e})))})),Se(a),document.getElementById("dueDate").value=c.completionDate,de({projectName:c.projectName,firstName:c.contactInfo.firstName,lastName:c.contactInfo.lastName,email:c.contactInfo.email,phoneNumber:c.contactInfo.phoneNumber,businessRep:c.businessRep,consultants:c.consultants,dueDate:c.completionDate}),F(!0);case 19:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch("".concat(g.default.path.projects.editProject,"/").concat(xe._id),oe);case 2:if(!(s=e.sent).err){e.next=7;break}return _(!0),J(s.error.message),e.abrupt("return");case 7:Q(!0),se("Successfully Editted Project."),setTimeout((function(){De(),Me()}),1e3);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,y.get("".concat(g.default.path.projects.getProject,"/").concat(s));case 3:c=e.sent,me(c),Ne(!0);case 6:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),Be=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y.patch("".concat(g.default.path.projects.softDeleteProject,"/").concat(xe._id),{active:!1});case 3:if(!e.sent.err){e.next=6;break}return e.abrupt("return");case 6:Me(),setTimeout((function(){Ne(!1)}),1e3);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("main",{children:E?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8",children:[Object(k.jsx)("div",{className:"mb-4 sm:mb-0",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-zinc-800 font-bold",children:n.company})}),Object(k.jsxs)("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2",children:[Object(k.jsxs)("button",{className:"btn bg-rose-500 hover:bg-rose-600 text-white","aria-controls":"feedback-modal",onClick:function(e){e.stopPropagation(),F(!0)},children:[Object(k.jsx)("svg",{className:"w-4 h-4 fill-current opacity-50 shrink-0",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M15 7H9V1c0-.6-.4-1-1-1S7 .4 7 1v6H1c-.6 0-1 .4-1 1s.4 1 1 1h6v6c0 .6.4 1 1 1s1-.4 1-1V9h6c.6 0 1-.4 1-1s-.4-1-1-1z"})}),Object(k.jsx)("span",{className:"hidden xs:block ml-2",children:" Add New Project"})]}),Object(k.jsx)(st,{id:"feedback-modal",modalOpen:P,setModalOpen:F,title:n.title,resetState:De,children:Object(k.jsxs)("div",{className:"px-5 py-4",children:[Object(k.jsx)("div",{className:"text-large mt-5",children:Object(k.jsx)("div",{className:"font-medium text-zinc-800 mb-3",children:"Please Enter Project Details:"})}),Object(k.jsxs)("div",{className:"space-y-3",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"name",children:"Project Name"}),Object(k.jsx)("input",{id:"projectName",className:"form-input w-full px-2 py-1 mb-5",type:"text",required:!0,onChange:ze})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"name",children:"First Name"}),Object(k.jsx)("input",{id:"firstName",className:"form-input w-full px-2 py-1",type:"text",required:!0,onChange:ze})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"name",children:"Last Name"}),Object(k.jsx)("input",{id:"lastName",className:"form-input w-full px-2 py-1",type:"text",required:!0,onChange:ze})]})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"email",children:"Email"}),Object(k.jsx)("input",{id:"email",className:"form-input w-full px-2 py-1",type:"email",required:!0,onChange:ze})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"phoneNumber",children:"Contact Number"}),Object(k.jsx)("input",{id:"phoneNumber",className:"form-input w-full px-2 py-1 mb-5",type:"text",required:!0,onChange:ze})]}),Object(k.jsx)("div",{className:"text-md",children:Object(k.jsx)("div",{className:"font-medium text-zinc-800 mb-3",children:"Please Select A Project Manager:"})}),Object(k.jsx)("div",{children:Object(k.jsxs)("select",{id:"businessRep",name:"businessRep",className:"form-select w-full mt-2 mb-5",onChange:ze,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select a Project Manager"}),w.map((function(e,t){return Object(k.jsxs)("option",{value:e._id,children:[e.personalInfo.firstName," ",e.personalInfo.lastName]},t)}))]})}),Object(k.jsx)("div",{className:"text-medium",children:Object(k.jsx)("div",{className:"font-medium text-zinc-800 mb-3",children:"Please Select Consultants:"})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"consultants",children:"Consultants"}),Object(k.jsx)(ft.a,{id:"consultants",options:O,value:ke,onChange:Se,labelledBy:"Select"})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"dueDate",children:"End Date "}),Object(k.jsx)("input",{id:"dueDate",className:"form-input w-full",type:"date",onChange:ze})]})]}),Object(k.jsx)("div",{className:"px-5 py-4 border-t border-zinc-200",children:Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),De()},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:Te,children:ne})]})}),Object(k.jsx)(q,{type:"error",open:U,setOpen:_,children:G}),Object(k.jsx)(q,{type:"success",open:Z,setOpen:Q,children:te})]})}),Object(k.jsx)(Xe,{id:"danger-modal",modalOpen:ge,setModalOpen:Ne,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-rose-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-rose-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Are you sure you want to delete"," ",xe.projectName,"?"]})}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),Ne(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:Be,children:"Yes, Delete it"})]})]})]})}),Object(k.jsxs)(Xe,{id:"success-modal",modalOpen:pe,setModalOpen:Oe,children:[Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Are you sure you want update"," ",xe.projectName,"?"]})}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),Oe(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:Pe,children:"Yes, Update it"})]})]})]}),Object(k.jsx)(q,{type:"error",open:U,setOpen:_,children:G}),Object(k.jsx)(q,{type:"success",open:Z,setOpen:Q,children:te})]})]})]}),Object(k.jsx)("div",{className:"grid grid-cols-12 gap-6",children:b.projects&&b.projects.map((function(t,s){return Object(k.jsx)(vt,{openModalProject:Fe,editProject:Le,id:t._id,name:t.projectName,contactInfo:{name:"".concat(t.contactInfo.firstName," ").concat(t.contactInfo.lastName),email:t.contactInfo.email},link:"/clients/".concat(e,"/projects/").concat(t._id),businessRep:{name:"".concat(t.businessRep.personalInfo.firstName," ").concat(t.businessRep.personalInfo.lastName),email:t.businessRep.email},consultants:t.consultants,active:t.active},t._id)}))})]})})},Nt=function(e){var t={projectName:"Project Name",firstName:"Project Owner's First Name ",lastName:"Project Owner's Last Name ",email:"Email",phoneNumber:"Contact Number",businessRep:"Project Manager",consultants:"Consultants",dueDate:"End Date"};for(var s in e){if(""===e[s])return{valid:!1,msg:"".concat(t[s]," is required")};if("Contact Number"==t[s]){if(!new RegExp(/^[0-9\b]+$/).test(e[s]))return{valid:!1,msg:"Please enter a valid number for the Contact Number."};if(10!=e[s].length)return{valid:!1,msg:"Please enter valid phone number."}}}return{valid:!0}};var wt=function(){new Date,Object(d.n)().key;var e=Object(c.useState)({}),t=Object(i.a)(e,2),s=(t[0],t[1],Object(c.useState)([])),n=Object(i.a)(s,2),r=n[0],o=n[1],j=Object(c.useState)([]),b=Object(i.a)(j,2),x=b[0],h=b[1],p=Object(c.useState)(!0),O=Object(i.a)(p,2),f=O[0],v=O[1],N=Object(c.useState)(!1),w=Object(i.a)(N,2),S=(w[0],w[1],Object(d.l)()),C=a.a.useContext(Jc).dispatch,z=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),C({type:"LOGOUT"}),S("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t,s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),t=localStorage.getItem("_id"),e.next=4,y.get("".concat(g.default.path.projects.getProjectsForRep,"/").concat(t));case 4:return s=e.sent,e.next=7,y.get("".concat(g.default.path.completedsheet.getCompletedsheets));case 7:c=e.sent,o(s.projects),h(c.completedsheets),v(!1);case 11:case"end":return e.stop()}}),e)}))),[]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:z();case 1:case"end":return e.stop()}}),e)}))),[y]),Object(k.jsx)("main",{children:f?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8",children:[Object(k.jsxs)("div",{className:"mb-4 sm:mb-0",children:[Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-zinc-800 font-bold",children:"My Projects"}),Object(k.jsx)("br",{}),Object(k.jsxs)("div",{children:[Object(k.jsx)(Qe.a,{icon:$e.a})," Timesheet Submitted",Object(k.jsx)("br",{}),Object(k.jsx)(Qe.a,{icon:$e.c})," No Timesheet Submitted"]})]}),Object(k.jsx)("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2"})]}),Object(k.jsx)("div",{className:"grid grid-cols-12 gap-6",children:r.map((function(e){return Object(k.jsx)("div",{className:"col-span-full sm:col-span-6 xl:col-span-3 bg-white shadow-lg rounded-sm border border-slate-200",children:Object(k.jsxs)("div",{className:"flex flex-col h-full ",children:[Object(k.jsxs)("div",{className:"grow p-5",children:[Object(k.jsx)("header",{children:Object(k.jsx)("div",{className:"text-center mb-5",children:Object(k.jsx)(l.b,{className:"inline-flex text-slate-800 hover:text-slate-900",to:"/approve/".concat(e._id),children:Object(k.jsx)("h2",{className:"text-xl leading-snug justify-center font-semibold",children:e.projectName})})})}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Client Rep:"}),Object(k.jsx)("div",{className:"text-sm col-span-5",children:Object(k.jsxs)("a",{href:"mailto:".concat(e.contactInfo.email),children:[" ",e.contactInfo.firstName+" "+e.contactInfo.lastName]})})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"C3 Rep:"}),Object(k.jsx)("div",{className:"text-sm col-span-5",children:Object(k.jsx)("a",{href:"mailto:".concat(e.businessRep.email),children:e.businessRep.personalInfo.firstName+" "+e.businessRep.personalInfo.lastName})})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Team:"}),Object(k.jsx)("div",{className:"text-sm col-span-5",children:e.consultants.slice(0,2).map((function(e){return Object(k.jsxs)("div",{children:[e.personalInfo.firstName+" "+e.personalInfo.lastName,Object(k.jsx)("br",{})]})}))})]})]}),Object(k.jsx)("div",{className:"border-t border-slate-200",children:Object(k.jsx)(l.b,{className:"block text-center text-sm text-rose-500 hover:text-rose-600 font-medium px-3 py-4",to:"/approve/".concat(e._id),children:Object(k.jsxs)("div",{className:"flex items-center justify-center",children:[Object(k.jsx)("div",{className:"h-5% w-5% bg-red-500"}),(t=e._id,x.some((function(e){return e.project===t}))?Object(k.jsx)(Qe.a,{icon:$e.a,className:"p-2",color:"#3E3E3F"}):Object(k.jsx)(Qe.a,{icon:$e.c,className:"p-2",color:"#3E3E3F"})),Object(k.jsx)("span",{children:"See Timesheets"})]})})})]})});var t}))})]})})};var yt=function(e){return Object(k.jsx)("div",{className:"col-span-full sm:col-span-6 xl:col-span-4 bg-white shadow-lg rounded-sm border border-slate-200",children:Object(k.jsxs)("div",{className:"flex flex-col h-full",children:[Object(k.jsx)("div",{className:"grow p-5",children:Object(k.jsx)("div",{className:"flex justify-between items-start",children:Object(k.jsx)("header",{children:Object(k.jsxs)("div",{className:"flex mb-2 items-center",children:[Object(k.jsx)(l.b,{className:"relative inline-flex items-start mr-5",to:e.link,children:Object(k.jsx)("img",{className:"pt-1",src:"https://cdn-icons-png.flaticon.com/128/3652/3652191.png",width:"40",height:"40",alt:e.name})}),Object(k.jsx)("div",{className:"mt-1 pr-1",children:Object(k.jsx)(l.b,{className:"inline-flex text-slate-800 hover:text-slate-900",to:e.link,children:Object(k.jsx)("h2",{className:"text-xl leading-snug justify-center font-semibold",children:e.name})})})]})})})}),Object(k.jsx)("div",{className:"border-t border-slate-200",children:Object(k.jsx)("div",{className:"flex divide-x divide-slate-200r",children:Object(k.jsx)(l.b,{className:"block flex-1 text-center text-sm text-slate-600 hover:text-slate-800 font-medium px-3 py-4 group",to:e.link,children:Object(k.jsxs)("div",{className:"flex items-center justify-center",children:[e.userExists?e.userExists(e.data._id)?"Approve Timesheets"==e.linkTitle?Object(k.jsx)(Qe.a,{icon:$e.a,className:"p-2"}):null:"Approve Timesheets"==e.linkTitle?Object(k.jsx)(Qe.a,{icon:$e.c,className:"p-2"}):null:null,Object(k.jsx)("svg",{className:"w-4 h-4 fill-current text-slate-400 group-hover:text-slate-500 shrink-0 mr-2",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M11.7.3c-.4-.4-1-.4-1.4 0l-10 10c-.2.2-.3.4-.3.7v4c0 .6.4 1 1 1h4c.3 0 .5-.1.7-.3l10-10c.4-.4.4-1 0-1.4l-4-4zM4.6 14H2v-2.6l6-6L10.6 8l-6 6zM12 6.6L9.4 4 11 2.4 13.6 5 12 6.6z"})}),Object(k.jsx)("span",{children:e.linkTitle})]})})})})]})})};var kt=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),s=t[0],n=t[1],r=Object(c.useState)([]),l=Object(i.a)(r,2),o=l[0],j=l[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),h=(x[0],x[1],Object(c.useState)({})),p=Object(i.a)(h,2),O=(p[0],p[1],Object(c.useState)(!0)),f=Object(i.a)(O,2),v=f[0],N=f[1],w=a.a.useContext(Jc).dispatch,S=Object(d.l)(),C=Object(c.useState)([]),z=Object(i.a)(C,2),D=z[0],M=z[1],E=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),w({type:"LOGOUT"}),S("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function I(e){return D.some((function(t){return t.project===e}))}return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t,s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return N(!0),t=localStorage.getItem("_id"),e.next=4,y.get("".concat(g.default.path.completedsheet.getCompletedsheet,"/").concat(t));case 4:return s=e.sent,e.next=7,M(s);case 7:return e.next=9,y.get(g.default.path.timesheet.month);case 9:if(!(c=e.sent).err){e.next=12;break}return e.abrupt("return");case 12:j(c.data),n(!0),N(!1);case 15:case"end":return e.stop()}}),e)}))),[s]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E();case 1:case"end":return e.stop()}}),e)}))),[y]),Object(k.jsx)("main",{children:v?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8",children:Object(k.jsx)("div",{className:"mb-4 sm:mb-0",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Months \ud83d\udcc6"})})}),Object(k.jsx)("div",{className:"grid grid-cols-12 gap-6",children:s&&o.map((function(e){return Object(k.jsx)(yt,{userExists:I,completedSheets:D,id:e._id,name:e.name,link:"/timesheet/".concat(e._id),data:e,desc:e.desc,linkTitle:"Edit Timesheets"},e._id)}))})]})})};var St=function(){var e=Object(d.n)().key,t=Object(d.n)().clientID,s=Object(c.useState)(!1),n=Object(i.a)(s,2),r=n[0],l=n[1],o=Object(c.useState)([]),j=Object(i.a)(o,2),b=j[0],x=j[1],h=Object(c.useState)(!1),p=Object(i.a)(h,2),O=(p[0],p[1],Object(c.useState)({})),f=Object(i.a)(O,2),v=f[0],N=f[1],w=Object(c.useState)(!0),S=Object(i.a)(w,2),C=S[0],z=S[1],D=a.a.useContext(Jc).dispatch,M=Object(d.l)(),E=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),D({type:"LOGOUT"}),M("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function s(){var c,a,n;return Object(m.a)().wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return z(!0),localStorage.getItem("_id"),s.next=4,y.get(g.default.path.timesheet.month);case 4:if(!(c=s.sent).err){s.next=7;break}return s.abrupt("return");case 7:return s.next=9,y.get("".concat(g.default.path.projects.getProject,"/").concat(e));case 9:return a=s.sent,s.next=12,y.get("".concat(g.default.path.clients.getClient,"/").concat(t));case 12:n=s.sent,N({project:a.projectName,client:n.clientName,clientId:n._id}),x(c.data),l(!0),z(!1);case 17:case"end":return s.stop()}}),s)}))),[r]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:E();case 1:case"end":return e.stop()}}),e)}))),[y]),Object(k.jsx)("main",{children:C?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8",children:Object(k.jsxs)("div",{className:"mb-4 sm:mb-0",children:[Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Months \ud83d\udcc6"}),Object(k.jsx)("h2",{className:"text-xl md:text-xl text-slate-800",children:v.client}),v.project]})}),Object(k.jsx)("div",{className:"grid grid-cols-12 gap-6",children:r&&b.map((function(s){return Object(k.jsx)(yt,{id:s._id,name:s.name,link:"/clients/".concat(t,"/projects/").concat(e,"/").concat(s._id),data:s,desc:s.desc,linkTitle:"Add Rates or Generate PDF"},s._id)}))})]})})};var Ct=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),s=t[0],n=t[1],r=Object(c.useState)([]),l=Object(i.a)(r,2),o=l[0],j=l[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),h=(x[0],x[1],Object(c.useState)({})),p=Object(i.a)(h,2),O=p[0],f=p[1],v=Object(c.useState)(!0),N=Object(i.a)(v,2),w=N[0],S=N[1],C=a.a.useContext(Jc).dispatch,z=Object(d.l)(),D=Object(c.useState)([]),M=Object(i.a)(D,2),E=M[0],I=M[1],T=Object(d.n)().key,L=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),C({type:"LOGOUT"}),z("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function P(e){return E.some((function(t){return t.month===e}))}return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t,s,c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),localStorage.getItem("_id"),e.next=4,y.get("".concat(g.default.path.completedsheet.getCompletedsheet,"/").concat(T),!0);case 4:return t=e.sent,e.next=7,I(t);case 7:return e.next=9,y.get(g.default.path.timesheet.month,!0);case 9:if(!(s=e.sent).err){e.next=12;break}return e.abrupt("return");case 12:return j(s.data),e.next=15,y.get("".concat(g.default.path.projects.getProject,"/").concat(T));case 15:return c=e.sent,e.next=18,y.get("".concat(g.default.path.clients.getClient,"/").concat(c.client));case 18:a=e.sent,f({project:c.projectName,client:a.clientName}),n(!0),S(!1);case 22:case"end":return e.stop()}}),e)}))),[s]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:L();case 1:case"end":return e.stop()}}),e)}))),[y]),Object(k.jsx)("main",{children:w?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8",children:Object(k.jsxs)("div",{className:"mb-4 sm:mb-0",children:[Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Months \ud83d\udcc6"}),Object(k.jsx)("h2",{className:"text-xl md:text-xl text-slate-800",children:O.client}),O.project]})}),Object(k.jsx)("div",{className:"grid grid-cols-12 gap-6",children:s&&o.map((function(e){return Object(k.jsx)(yt,{userExists:P,completedSheets:E,id:e._id,name:e.name,link:"/approve/".concat(T,"/").concat(e._id),data:e,desc:e.desc,linkTitle:"Approve Timesheets"},e._id)}))})]})})},zt=(s(343),s.p+"static/media/avatar-001.73a0bc1f.png"),Dt=s.p+"static/media/MicrosoftTeams-imageee3c608c5bf344a84d21d87ade4be7129ab0046cfda60b73fe847a83739942f0.c30401d5.png",At=s(241),Mt=s(435),Et=s(454),It=s(450),Tt=s(446),Lt=s(451),Pt=s(453),Ft=s(442),Bt=s(443),Rt=s(438),Ht=s(449),Yt=s(437),Ut=s(430),_t={position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:400,bgcolor:"background.paper",boxShadow:24,borderRadius:4,p:0};function qt(e){var t=e.id,s=e.setModalOpen,c=e.modalOpen,a=e.children;return Object(k.jsx)("div",{children:Object(k.jsx)(Yt.a,{"aria-label":t,open:c,onClose:function(){return s(!1)},closeAfterTransition:!0,BackdropComponent:Ht.a,BackdropProps:{timeout:400},children:Object(k.jsx)(Ut.a,{in:c,children:Object(k.jsx)(It.a,{sx:_t,children:a})})})})}function Vt(e){return Object(c.useEffect)((function(){console.log(e.form)})),Object(k.jsx)("div",{className:"col-span-full sm:col-span-6 xl:col-span-3 bg-white shadow-lg rounded-sm border border-slate-200",children:Object(k.jsx)("div",{className:"flex flex-col h-full ",children:Object(k.jsxs)("div",{className:"grow p-5",children:[Object(k.jsx)("header",{children:Object(k.jsx)("div",{title:e.form.created,className:"text-center mb-5",children:Object(k.jsx)("div",{className:"inline-flex text-slate-800 hover:text-slate-900",children:Object(k.jsx)("h2",{className:"text-xl leading-snug justify-center font-semibold",children:new Date(e.form.created).toDateString()})})})}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm font-bold",children:"Date of transaction"}),Object(k.jsx)("div",{className:"text-sm",children:new Date(e.form.transactionDate).toLocaleDateString()})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm font-bold",children:"Amount requested"}),Object(k.jsx)("div",{className:"text-sm",children:e.form.amount})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm font-bold",children:"Reason"}),Object(k.jsx)("div",{className:"text-sm",children:e.form.reason.length>8?e.form.reason.substring(0,8):e.form.reason})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-1 mt-2",children:[Object(k.jsx)("div",{className:"text-sm font-bold",children:"Attachments"}),Object(k.jsx)("div",{children:e.form.fileKeys&&e.form.fileKeys.map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{class:"border border-slate-200 hover:border-slate-300 mx-0 p-3 ml-2 mb-2 rounded-md",style:{width:"80px"},children:Object(k.jsxs)("a",{href:"".concat(g.default.url,"/").concat(g.default.path.s3.getFile,"/").concat(e),target:"_blank",className:"flex items-center h-3",children:[Object(k.jsx)("div",{children:Object(k.jsx)("svg",{className:"shrink-0 h-4 w-4",viewBox:"0 0 24 24","fill-rule":"evenodd","clip-rule":"evenodd",children:Object(k.jsx)("path",{d:"M22 24h-20v-24h14l6 6v18zm-7-23h-12v22h18v-16h-6v-6zm3 15v1h-12v-1h12zm0-3v1h-12v-1h12zm0-3v1h-12v-1h12zm-2-4h4.586l-4.586-4.586v4.586z"})})}),Object(k.jsx)("div",{className:"my-2 ml-3 py-2 text-sm font-bold",children:"File"})]})})})}))})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm font-bold",children:"Approval"}),Object(k.jsx)("div",{className:"text-sm",children:e.form.approval})]})]})})})}function Wt(e){return Object(k.jsx)("div",{className:"col-span-full sm:col-span-6 xl:col-span-3 bg-white shadow-lg rounded-sm border border-slate-200",children:Object(k.jsx)("div",{className:"flex flex-col h-full ",children:Object(k.jsxs)("div",{className:"grow p-5",children:[Object(k.jsx)("header",{children:Object(k.jsx)("div",{title:e.form.created,className:"text-center mb-5",children:Object(k.jsx)("div",{className:"inline-flex text-slate-800 hover:text-slate-900",children:Object(k.jsx)("h2",{className:"text-xl leading-snug justify-center font-semibold",children:new Date(e.form.created).toDateString()})})})}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Course Name"}),Object(k.jsx)("div",{className:"text-sm col-span-5 ",children:e.form.courseName.length>8?e.form.courseName.substring(0,8).concat("..."):e.form.courseName})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Cost of Course"}),Object(k.jsxs)("div",{className:"text-sm col-span-5",children:["R ",e.form.coursePrice]})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Course Start Date"}),Object(k.jsx)("div",{className:"text-sm col-span-5",children:e.form.start})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Course End Date"}),Object(k.jsx)("div",{className:"text-sm col-span-5",children:e.form.end})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Approval"}),Object(k.jsx)("div",{className:"text-sm col-span-5",children:e.form.approval})]})]})})})}function Gt(e){return Object(k.jsx)("div",{className:"col-span-full sm:col-span-6 xl:col-span-3 bg-white shadow-lg rounded-sm border border-slate-200",children:Object(k.jsx)("div",{className:"flex flex-col h-full ",children:Object(k.jsxs)("div",{className:"grow p-5",children:[Object(k.jsx)("header",{children:Object(k.jsx)("div",{title:e.form.created,className:"text-center mb-5",children:Object(k.jsx)("div",{className:"inline-flex text-slate-800 hover:text-slate-900",children:Object(k.jsx)("h2",{className:"text-xl leading-snug justify-center font-semibold",children:new Date(e.form.created).toDateString()})})})}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Value of vehicle"}),Object(k.jsx)("div",{className:"text-sm col-span-5",children:"> 665000"===e.form.vehicleRange?"More than R 665000":"R "+e.form.vehicleRange})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Private Kilometers"}),Object(k.jsxs)("div",{className:"text-sm col-span-5",children:[e.form.privateKilos," km"]})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Business Kilometers"}),Object(k.jsxs)("div",{className:"text-sm col-span-5",children:[e.form.businessKilos," km"]})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Status"}),Object(k.jsx)("div",{className:"text-sm col-span-5",children:e.form.approval})]})]})})})}function Jt(e){return Object(k.jsx)("div",{className:"col-span-full sm:col-span-6 xl:col-span-3 bg-white shadow-lg rounded-sm border border-slate-200",children:Object(k.jsx)("div",{className:"flex flex-col h-full ",children:Object(k.jsxs)("div",{className:"grow p-5",children:[Object(k.jsx)("header",{children:Object(k.jsx)("div",{title:e.form.dateAdded,className:"text-center mb-5",children:Object(k.jsx)("div",{className:"inline-flex text-slate-800 hover:text-slate-900",children:Object(k.jsx)("h2",{className:"text-xl leading-snug justify-center font-semibold",children:new Date(e.form.dateAdded).toDateString()})})})}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-2 font-bold",children:"Training Day"}),Object(k.jsx)("div",{className:"text-sm col-span-2 ",children:e.form.trainingDay})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-2 font-bold",children:"Gender"}),Object(k.jsx)("div",{className:"text-sm col-span-2",children:e.form.gender})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-2 font-bold",children:"Race"}),Object(k.jsx)("div",{className:"text-sm col-span-2",children:e.form.race})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-2 font-bold",children:"ID Number"}),Object(k.jsx)("div",{className:"text-sm col-span-2",children:e.form.id})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-2 font-bold",children:"Attendance"}),Object(k.jsx)("div",{className:"text-sm col-span-2",children:e.form.attendance})]}),Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-2 font-bold",children:"Venue"}),Object(k.jsx)("div",{className:"text-sm col-span-2",children:e.form.venue})]})]})})})}function Kt(e){var t=Object(c.useState)(!1),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)([]),l=Object(i.a)(r,2),o=l[0],d=l[1],j=Object(c.useState)(!1),b=Object(i.a)(j,2),x=b[0],h=b[1];function p(){return(p=Object(u.a)(Object(m.a)().mark((function t(){var s,c;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n(!0),s=localStorage.getItem("_id"),"studyCostFunding"!==e.form){t.next=9;break}return t.next=6,y.get("".concat(g.default.path.profile.history.getScfForms,"/").concat(s));case 6:c=t.sent,t.next=24;break;case 9:if("travelAllowance"!==e.form){t.next=15;break}return t.next=12,y.get("".concat(g.default.path.profile.history.getTaForms,"/").concat(s));case 12:c=t.sent,t.next=24;break;case 15:if("expenseReimbursement"!==e.form){t.next=21;break}return t.next=18,y.get("".concat(g.default.path.profile.history.getErForms,"/").concat(s));case 18:c=t.sent,t.next=24;break;case 21:return t.next=23,y.get("".concat(g.default.path.profile.history.getSfForms,"/").concat(s));case 23:c=t.sent;case 24:c.err?(d([]),h(!0)):d(c.message),n(!1),t.next=33;break;case 28:t.prev=28,t.t0=t.catch(0),n(!1),d([]),h(!0);case 33:case"end":return t.stop()}}),t,null,[[0,28]])})))).apply(this,arguments)}return Object(c.useEffect)((function(){!function(){p.apply(this,arguments)}()}),[]),Object(k.jsx)("div",{children:a?Object(k.jsx)(Ee,{}):Object(k.jsx)("div",{children:x?Object(k.jsx)("div",{className:"flex justify-center text-zinc-400 text-xl",children:Object(k.jsx)("h1",{children:"No Previous Submissions"})}):Object(k.jsxs)("div",{className:"grid grid-cols-12 gap-6 mt-5",children:["studyCostFunding"===e.form&&o.map((function(e){return Object(k.jsx)(Wt,{form:e},e._id)})),"travelAllowance"===e.form&&o.map((function(e){return Object(k.jsx)(Gt,{form:e},e._id)})),"expenseReimbursement"===e.form&&o.map((function(e){return Object(k.jsx)(Vt,{form:e},e._id)})),"skillsFriday"===e.form&&o.map((function(e){return Object(k.jsx)(Jt,{form:e},e._id)}))]})})})}function Xt(){var e=(new Date).toISOString().substring(0,10),t=Object(c.useState)(!1),s=Object(i.a)(t,2),n=s[0],r=s[1],l=Object(c.useState)(!1),o=Object(i.a)(l,2),d=o[0],j=o[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),h=x[0],p=x[1],O=Object(c.useState)(!1),f=Object(i.a)(O,2),v=f[0],N=f[1],w=Object(c.useState)(!1),S=Object(i.a)(w,2),C=S[0],z=S[1],D=Object(c.useState)(!1),M=Object(i.a)(D,2),E=M[0],I=M[1],T=Object(c.useState)(!1),L=Object(i.a)(T,2),P=L[0],F=L[1],B=Object(c.useState)(!1),R=Object(i.a)(B,2),H=R[0],Y=R[1],U=Object(c.useState)(!1),_=Object(i.a)(U,2),V=_[0],W=_[1],G=Object(k.jsx)("span",{className:"text-rose-500",children:"*"}),J=Object(c.useState)(!1),Z=Object(i.a)(J,2),Q=Z[0],$=Z[1],ee=Object(c.useState)(""),te=Object(i.a)(ee,2),se=te[0],ce=te[1],ae=Object(c.useState)(""),ne=Object(i.a)(ae,2),re=ne[0],le=ne[1],ie=Object(c.useState)(""),oe=Object(i.a)(ie,2),de=oe[0],je=oe[1],be=Object(c.useState)("no"),xe=Object(i.a)(be,2),me=xe[0],ue=xe[1],he=Object(c.useState)(""),pe=Object(i.a)(he,2),Oe=pe[0],fe=pe[1],ve=Object(c.useState)(e),ge=Object(i.a)(ve,2),Ne=ge[0],we=ge[1],ye=Object(c.useState)(e),ke=Object(i.a)(ye,2),Se=ke[0],Ce=ke[1],ze=Object(c.useState)(""),De=Object(i.a)(ze,2),Ae=De[0],Me=De[1],Ee=Object(c.useState)(!0),Ie=Object(i.a)(Ee,2),Te=Ie[0],Le=Ie[1],Pe=Object(c.useState)(!1),Fe=Object(i.a)(Pe,2),Be=Fe[0],Re=Fe[1],He=a.a.useContext(Jc).dispatch;function Ye(e,t){e=new Date(e);var s=(t=new Date(t)).getFullYear()-e.getFullYear(),c=t.getMonth()-e.getMonth(),a=0,n=0,r=0;if(0===s)if(0==c)a=t.getDate()-e.getDate()+1;else for(;n<=c;n++)e.getMonth()+n===e.getMonth()?a+=new Date(e.getFullYear(),e.getMonth()+n+1,0,2).getDate()-e.getDate():e.getMonth()+n===t.getMonth()?a+=t.getDate():a+=new Date(e.getFullYear(),e.getMonth()+n+1,0,2).getDate();else for(;r<=s;r++)if(0===r)for(c=11-e.getMonth();n<=c;n++)11===e.getMonth()?a+=31-e.getDate():e.getMonth()+n===e.getMonth()?a+=new Date(e.getFullYear(),e.getMonth()+n+1,0,2).getDate()-e.getDate():a+=new Date(e.getFullYear(),e.getMonth()+n+1,0,2).getDate();else if(e.getFullYear()+r===t.getFullYear())for(c=t.getMonth(),n=0;n<=c;n++)n===t.getMonth()?a+=t.getDate():a+=new Date(e.getFullYear()+r,n+1,0,2).getDate();else for(n=0;n<=11;n++)a+=11===n?31:new Date(e.getFullYear()+r,n+1,0,2).getDate();return a}function Ue(){return(Ue=Object(u.a)(Object(m.a)().mark((function e(){var t,s,c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Ye(Ne,Se),s=localStorage.getItem("_id"),c={user:s,courseName:se,courseDesc:re,coursePrice:de,isPersonal:me,motivation:Oe,start:Ne,end:Se,duration:t,link:Ae,emailed:Te,created:new Date},e.prev=3,e.next=6,y.post(g.default.path.profile.requestFunding,c,!0);case 6:(a=e.sent).err?($(!1),W(a.message),j(!0)):($(!1),W("Successfully Submitted Request."),r(!0)),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(3),j(!0),W(e.t0.message),$(!1);case 15:case"end":return e.stop()}}),e,null,[[3,10]])})))).apply(this,arguments)}function _e(){Re(!Be)}var qe=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),He({type:"LOGOUT"}),navigateTo("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){qe()}),[]),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"flex justify-end mr-5",children:Object(k.jsx)("button",{className:"mt-3 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:_e,children:Be?Object(k.jsx)("div",{className:"flex justify-center",children:"Back to form"}):"History"})}),Be?Object(k.jsx)(Kt,{form:"studyCostFunding"}):Object(k.jsx)("div",{className:"flex justify-center",children:Object(k.jsx)("div",{className:"w-1/2",children:Object(k.jsxs)(Lt.a,{variant:"outlined",children:[Object(k.jsxs)(Pt.a,{children:[Object(k.jsx)("div",{className:"mb-3 pb-4 rounded",children:Object(k.jsxs)("div",{children:["Required ",G]})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"course-name",children:["1. Course Name ",G]}),Object(k.jsx)("input",{id:"course-name",type:"text",value:se,className:"form-input w-full px-2 py-2 mb-3",placeholder:"Course Name",onChange:function(e){ce(e.target.value)}})]}),Object(k.jsx)(q,{type:"error",open:h,setOpen:p,children:V}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"course-description",children:["2. Course Description ",G]}),Object(k.jsx)("textarea",{id:"course-description",value:re,placeholder:"Course Description",className:"form-input w-full px-2 py-1 mb-3",onChange:function(e){le(e.target.value)}})]}),Object(k.jsx)(q,{type:"error",open:v,setOpen:N,children:V}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"cost-of-course",children:["3. Cost of Course(incl. VAT) ",G]}),Object(k.jsx)("input",{id:"cost-of-course",placeholder:"Course cost",type:"number",min:"0",value:de,className:"form-input w-full px-2 py-2 mb-5",onChange:function(e){je(e.target.value)}})]}),Object(k.jsx)(q,{type:"error",open:C,setOpen:z,children:V}),Object(k.jsx)("div",{className:"pb-3",children:Object(k.jsxs)(Ft.a,{children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"is-personal",id:"is-personal",children:[" ","4. Was this training identified during your Personal Development session ?"]}),Object(k.jsxs)(Bt.a,{"aria-labelledby":"is-personal",name:"is-personal",value:me,onChange:function(e){ue(e.target.value)},children:[Object(k.jsx)(K.a,{value:"yes",control:Object(k.jsx)(Rt.a,{}),label:"Yes"}),Object(k.jsx)(K.a,{value:"no",control:Object(k.jsx)(Rt.a,{}),label:"No"})]})]})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"motivation",children:"5. Motivation"}),Object(k.jsx)("textarea",{id:"motivation",placeholder:"Motivation",value:Oe,className:"form-input w-full px-2 py-1 mb-3",onChange:function(e){fe(e.target.value)}})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"start-date",children:["6. Course start date ",G]}),Object(k.jsx)("input",{id:"start-date",value:Ne,className:"form-input w-full mb-3",type:"date",min:e,onChange:function(e){we(e.target.value)}})]}),Object(k.jsx)(q,{type:"error",open:E,setOpen:I,children:V}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"end-date",children:["7. Course end date ",G]}),Object(k.jsx)("input",{id:"end-date",value:Se,className:"form-input w-full mb-3",type:"date",min:Ne,onChange:function(e){Ce(e.target.value)}})]}),Object(k.jsx)(q,{type:"error",open:P,setOpen:F,children:V}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"private-kilometers",children:["8. Course Link ",G]}),Object(k.jsx)("input",{id:"private-kilometers",type:"text",value:Ae,className:"form-input w-full px-2 py-2 mb-3",placeholder:"Course Link",onChange:function(e){Me(e.target.value)}})]}),Object(k.jsx)(q,{type:"error",open:H,setOpen:Y,children:V}),Object(k.jsx)("div",{className:"ml-1",children:Object(k.jsx)(K.a,{control:Object(k.jsx)(X.a,{checked:Te,onChange:function(e){Le(e.target.checked)}}),label:"Send me an email reciept of my responses"})}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{class:"mt-5 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){se?re?de<=0?(z(!0),W("Course Cost is required.")):Ne?Se?Ae?se.length<5?(p(!0),W("Course Name must be more than 5 characters.")):re.length<5?(p(!0),W("Course Description must be more than 5 characters.")):Ae.length<5?(p(!0),W("Course link must be more than 5 characters.")):$(!0):(Y(!0),W("Course link is required.")):(F(!0),W("End date is required.")):(I(!0),W("Start date is required.")):(N(!0),W("Course Description is required.")):(p(!0),W("Course Name is required."))},children:"Submit"})})]})]}),Object(k.jsx)(qt,{id:"ensure-modal",modalOpen:Q,setModalOpen:$,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Are you sure you want to submit ?"," "]}),Object(k.jsxs)("div",{className:"mt-3",children:[Object(k.jsxs)("div",{children:["1. Course Name:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:se.length>15?se.substring(0,15).concat("..."):se})]}),Object(k.jsxs)("div",{children:["2. Course Description:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:re.length>15?re.substring(0,15):re})]}),Object(k.jsxs)("div",{children:["3. Cost of course:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:de})]}),Object(k.jsxs)("div",{children:["4. Personally identified:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:me})]}),Object(k.jsxs)("div",{children:["5. Motivation:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:Oe?Oe.length>15?Oe.substring(0,15)+"...":Oe:"No Motivation Provided"})]}),Object(k.jsxs)("div",{children:["6. Start:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:new Date(Ne).toDateString()})]}),Object(k.jsxs)("div",{children:["7. End:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:new Date(Se).toDateString()})]}),Object(k.jsxs)("div",{children:["8. Link:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:Ae.length>15?Ae.substring(0,15).concat("..."):Ae})]})]})]})}),Object(k.jsx)("div",{}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),$(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return Ue.apply(this,arguments)},children:"Yes, Submit"})]})]})]})}),Object(k.jsx)(qt,{id:"success-modal",modalOpen:n,setModalOpen:r,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:V})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){ce(""),le(""),je(""),ue("no"),fe(""),we(e),Ce(e),Me(""),r(!1),_e()},children:"Okay"})})]})]})}),Object(k.jsx)(qt,{id:"error-modal",modalOpen:d,setModalOpen:j,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:V})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){$(!1),j(!1)},children:"Okay"})})]})]})})]})})})]})}var Zt=new RegExp("^[0-9]*$");new RegExp("^((d+(,d*)?)|(.d+))$");function Qt(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(""),r=Object(i.a)(n,2),l=r[0],o=r[1],d=Object(c.useState)(!1),j=Object(i.a)(d,2),b=j[0],x=j[1],h=Object(c.useState)(!1),p=Object(i.a)(h,2),O=p[0],f=p[1],v=Object(c.useState)(!1),N=Object(i.a)(v,2),w=N[0],S=N[1],C=Object(c.useState)(!1),z=Object(i.a)(C,2),D=z[0],A=z[1],M=Object(c.useState)(!1),E=Object(i.a)(M,2),I=E[0],T=E[1],L=Object(c.useState)(""),P=Object(i.a)(L,2),F=P[0],B=P[1],R=Object(c.useState)(""),H=Object(i.a)(R,2),Y=H[0],U=H[1],_=Object(c.useState)(""),V=Object(i.a)(_,2),W=V[0],G=V[1],J=Object(c.useState)(""),Z=Object(i.a)(J,2),Q=Z[0],$=Z[1],ee=Object(c.useState)(!0),te=Object(i.a)(ee,2),se=te[0],ce=te[1],ae=Object(c.useState)(!1),ne=Object(i.a)(ae,2),re=ne[0],le=ne[1],ie=Object(k.jsx)("span",{className:"text-rose-500",children:"*"});function oe(){return(oe=Object(u.a)(Object(m.a)().mark((function e(){var t,s,c,n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=0,s=0,t=parseInt(W)+parseInt(Q),s=12*t,c=localStorage.getItem("_id"),n={user:c,vehicleRange:Y,privateKilos:W,businessKilos:Q,totalMonthlyKilos:t.toString(),totalAnnualKilos:s.toString(),emailed:se,created:new Date},e.prev=5,e.next=8,y.post(g.default.path.profile.requestAllowance,n,!0);case 8:e.sent.err?(x(!1),o(err.message),f(!0)):(x(!1),o("Successfully Submitted Request."),a(!0)),e.next=17;break;case 12:e.prev=12,e.t0=e.catch(5),x(!1),o(e.t0.message),f(!0);case 17:case"end":return e.stop()}}),e,null,[[5,12]])})))).apply(this,arguments)}function de(){le(!re)}return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"flex justify-end mr-5",children:Object(k.jsx)("button",{className:"mt-3 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:de,children:re?Object(k.jsx)("div",{className:"flex justify-center",children:"Back to form"}):"History"})}),re?Object(k.jsx)(Kt,{form:"travelAllowance"}):Object(k.jsx)("div",{className:"flex justify-center",children:Object(k.jsxs)("div",{className:"w-1/2",children:[Object(k.jsx)(Lt.a,{variant:"outlined",children:Object(k.jsxs)(Pt.a,{children:[Object(k.jsx)("div",{className:"mb-3 pb-4 rounded",children:Object(k.jsxs)("div",{children:["Required ",ie]})}),Object(k.jsx)("div",{children:Object(k.jsxs)(Ft.a,{children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"vehicle-value-range",id:"vehicle-value-range",children:["1. The determined value of your vehicle (the original purchase price including VAT but excluding finance charges and interest) ",ie]}),Object(k.jsxs)(Bt.a,{"aria-labelledby":"vehicle-value-range",name:"vehicle-value-range",onChange:function(e){U(e.target.value),console.log(e.target.value)},children:[Object(k.jsx)(K.a,{value:"0 - 95000",control:Object(k.jsx)(Rt.a,{}),label:"R 0 - R 95 000"}),Object(k.jsx)(K.a,{value:"95001 - 190000",control:Object(k.jsx)(Rt.a,{}),label:"R 95 001 - R 190 000"}),Object(k.jsx)(K.a,{value:"190001 - 285000",control:Object(k.jsx)(Rt.a,{}),label:"R 190 001 - R 285 000"}),Object(k.jsx)(K.a,{value:"285001 - 380000",control:Object(k.jsx)(Rt.a,{}),label:"R 285 001 - R 380 000"}),Object(k.jsx)(K.a,{value:"380001 - 475000",control:Object(k.jsx)(Rt.a,{}),label:"R 380 001 - R 475 000"}),Object(k.jsx)(K.a,{value:"475001 - 570000",control:Object(k.jsx)(Rt.a,{}),label:"R 475 001 - R 570 000"}),Object(k.jsx)(K.a,{value:"570001 - 665000",control:Object(k.jsx)(Rt.a,{}),label:"R 570 001 - R 665 000"}),Object(k.jsx)(K.a,{value:"> 665000",control:Object(k.jsx)(Rt.a,{}),label:"Exceeding R 665 000"})]})]})}),Object(k.jsx)("div",{children:Object(k.jsx)(q,{type:"error",open:I,setOpen:T,children:F})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"private-kilometers",children:["2. Estimated monthly private kilometers ",ie]}),Object(k.jsx)("input",{id:"private-kilometers",value:W,className:"form-input w-full px-2 py-1 mb-5",required:!0,onChange:function(e){G(e.target.value)}})]}),Object(k.jsx)("div",{children:Object(k.jsx)(q,{type:"error",open:w,setOpen:S,children:F})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"business-kilometers",children:["3. Estimated monthly business kilometers ",ie]}),Object(k.jsx)("input",{id:"business-kilometers",value:Q,className:"form-input w-full px-2 py-1",required:!0,onChange:function(e){$(e.target.value)}})]}),Object(k.jsx)("div",{children:Object(k.jsx)(q,{type:"error",open:D,setOpen:A,children:F})}),Object(k.jsxs)("div",{className:"mt-6",children:[Object(k.jsx)("div",{className:"ml-1",children:Object(k.jsx)(K.a,{control:Object(k.jsx)(X.a,{checked:se,onChange:function(e){ce(e.target.checked)}}),label:"Send me an email reciept of my responses"})}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"mt-5 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){Y?W?Q?Zt.test(W)&&Zt.test(Q)?x(!0):(S(!0),B("Value must a be number.")):(A(!0),B("Please enter a value.")):(S(!0),B("Please enter a value.")):(T(!0),B("Please select a price range"),console.log(F," ",Y))},children:"Submit"})})]})]})}),Object(k.jsx)(qt,{id:"ensure-modal",modalOpen:b,setModalOpen:x,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"mb-5",children:[Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:"Are you sure you want to submit these details ?"}),Object(k.jsxs)("div",{className:"mt-3",children:[Object(k.jsxs)("div",{children:["1. Vehicle Value Range:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:"> 665000"===Y?"More than R 665000":"R ".concat(Y)})]}),Object(k.jsxs)("div",{children:["2. Estimated montly private kilometers:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:W})]}),Object(k.jsxs)("div",{children:["3. Estimated monthly business kilometers:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:Q})]})]})]}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),x(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return oe.apply(this,arguments)},children:"Yes, Submit"})]})]})]})}),Object(k.jsx)(qt,{id:"success-modal",modalOpen:s,setModalOpen:a,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:l})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){U("0-95000"),G(""),$(""),ce(!1),a(!1),de()},children:"Okay"})})]})]})}),Object(k.jsx)(qt,{id:"error-modal",modalOpen:O,setModalOpen:f,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:l})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){x(!1),f(!1),le(!0)},children:"Okay"})})]})]})})]})})]})}var $t=s(86),es=s(72),ts=s(84),ss=["8","9","10","11","12","13","14","15","16","17"];var cs=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),s=t[0],n=t[1],r=Object(c.useState)({}),l=Object(i.a)(r,2),d=l[0],j=l[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),h=x[0],p=x[1],O=Object(c.useState)(!1),f=Object(i.a)(O,2),v=f[0],N=f[1],w=Object(c.useState)(!1),S=Object(i.a)(w,2),C=S[0],z=S[1],D=Object(c.useState)(!1),M=Object(i.a)(D,2),E=M[0],I=M[1],T=Object(c.useState)(!1),L=Object(i.a)(T,2),P=L[0],F=L[1],B=Object(c.useState)(""),R=Object(i.a)(B,2),H=R[0],U=R[1],_=Object(c.useState)(!1),V=Object(i.a)(_,2),W=V[0],G=V[1],J=Object(c.useState)(!1),K=Object(i.a)(J,2),X=K[0],Z=K[1],Q=Object(c.useState)("Add Leave"),$=Object(i.a)(Q,2),ee=$[0],te=$[1],se=Object(c.useState)("Add"),ce=Object(i.a)(se,2),ae=ce[0],ne=ce[1],re=Object(c.useState)({}),le=Object(i.a)(re,2),ie=le[0],oe=le[1],de=Object(c.useState)({}),je=Object(i.a)(de,2),be=je[0],xe=je[1],me=Object(c.useState)(!1),ue=Object(i.a)(me,2),he=ue[0],pe=ue[1],Oe=Object(c.useState)(!0),fe=Object(i.a)(Oe,2),ve=fe[0],ge=fe[1],Ne=a.a.useContext(Jc).dispatch,we=0,ye=setTimeout((function(){}),500),ke="",Se=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),Ne({type:"LOGOUT"}),navigateTo("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ce=function(){I(!1),p(!1),G(!1),F(!1),N(!1),te("Add Leave"),ne("Add"),xe({}),pe(!1),oe({title:"",start:"",end:""}),j({title:"",start:"",end:"",id:"",managerApproval:[],adminApproval:"",attachment:""}),ze()},ze=function(){Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""})),Array.from(document.querySelectorAll("select")).forEach((function(e){return e.selectedIndex=0}))},De=function(e){oe((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.id,e.target.value))}))},Ae=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s,c,a,n,r,l,i,d;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"Add"!=ae){e.next=54;break}if(pe(!0),s=localStorage.getItem("_id"),"Half Day Leave"===ie.type){e.next=13;break}if((c=as(ie)).valid){e.next=11;break}return F(!0),U(c.msg),pe(!1),e.abrupt("return");case 11:e.next=14;break;case 13:ie.start||(F(!0),U("Date is required."),pe(!1));case 14:if(F(!1),a=ie,"{}"===JSON.stringify(be)){e.next=38;break}return(n=new FormData).append("file",be),e.next=21,y.post(g.default.path.s3.uploadFile,n,!0);case 21:return r=e.sent,a=Object(o.a)(Object(o.a)({},a),{},{fileKey:r.err?"":r.fileKey}),e.next=25,y.post(g.default.path.leave.addLeave+"/"+s,a,!0);case 25:if(!(l=e.sent).err){e.next=31;break}return F(!0),U(l.error.message),pe(!1),e.abrupt("return");case 31:pe(!1),G(!0),Z("Successfully Added Leave."),Me(),setTimeout((function(){Ce()}),2e3),e.next=52;break;case 38:return a="Half Day Leave"===ie.type?Object(o.a)(Object(o.a)({},a),{},{end:ie.start,fileKey:""}):Object(o.a)(Object(o.a)({},a),{},{fileKey:""}),e.next=41,y.post(g.default.path.leave.addLeave+"/"+s,a,!0);case 41:if(!(i=e.sent).err){e.next=47;break}return F(!0),U(i.error.message),pe(!1),e.abrupt("return");case 47:pe(!1),G(!0),Z("Successfully Added Leave."),Me(),setTimeout((function(){Ce()}),2e3);case 52:e.next=62;break;case 54:if(t.stopPropagation(),(d=as(ie)).valid){e.next=60;break}return F(!0),U(d.msg),e.abrupt("return");case 60:F(!1),N(!0);case 62:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Me=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Se(),ge(!0),t=localStorage.getItem("_id"),e.next=5,y.get(g.default.path.leave.getAllLeave+"/"+t);case 5:s=e.sent,n(s),ge(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s,c,a,n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.event.extendedProps._id,c={start:t.event.start,end:t.event.end?new Date(new Date(t.event.end).setDate(new Date(t.event.end).getDate()-1)):t.event.start},a="other",t.event.extendedProps.managersApproval.every((function(e){return"pending"===e.approval}))&&"pending"===t.event.extendedProps.adminApproval?a="pending":t.event.extendedProps.managersApproval.every((function(e){return"approved"===e.approval}))&&"approved"===t.event.extendedProps.adminApproval&&(a="approved"),e.next=6,y.patch(g.default.path.leave.editLeave+"/"+s,{inputs:c,approvalSatus:a},!0);case 6:if(!(n=e.sent).err){e.next=12;break}return F(!0),U(n.msg),setTimeout((function(){Me(),Ce()}),2500),e.abrupt("return");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Te=function(){we=0,clearTimeout(ye),ke=""},Le=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y.delete("".concat(g.default.path.leave.deleteLeave,"/").concat(d.id));case 3:if(!(s=e.sent).err){e.next=8;break}return F(!0),U(s.error.message),e.abrupt("return");case 8:G(!0),Z("Successfully Deleted Leave."),Me(),setTimeout((function(){Ce(),z(!1)}),1e3);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Pe=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation(),s=new Date(d.start).setDate(new Date(d.start).getDate()+1),document.getElementById("type").value=d.type,document.getElementById("start").value=new Date(s).toISOString().split("T")[0],document.getElementById("end").value=new Date(d.end).toISOString().split("T")[0],oe({type:d.type,start:d.start,end:d.end}),te("Edit Leave"),ne("Update"),I(!0),p(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch(g.default.path.leave.editLeave+"/"+d.id,{inputs:ie},!0);case 2:if(!(s=e.sent).err){e.next=7;break}return F(!0),U(s.error.message),e.abrupt("return");case 7:G(!0),Z("Successfully Edited Leave."),Me(),setTimeout((function(){Ce()}),2e3);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Me()}),[]),Object(k.jsx)("div",{children:Object(k.jsx)("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:Object(k.jsxs)("main",{children:[Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Apply For Leave"})}),Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:[Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)("div",{className:"mb-4 sm:mb-0 mr-2",children:Object(k.jsxs)("ul",{className:"flex flex-wrap items-center -m-1",children:[Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-rose-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Admin Declined"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 shrink-0",style:{backgroundColor:"rgb(249 115 22)"}}),Object(k.jsx)("span",{className:"ml-1.5",children:"Manager Declined"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-emerald-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Fully Approved"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-yellow-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Manager Approved"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-indigo-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Partially Manager Approved"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-zinc-400 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Pending"})]})})]})})}),Object(k.jsxs)("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2",children:[Object(k.jsx)("hr",{className:"w-px h-full bg-slate-200 mx-1"}),Object(k.jsxs)("button",{className:"btn bg-indigo-500 hover:bg-indigo-600 text-white",onClick:function(e){e.stopPropagation(),I(!0)},children:[Object(k.jsx)("svg",{className:"w-4 h-4 fill-current opacity-50 shrink-0",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M15 7H9V1c0-.6-.4-1-1-1S7 .4 7 1v6H1c-.6 0-1 .4-1 1s.4 1 1 1h6v6c0 .6.4 1 1 1s1-.4 1-1V9h6c.6 0 1-.4 1-1s-.4-1-1-1z"})}),Object(k.jsx)("span",{className:"hidden xs:block ml-2",children:"Add Leave"})]})]})]}),Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)(q,{type:"error",open:P,setOpen:F,children:H})}),ve?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsx)("div",{className:"bg-white p-3 rounded-sm shadow overflow-hidden",children:Object(k.jsx)($t.a,{plugins:[es.b,ts.a],initialView:"dayGridMonth",dateClick:function(e){1===++we?(ke=e.dateStr,ye=setTimeout((function(){Te()}),500)):(ke===e.dateStr&&function(e){var t=e.date;t=new Date(t).setDate(new Date(t).getDate()+1),t=new Date(t),document.getElementById("start").value=t.toISOString().split("T")[0],document.getElementById("end").value=t.toISOString().split("T")[0],oe({start:t.toISOString().split("T")[0],end:t.toISOString().split("T")[0]}),I(!0)}(e),Te())},height:"auto",selectable:!0,eventContent:function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("b",{children:e.event.extendedProps.type})})},weekends:!1,events:s,select:function(e){var t=e.start,s=e.end;t=new Date(t).setDate(new Date(t).getDate()+1),t=new Date(t),document.getElementById("start").value=t.toISOString().split("T")[0],document.getElementById("end").value=s.toISOString().split("T")[0],oe({start:t.toISOString().split("T")[0],end:s.toISOString().split("T")[0]}),I(!0)},eventDrop:Ie,eventClick:function(e){p(!0),j({type:e.event.extendedProps.type,start:new Date(e.event.start).toString(),end:e.event.end?new Date(e.event.end).toString():new Date(e.event.start).toString(),id:e.event.extendedProps._id,managersApproval:e.event.extendedProps.managersApproval,adminApproval:e.event.extendedProps.adminApproval,attachment:e.event.extendedProps.fileKey?e.event.extendedProps.fileKey:""})},eventResize:Ie})})]}),Object(k.jsx)(st,{id:"feedback-modal",modalOpen:E,setModalOpen:I,title:ee,resetState:Ce,children:Object(k.jsxs)("div",{className:"px-5 py-4",children:[Object(k.jsx)("div",{className:"text-lg",children:Object(k.jsx)("div",{className:"font-large text-slate-800 mb-3",children:"Please Enter The Following Details:"})}),Object(k.jsxs)("div",{className:"space-y-3",children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"type",children:["Leave Type ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsxs)("select",{id:"type",className:"form-select w-full",onChange:De,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Leave"}),Object(k.jsx)("option",{value:"Half Day Leave",children:"Half Day Leave"}),Object(k.jsx)("option",{value:"Sick Leave",children:"Sick Leave"}),Object(k.jsx)("option",{value:"Paid Leave",children:"Paid Leave"}),Object(k.jsx)("option",{value:"Family Leave",children:"Family Leave"}),Object(k.jsx)("option",{value:"Maternity Leave",children:"Maternity Leave"}),Object(k.jsx)("option",{value:"Maternity Leave",children:"Study Leave"})]})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"start",children:[ie&&"Half Day Leave"!==ie.type?"Start Date":"Date"," "]}),Object(k.jsx)("input",{id:"start",className:"form-input w-full",type:"date",onChange:De})]}),ie&&"Half Day Leave"===ie.type?Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"start",children:"Timeslot"}),Object(k.jsxs)("select",{id:"slot",className:"form-select w-full",onChange:De,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select a Start Time"}),ss.filter((function(e){return parseInt(e)+4<=17})).map((function(e){return Object(k.jsx)("option",{value:e,children:"".concat(e,":00")})}))]}),ie&&""!==ie.slot?Object(k.jsxs)("select",{id:"slot2",className:"mt-3 form-select w-full",value:ie&&ie.slot?parseInt(ie.slot)+4:null,disabled:!0,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select a Start Time To Display"}),ss.map((function(e){return Object(k.jsx)("option",{value:e,children:"".concat(e,":00")})}))]}):""]})}):"",ie&&"Half Day Leave"!==ie.type?Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"end",children:"End Date "}),Object(k.jsx)("input",{id:"end",className:"form-input w-full",type:"date",onChange:De})]})}):"",Object(k.jsxs)("div",{className:"mb-2",children:[Object(k.jsx)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"upload",children:"Supporting Documents (Optional):"}),Object(k.jsx)("div",{children:Object(k.jsx)("input",{type:"file",id:"myfile",name:"upload",accept:"*",onChange:function(e){xe(e.target.files[0])}})})]}),Object(k.jsx)(q,{type:"error",open:P,setOpen:F,children:H}),Object(k.jsx)(q,{type:"success",open:W,setOpen:G,children:X})]}),Object(k.jsxs)("div",{className:"px-5 py-4",hidden:!he,children:["Saving Info..."," "]}),Object(k.jsx)("div",{className:"px-5 py-4 border-t border-slate-200",children:Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{disabled:he,className:"".concat(he?"btn-sm border-slate-300 bg-slate-300 text-slate-200":"btn-sm border-slate-200 hover:border-slate-300 text-slate-600"),onClick:function(e){e.stopPropagation(),Ce()},children:"Cancel"}),Object(k.jsx)("button",{disabled:he,className:"".concat(he?"btn-sm border-slate-300 bg-slate-300 text-slate-200":"btn-sm bg-rose-500 hover:bg-rose-600 text-white"),onClick:Ae,children:ae})]})})]})}),Object(k.jsx)(Xe,{id:"info-modal",modalOpen:h,setModalOpen:p,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-indigo-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-indigo-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm1 12H7V7h2v5zM8 6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-2",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-slate-800",children:["Leave: ",d.type]})}),Object(k.jsx)("div",{className:"text-sm mb-10 mt-15",children:Object(k.jsxs)("div",{className:"space-y-2",children:[Object(k.jsxs)("p",{children:["Starts: ",new Date(d.start).toLocaleDateString()]}),Object(k.jsxs)("p",{children:["Ends:"," ",new Date(new Date(d.end).setDate(new Date(d.end).getDate()-1)).toLocaleDateString()]}),Object(k.jsxs)("p",{children:["Manager Approval Status:"," ",d.managersApproval?d.managersApproval.map((function(e){return console.log(e),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("p",{className:"text-xs ml-5",children:[e.manager.personalInfo.firstName," ",e.manager.personalInfo.lastName,":"," ",e.approval]})})})):""]}),Object(k.jsxs)("p",{children:["Admin Approval Status: ",d.adminApproval]})," ",""!=d.attachment&&Object(k.jsx)("div",{class:"border border-slate-200 hover:border-slate-300 mx-0 my-6 p-3 rounded-md",style:{width:"200px"},children:Object(k.jsxs)("a",{href:"".concat(g.default.url,"/file/").concat(d.attachment),target:"_blank",className:"flex items-center h-10",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:"https://i.ibb.co/RpYzvq6/pdf-icon.png",style:{width:"40px",height:"40px",color:"rgb(113 113 122)",margin:"auto"}})}),Object(k.jsx)("div",{className:"my-2 ml-3 py-2 text-sm",children:"Open Attachment"})]})})]})}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 text-slate-600",onClick:function(e){e.stopPropagation(),p(!1),Ce()},children:"Close"}),Object(k.jsx)("button",{className:"btn-sm bg-indigo-500 hover:bg-indigo-600 text-white",onClick:function(e){Pe(e)},children:"Edit Leave"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(e){e.stopPropagation(),z(!0)},children:"Delete Leave"})]})]})]})}),Object(k.jsx)(Xe,{id:"success-modal",modalOpen:v,setModalOpen:N,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"mb-5",children:[Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:"Are you sure you want update this leave?"}),Object(k.jsx)(q,{type:"error",open:P,setOpen:F,children:H}),Object(k.jsx)(q,{type:"success",open:W,setOpen:G,children:X})," "]}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),N(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:Fe,children:"Yes, Update it"})]})]})]})}),Object(k.jsx)(Xe,{id:"danger-modal",modalOpen:C,setModalOpen:z,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-rose-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-rose-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"mb-5",children:[Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:"Are you sure you want to delete this leave?"}),Object(k.jsx)(q,{type:"error",open:P,setOpen:F,children:H}),Object(k.jsx)(q,{type:"success",open:W,setOpen:G,children:X})]}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),z(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:Le,children:"Yes, Delete it"})]})]})]})})]})})})},as=function(e){var t={type:"Type",start:"Start Date",end:"End Date"};for(var s in e){if(console.log("I: ",s),""===e[s])return{valid:!1,msg:"The ".concat(t[s]," is required")};if("start"==s){var c=new Date(e[s]);if(console.log("DATE: ",c.getDay()),0==c.getDay()||6==c.getDay())return{valid:!1,msg:"The ".concat(t[s]," cannot be a weekend day")}}else if("end"==s){var a=new Date(e.start),n=new Date(e[s]);if(console.log("DATE: ",n.getDay()),0==n.getDay()||6==n.getDay())return{valid:!1,msg:"The ".concat(t[s]," cannot be a weekend day")};if(n<a)return{valid:!1,msg:"The End Date cannot be before the Start Date"}}}return{valid:!0}},ns=s(37),rs=s(242);function ls(){var e=(new Date).toISOString().substring(0,10),t=Object(c.useState)(""),s=Object(i.a)(t,2),n=s[0],r=s[1],l=Object(c.useState)(!1),d=Object(i.a)(l,2),j=d[0],b=d[1],x=Object(c.useState)(!1),h=Object(i.a)(x,2),p=h[0],O=h[1],f=Object(c.useState)(!1),v=Object(i.a)(f,2),N=v[0],w=v[1],S=Object(c.useState)(!1),C=Object(i.a)(S,2),z=C[0],D=C[1],M=Object(c.useState)(!1),E=Object(i.a)(M,2),I=E[0],T=E[1],L=Object(c.useState)(!1),P=Object(i.a)(L,2),F=P[0],B=P[1],R=Object(c.useState)(!1),H=Object(i.a)(R,2),U=H[0],_=H[1],V=Object(c.useState)(!1),W=Object(i.a)(V,2),G=W[0],J=W[1],Z=Object(c.useState)(!1),Q=Object(i.a)(Z,2),$=Q[0],ee=Q[1],te=Object(c.useState)(!0),se=Object(i.a)(te,2),ce=se[0],ae=se[1],ne=a.a.useContext(Jc).dispatch,re=Object(c.useState)([{transactionDate:"",amount:"",vat:"",reason:""}]),le=Object(i.a)(re,2),ie=le[0],oe=le[1],de=Object(c.useState)(!1),je=Object(i.a)(de,2),be=je[0],xe=je[1],me=Object(rs.a)({multiple:!0,readAs:"ArrayBuffer",accept:[".pdf",".png",".jpeg",".jpg"],limitFilesConfig:{min:1,max:5},maxFileSize:10}),ue=Object(i.a)(me,2),he=ue[0],pe=ue[1],Oe=(pe.filesContent,pe.loading,pe.errors),fe=pe.plainFiles,ve=pe.clear,ge=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),ne({type:"LOGOUT"}),navigateTo("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ne(e){oe((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.id,e.target.value))}))}Object(c.useEffect)((function(){ge()}),[]);function we(){return(we=Object(u.a)(Object(m.a)().mark((function e(){var t,s,c,a,n,l,i,o,d,j;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ee(!0),t=localStorage.getItem("_id"),s=[],c=0,e.prev=4,a=Object(ns.a)(fe),e.prev=6,a.s();case 8:if((n=a.n()).done){e.next=24;break}return l=n.value,(i=new FormData).append("file",l),e.next=14,y.post(g.default.path.s3.uploadFile,i,!0);case 14:if((o=e.sent).err){e.next=19;break}s.push({id:c++,fileName:o.fileName,fileKey:o.fileKey}),e.next=22;break;case 19:throw r(o.message),B(!0),new Error(o.message);case 22:e.next=8;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(6),a.e(e.t0);case 29:return e.prev=29,a.f(),e.finish(29);case 32:return d={user:t,transactionDate:ie.transactionDate,amount:ie.amount,vat:ie.vat,reason:ie.reason,fileKeys:s,emailed:ce,created:new Date},e.next=35,y.post(g.default.path.profile.requestReimbursement,d,!0);case 35:(j=e.sent).err?(ee(!1),r(j.message),B(!0)):(ee(!1),r(j.message),J(!0)),e.next=45;break;case 39:e.prev=39,e.t1=e.catch(4),ee(!1),B(!0),r(e.t1.message),_(!1);case 45:case"end":return e.stop()}}),e,null,[[4,39],[6,26,29,32]])})))).apply(this,arguments)}function ye(){xe(!be)}var ke=Object(k.jsx)("span",{className:"text-rose-500",children:"*"});return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"flex justify-end mr-5",children:Object(k.jsx)("button",{className:"mt-3 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:ye,children:be?Object(k.jsx)("div",{className:"flex justify-center",children:"Back to form"}):"History"})}),be?Object(k.jsx)(Kt,{form:"expenseReimbursement"}):Object(k.jsx)("div",{className:"flex justify-center",children:Object(k.jsx)("div",{className:"w-1/2",children:Object(k.jsxs)(Lt.a,{variant:"outlined",children:[Object(k.jsxs)(Pt.a,{children:[Object(k.jsx)("div",{className:"mb-3 pb-4 rounded",children:Object(k.jsxs)("div",{children:["Required ",ke]})}),Object(k.jsxs)("div",{className:"mb-1",children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"transactionDate",children:["1. Date of transaction ",ke]}),Object(k.jsx)("input",{id:"transactionDate",className:"form-input w-full mb-2",type:"date",max:e,onChange:Ne})]}),Object(k.jsx)(q,{type:"error",open:N,setOpen:w,children:n}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"amount",children:["2. Amount requested for reimbursement ",ke]}),Object(k.jsx)("input",{id:"amount",placeholder:"eg. 25",type:"number",min:"0",className:"appearance-none form-input w-full px-2 py-2 mb-5",onChange:Ne})]}),Object(k.jsx)("div",{children:Object(k.jsx)(q,{type:"error",open:j,setOpen:b,children:n})}),Object(k.jsxs)("div",{className:"mb-1",children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"vat",children:["3. VAT amount (if applicable) ",ke]}),Object(k.jsx)("input",{id:"vat",placeholder:"eg. 1",type:"number",className:"form-input w-full px-2 py-2 mb-5",onChange:Ne})]}),Object(k.jsx)("div",{children:Object(k.jsx)(q,{type:"error",open:p,setOpen:O,children:n})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"reason",children:["4. Reason for purchase ",ke]}),Object(k.jsx)("textarea",{id:"reason",placeholder:"eg. C3 related event",className:"form-input w-full px-2 py-1 mb-3",onChange:Ne})]}),Object(k.jsx)("div",{children:Object(k.jsx)(q,{type:"error",open:z,setOpen:D,children:n})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"upload",children:["5. Upload a copy of your invoice/receipt (Max files: ",Object(k.jsx)("span",{className:"text-red-500 font-bold",children:"5"}),") (Max File Size: ",Object(k.jsx)("span",{className:"text-red-500 font-bold",children:"10"})," MB):"]}),Object(k.jsx)("div",{className:"custom-file-upload",children:Oe.length?Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("button",{className:"bg-zinc-200 p-1 rounded mr-3",onClick:function(){return he()},children:["Retry"," "]}),Oe[0].readerError&&"Problem occured while reading file!",Oe[0].fileSizeToolarge&&"File size is too large!",Oe[0].maxLimitExceeded&&"Too many files selected",Oe[0].minLimitNotReached&&"Not enough files"]})}):Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("div",{children:[Object(k.jsx)("button",{className:"bg-zinc-200 p-1 rounded mr-3",onClick:function(){return he()},children:"Select files"}),fe.length>0&&Object(k.jsx)("button",{className:"bg-zinc-200 p-1 rounded",onClick:function(){return ve()},children:"Clear"}),Object(k.jsxs)("div",{className:"flex flex-row",children:[fe.length>0?Object(k.jsx)("div",{className:"mt-3 p-1",children:"Selected Files: "}):"",Object(k.jsx)("div",{className:"mt-3",children:fe.map((function(e){return Object(k.jsx)("div",{className:"p-1 rounded-full bg-rose-500 text-white text-sm w-fit mb-1 mr-2",children:e.name},e.name)}))})]})]})})})]}),Object(k.jsx)("div",{children:Object(k.jsx)(q,{type:"error",open:I,setOpen:T,children:n})}),Object(k.jsxs)("div",{className:"mt-6",children:[Object(k.jsx)("div",{className:"ml-1",children:Object(k.jsx)(K.a,{control:Object(k.jsx)(X.a,{id:"emailed",checked:ce,onChange:function(e){ae(e.target.checked)}}),label:"Send me an email reciept of my responses"})}),Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"mt-5 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){ie.amount<=0?(b(!0),r("Amount is required.")):ie.transactionDate?ie.vat<0||!ie.vat?(O(!0),r("VAT is required.")):ie.reason?ie.reason.length<5?(D(!0),r("Reason must be 5 or more charachters.")):fe.length?_(!0):(T(!0),r("File is required.")):(D(!0),r("Reason is required.")):(w(!0),r("Date is required."))},children:"Submit"})})]})]})]}),Object(k.jsx)(qt,{id:"ensure-modal",modalOpen:U,setModalOpen:_,children:Object(k.jsx)(k.Fragment,{children:$?Object(k.jsx)(Ee,{}):Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Are you sure you want to submit ?"," "]}),Object(k.jsxs)("div",{className:"mt-3",children:[Object(k.jsxs)("div",{children:["1. Date of transaction:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:new Date(ie.transactionDate).toDateString()})]}),Object(k.jsxs)("div",{children:["2. Amount:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:ie.amount})]}),Object(k.jsxs)("div",{children:["3. VAT:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:ie.vat})]}),Object(k.jsxs)("div",{children:["4. Reason:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:ie.reason&&ie.reason.length>15?ie.reason.substring(0,15).concat("..."):ie.reason})]}),Object(k.jsxs)("div",{children:["5. Files:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:fe.map((function(e){return Object(k.jsx)("div",{children:e.name})}))})]})]})]})}),Object(k.jsx)("div",{}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),_(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return we.apply(this,arguments)},children:"Yes, Submit"})]})]})]})})}),Object(k.jsx)(qt,{id:"success-modal",modalOpen:G,setModalOpen:J,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:n})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){oe([{transactionDate:"",amount:"",vat:"",reason:""}]),ve(),_(!1),J(!1),ye()},children:"Okay"})})]})]})}),Object(k.jsx)(qt,{id:"error-modal",modalOpen:F,setModalOpen:B,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:n})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){B(!1)},children:"Okay"})})]})]})})]})})})]})}var is=s(87);function os(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(!1),r=Object(i.a)(n,2),l=r[0],o=r[1],d=Object(c.useState)(!1),j=Object(i.a)(d,2),b=j[0],x=j[1],h=Object(c.useState)(""),p=Object(i.a)(h,2),O=p[0],f=p[1],v=Object(c.useState)(0),N=Object(i.a)(v,2),w=N[0],S=N[1],C=Object(c.useState)([{id:w,input:""}]),z=Object(i.a)(C,2),D=z[0],A=z[1],M=Object(c.useState)(!0),E=Object(i.a)(M,2),I=E[0],T=E[1];function L(){return(L=Object(u.a)(Object(m.a)().mark((function e(){var t,s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("_id"),s={user:t,reviews:D,emailed:I,created:new Date},e.prev=2,e.next=5,y.post(g.default.path.profile.addReview,s,!0);case 5:(c=e.sent).err?(f(c.message),o(!0)):(f(c.message),a(!0)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),f(e.t0.message),o(!0);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function P(){var e=Object(je.a)(D);S(w+1),console.log(w),e.push({id:w+1,input:""}),A(e)}var F=Object(k.jsx)("span",{className:"text-rose-500",children:"*"});return Object(k.jsxs)("div",{className:"flex justify-center",children:[Object(k.jsx)("div",{className:"mt-5 w-1/2",children:Object(k.jsx)(Lt.a,{variant:"outlined",children:Object(k.jsxs)(Pt.a,{children:[Object(k.jsx)("div",{className:"mb-3 pb-4 rounded",children:Object(k.jsxs)("div",{children:["Required ",F]})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium",htmlFor:"course-name",children:["Please list your issues or recommendations for the portal below (up to 10 per submission) ",F]}),D.map((function(e){return Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"mt-3 block text-sm font-medium mb-1",htmlFor:"issue",children:"Issue/Recommendation"}),Object(k.jsxs)("div",{className:"flex inline items-center",children:[Object(k.jsx)("div",{className:"flex-1 items-stretch",children:Object(k.jsx)("textarea",{id:e.id,name:"review",className:"form-input w-full px-2 py-0.5 mt-2",value:e.input,onChange:function(t){return function(e,t){var s=D.findIndex((function(e){return e.id===t})),c=Object(je.a)(D);c[s].input=e.target.value,A(c)}(t,e.id)}})}),Object(k.jsx)("div",{className:"shrink items-center ml-2",children:D.length<=9&&Object(k.jsx)("button",{className:"p-1 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:P,children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-white",viewBox:"0 0 24 24","fill-rule":"evenodd","clip-rule":"evenodd",children:Object(k.jsx)("path",{d:"M11.5 0c6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5-11.5-5.153-11.5-11.5 5.153-11.5 11.5-11.5zm0 1c5.795 0 10.5 4.705 10.5 10.5s-4.705 10.5-10.5 10.5-10.5-4.705-10.5-10.5 4.705-10.5 10.5-10.5zm.5 10h6v1h-6v6h-1v-6h-6v-1h6v-6h1v6z"})})})}),Object(k.jsx)("div",{className:"shrink items-center ml-2",children:D.length>1&&Object(k.jsx)("button",{className:"p-1 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return function(e){if(1!==D.length){console.log("Removed");var t=Object(je.a)(D);t=t.filter((function(t){return t.id!==e})),A(t)}}(e.id)},disabled:1===D.length,children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-white",viewBox:"0 0 24 24","fill-rule":"evenodd","clip-rule":"evenodd",children:Object(k.jsx)("path",{d:"M11.5 0c6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5-11.5-5.153-11.5-11.5 5.153-11.5 11.5-11.5zm0 1c5.795 0 10.5 4.705 10.5 10.5s-4.705 10.5-10.5 10.5-10.5-4.705-10.5-10.5 4.705-10.5 10.5-10.5zm-6.5 10h13v1h-13v-1z"})})})})]})]},e.id)}))]}),Object(k.jsx)("div",{children:Object(k.jsx)(q,{type:"error",open:b,setOpen:x,children:O})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"ml-1",children:Object(k.jsx)(K.a,{control:Object(k.jsx)(X.a,{checked:I,onChange:function(e){T(e.target.checked)}}),label:"Send me an email reciept of my responses"})}),Object(k.jsx)("button",{className:"mt-3 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){var e=[];D.forEach((function(t){t.input?t.input.length<5?(x(!0),f("Answer cannot be less than 5 charachters."),e.push(!1)):e.push(!0):(x(!0),f("Suggestion/Issue is required."),e.push(!1))})),e.includes(!1)||function(){L.apply(this,arguments)}()},children:"Submit"})]})]})]})})}),Object(k.jsx)(qt,{id:"success-modal",modalOpen:s,setModalOpen:a,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:O})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){a(!1),o(!1),x(!1),S(0),A([{id:w-w,input:""}])},children:"Okay"})})]})]})}),Object(k.jsx)(qt,{id:"error-modal",modalOpen:l,setModalOpen:o,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:O})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){o(!1)},children:"Okay"})})]})]})})]})}var ds=s(433),js=["Mazaars","Old Mutual Insurance"];function bs(e){var t=e.trainingDays,s=e.user,a=e.isTrainingDay,n=Object(c.useState)(!1),r=Object(i.a)(n,2),l=r[0],d=r[1],j=Object(c.useState)({}),b=Object(i.a)(j,2),x=b[0],h=b[1],p=Object(c.useState)(!1),O=Object(i.a)(p,2),f=O[0],v=(O[1],Object(c.useState)(!1)),N=Object(i.a)(v,2),w=N[0],S=N[1],C=Object(c.useState)(!1),z=Object(i.a)(C,2),D=z[0],A=z[1],M=Object(c.useState)(!1),E=Object(i.a)(M,2),I=E[0],T=E[1],L=Object(c.useState)(!1),P=Object(i.a)(L,2),F=P[0],B=P[1],R=Object(c.useState)(!1),H=Object(i.a)(R,2),U=H[0],_=H[1],V=Object(c.useState)(""),W=Object(i.a)(V,2),K=W[0],X=W[1],Z=Object(c.useState)(!0),Q=Object(i.a)(Z,2),$=Q[0],ee=(Q[1],function(e){h((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.id,e.target.value))}))});function te(){return(te=Object(u.a)(Object(m.a)().mark((function e(){var t,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S(!0),e.prev=1,t=s.id?Object(o.a)(Object(o.a)({},x),{},{gender:s.gender,race:s.race,id:s.id,emailed:$}):Object(o.a)(Object(o.a)({},x),{},{emailed:$}),e.next=5,y.post(g.default.path.profile.addAttendance,t,!0);case 5:if(!(c=e.sent).err){e.next=11;break}return S(!1),X(c.error.message),T(!0),e.abrupt("return");case 11:S(!1),X(c),_(!0),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(1),S(!1),X(e.t0.error.message),T(!0);case 21:case"end":return e.stop()}}),e,null,[[1,16]])})))).apply(this,arguments)}var se=function(){Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""})),Array.from(document.querySelectorAll("select")).forEach((function(e){return e.selectedIndex=0}))},ce=Object(k.jsx)("span",{className:"text-rose-500",children:"*"}),ae=Object(k.jsx)("div",{className:"flex justify-end",children:Object(k.jsx)(ds.a,{title:"Change details in Account tab of Settings",children:Object(k.jsx)("svg",{"clip-rule":"evenodd","fill-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",className:"w-6 h-6 fill-current text-sky-500",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(k.jsx)("path",{d:"m12.002 2.005c5.518 0 9.998 4.48 9.998 9.997 0 5.518-4.48 9.998-9.998 9.998-5.517 0-9.997-4.48-9.997-9.998 0-5.517 4.48-9.997 9.997-9.997zm0 1.5c-4.69 0-8.497 3.807-8.497 8.497s3.807 8.498 8.497 8.498 8.498-3.808 8.498-8.498-3.808-8.497-8.498-8.497zm0 6.5c-.414 0-.75.336-.75.75v5.5c0 .414.336.75.75.75s.75-.336.75-.75v-5.5c0-.414-.336-.75-.75-.75zm-.002-3c.552 0 1 .448 1 1s-.448 1-1 1-1-.448-1-1 .448-1 1-1z"})})})});return Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"flex justify-end mr-5",children:Object(k.jsx)("button",{className:"mt-3 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return d(!l)},children:l?Object(k.jsx)("div",{className:"flex justify-center",children:"Back to form"}):"History"})}),f?Object(k.jsx)(Ee,{}):l?Object(k.jsx)(Kt,{form:"skillsFriday"}):Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:"flex justify-center",children:Object(k.jsxs)("div",{className:"w-1/2",children:[Object(k.jsx)(qt,{id:"ensure-modal",modalOpen:F,setModalOpen:B,children:Object(k.jsx)(k.Fragment,{children:w?Object(k.jsx)(Ee,{}):Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Are you sure you want to submit ?"," "]}),Object(k.jsxs)("div",{className:"mt-3",children:[Object(k.jsxs)("div",{children:["1. Training Day:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:x.trainingDay&&x.trainingDay.length>35?x.trainingDay.substring(0,30).concat("..."):x.trainingDay})]}),Object(k.jsxs)("div",{children:["2. Gender:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:x.gender?x.gender:s.gender})]}),Object(k.jsxs)("div",{children:["3. Race:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:x.race?x.race:s.race})]}),Object(k.jsxs)("div",{children:["4. ID Number:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:x.id?x.id:s.id})]}),Object(k.jsxs)("div",{children:["5. Attendance:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-rose-600",children:x.attendance})]})]})]})}),Object(k.jsx)("div",{className:"mt-5",children:Object(k.jsx)(q,{type:"error",open:I,setOpen:T,children:K})}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),B(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return te.apply(this,arguments)},children:"Yes, Submit"})]})]})]})})}),Object(k.jsx)(qt,{id:"success-modal",modalOpen:U,setModalOpen:_,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:K})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){A(!1),_(!1),B(!1),X(""),h({}),se()},children:"Okay"})})]})]})}),a?Object(k.jsx)(Lt.a,{children:Object(k.jsxs)(Pt.a,{children:[Object(k.jsx)("div",{className:"mb-3 pb-4 rounded",children:Object(k.jsxs)("div",{className:"flex justify-between",children:[Object(k.jsxs)("div",{children:["Required ",ce]}),s&&s.gender?ae:""]})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-3 block text-sm font-medium mb-1",htmlFor:"id",children:["1. Training Day ",ce]}),Object(k.jsxs)("select",{id:"trainingDay",className:"form-select w-full",onChange:ee,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Training Day"}),t&&t.sort().map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e.desc,children:e.desc})})}))]})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"amount",children:["2. Gender ",ce]}),Object(k.jsxs)("select",{id:"gender",className:"form-select w-full",onChange:ee,value:s&&s.gender?s.gender:null,disabled:!(!s||!s.gender),children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Gender"}),J&&J.sort().map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e,children:e})})}))]})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-3 block text-sm font-medium mb-1",htmlFor:"amount",children:["3. Race ",ce]}),Object(k.jsxs)("select",{id:"race",className:"form-select w-full",onChange:ee,value:s&&s.race?s.race:null,disabled:!(!s||!s.race),children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Race"}),G&&G.sort().map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e,children:e})})}))]})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-3 block text-sm font-medium mb-1",htmlFor:"id",children:["4. ID Number ",ce]}),Object(k.jsx)("input",{id:"id",placeholder:"eg. 0123456789123",type:"text",className:"appearance-none form-input w-full px-2 py-2",onChange:ee,value:s&&s.id?s.id:null,disabled:!(!s||!s.id)})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"mt-3 block text-sm font-medium mb-1",htmlFor:"attendance",children:["5. Attendance Type ",ce]}),Object(k.jsxs)("select",{id:"attendance",className:"form-select w-full",onChange:ee,value:s&&s.attendance?s.attendance:null,disabled:!(!s||!s.attendance),children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Attendance Type"}),Object(k.jsx)("option",{value:"In-Person",children:"In-Person"}),Object(k.jsx)("option",{value:"Online",children:"Online"})]})]}),Object(k.jsx)("div",{className:"mt-6",children:Object(k.jsx)(q,{type:"error",open:D,setOpen:A,children:K})}),Object(k.jsx)("div",{className:"mt-3",children:Object(k.jsx)("div",{children:Object(k.jsx)("button",{className:"mt-5 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){var e=new RegExp("/(((d{2}((0[1-9]|[12]d|3[01])|(0[13456789]|1[012])(0[1-9]|[12]d|30)|02(0[1-9]|1d|2[0-8])))|([02468][048]|[13579][26])0229))(( |-)(d{4})( |-)(d{3})|(d{7}))$");if(!x.trainingDay)return X("Training Day is required"),void A(!0);if(!x.gender&&!s.gender)return X("Gender is required"),void A(!0);if(!x.race&&!s.race)return X("Race is required"),void A(!0);if(!x.id&&!s.id)return X("ID is required"),void A(!0);if(s.id?s.id:e.test(x.id)||13===x.id.length){if(!x.attendance)return X("Attendance is required"),void A(!0);A(!1),B(!0)}else X("Invalid ID."),A(!0)},children:"Submit"})})})]})]})}):Object(k.jsx)("div",{className:"mt-5 flex justify-center text-zinc-400 text-xl",children:Object(k.jsx)("h1",{children:"No Training Today"})})]})})})]})}function xs(e){var t=e.requestedProjects,s=e.setSelectedProject,c=e.selectedProject,a=e.updateModal,n=e.selectedClient,r=e.disable,l=e.resetModal,i=e.submitRequest;return Object(k.jsxs)("div",{className:"p-3",children:[Object(k.jsx)("div",{id:"title",className:"",children:Object(k.jsx)("h2",{className:"text-xl text-slate-800 font-bold mb-5",children:"Request To Join Project"})}),t?Object(k.jsxs)("div",{id:"body",children:["Select a Client:",Object(k.jsx)("div",{className:"flex justify-center mb-5",children:Object(k.jsxs)("select",{id:"client-selector",className:"form-select w-full",onChange:a,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Client"}),t&&t.map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e.clientName,children:e.clientName})})}))]})}),n?Object(k.jsxs)(k.Fragment,{children:["Select a Project:",Object(k.jsx)("div",{className:"flex justify-center mb-5",children:Object(k.jsxs)("select",{id:"project-selector",className:"form-select w-full",onChange:function(e){return s(e.target.value)},children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Project"}),t&&t.find((function(e){return e.clientName===n})).projects.map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e._id,children:e.projectName})})}))]})}),t.find((function(e){return e.clientName===n})).projects.find((function(e){return e._id===c}))?Object(k.jsxs)(k.Fragment,{children:["Project Manager:",Object(k.jsx)("div",{className:"mb-5",children:t.find((function(e){return e.clientName===n})).projects.find((function(e){return e._id===c})).businessRep.personalInfo.firstName+" "+t.find((function(e){return e.clientName===n})).projects.find((function(e){return e._id===c})).businessRep.personalInfo.lastName})]}):""]}):""]}):Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{className:"flex justify-center text-slate-400 text-2xl font-bold",children:Object(k.jsx)("h1",{children:"No projects available for you at the moment.."})})}),Object(k.jsxs)("div",{id:"footer",className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{onClick:l,className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",disabled:!!r,onClick:i,children:"Submit Request"})]})]})}function ms(e){var t=e.clients,s=e.selectedClient,c=e.setSelectedClient,a=e.resetModal,n=e.disable,r=e.submitRequest,l=e.updateInputs;return Object(k.jsxs)("div",{className:"p-3",children:[Object(k.jsx)("div",{id:"title",className:"",children:Object(k.jsx)("h2",{className:"text-xl text-slate-800 font-bold mb-5",children:"Request New Project"})}),Object(k.jsxs)("div",{id:"body",children:["Select a Client:",Object(k.jsx)("div",{className:"flex justify-center mb-5",children:Object(k.jsxs)("select",{id:"client-selector",className:"form-select w-full",onChange:function(e){return c(e.currentTarget.value)},children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Client"}),t&&t.map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e.clientName,children:e.clientName})})}))]})}),s&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{children:["Project Name:",Object(k.jsx)("input",{className:"form-input w-full",id:"projectName",type:"text",onChange:l})]}),Object(k.jsxs)("div",{children:["Project Desc:",Object(k.jsx)("textarea",{className:"form-input w-full",id:"desc",type:"text",onChange:l})]})]})]}),Object(k.jsxs)("div",{id:"footer",className:"mt-5 flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{onClick:a,className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",disabled:!!n,onClick:r,children:"Submit Request"})]})]})}function us(e){var t=e.projectsData,s=e.setSelectedClient,c=e.selectedClient,a=e.setSelectedProject,n=e.disable,r=e.submitRequest,l=e.resetModal,i=localStorage.getItem("_id");return Object(k.jsxs)("div",{className:"p-3",children:[Object(k.jsx)("div",{id:"title",className:"",children:Object(k.jsx)("h2",{className:"text-xl text-slate-800 font-bold mb-5",children:"Request To Remove Project"})}),t&&t.filter((function(e){return"Internal"!==e.client.clientName})).length>0?Object(k.jsxs)("div",{id:"body",children:["Select a Client:",Object(k.jsx)("div",{className:"flex justify-center mb-5",children:Object(k.jsxs)("select",{id:"client-selector",className:"form-select w-full",onChange:function(e){return s(e.currentTarget.value)},children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Client"}),t&&t.filter((function(e){return"Internal"!==e.client.clientName})).map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e.client.clientName,children:e.client.clientName})})}))]})}),c&&Object(k.jsxs)("div",{children:["Select a Project:",Object(k.jsx)("div",{className:"flex justify-center mb-5",children:Object(k.jsxs)("select",{id:"project-selector",className:"form-select w-full",onChange:function(e){return a(e.currentTarget.value)},children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Project"}),t&&t.filter((function(e){return e.client.clientName===c&&e.businessRep._id!==i})).map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e.projectName,children:e.projectName})})}))]})})]})]}):Object(k.jsx)("div",{className:"flex justify-center text-slate-400 text-2xl font-bold",children:Object(k.jsx)("h1",{children:"No projects available for you at the moment.."})}),Object(k.jsxs)("div",{id:"footer",className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{onClick:l,className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",disabled:!!n,onClick:r,children:"Submit Request"})]})]})}var hs=["children","value","index"],ps=Object(At.a)({palette:{primary:{light:"#757ce8",main:"#f33f5f",dark:"#ad2d44",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}}),Os=Object(is.a)(Mt.a)({"& .MuiTabs-indicator":{backgroundColor:"#f33f5f"}}),fs=Object(is.a)((function(e){return Object(k.jsx)(Et.a,Object(o.a)({disableRipple:!0},e))}))((function(e){var t,s=e.theme;return t={textTransform:"none",minWidth:0},Object(Y.a)(t,s.breakpoints.up("sm"),{minWidth:0}),Object(Y.a)(t,"fontWeight",s.typography.fontWeightRegular),Object(Y.a)(t,"marginRight",s.spacing(1)),Object(Y.a)(t,"color","text-zinc-500"),Object(Y.a)(t,"&:hover",{color:"#f26680",opacity:1}),Object(Y.a)(t,"&.Mui-selected",{color:"#f33f5f",fontWeight:s.typography.fontWeightMedium}),Object(Y.a)(t,"&.Mui-focusVisible",{backgroundColor:"#d1eaff"}),t}));function vs(e){var t=e.children,s=e.value,c=e.index,a=Object(be.a)(e,hs);return Object(k.jsx)("div",Object(o.a)(Object(o.a)({role:"tabpanel",hidden:s!==c,id:"simple-tabpanel-".concat(c),"aria-labelledby":"simple-tab-".concat(c)},a),{},{children:s===c&&Object(k.jsx)(It.a,{children:t})}))}function gs(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Ns=function(){var e=a.a.useContext(Jc).dispatch,t=Object(c.useState)(!1),s=Object(i.a)(t,2),n=s[0],r=s[1],l=Object(c.useState)(null),d=Object(i.a)(l,2),j=d[0],b=d[1],x=Object(c.useState)(null),h=Object(i.a)(x,2),p=h[0],O=h[1],f=Object(c.useState)(!1),v=Object(i.a)(f,2),N=v[0],w=v[1],S=Object(c.useState)(!0),C=Object(i.a)(S,2),z=C[0],M=C[1],E=Object(c.useState)(!1),T=Object(i.a)(E,2),L=T[0],P=T[1],F=Object(c.useState)([]),B=Object(i.a)(F,2),R=B[0],H=B[1],U=Object(c.useState)(!1),_=Object(i.a)(U,2),q=_[0],V=_[1],W=Object(c.useState)(""),G=Object(i.a)(W,2),J=G[0],K=G[1],X=Object(c.useState)(""),Z=Object(i.a)(X,2),Q=Z[0],$=Z[1],ee=a.a.useContext(I).globalClients,te=Object(c.useState)([{_id:"",client:{},clientName:"",projects:[]}]),se=Object(i.a)(te,2),ce=se[0],ae=se[1],ne=Object(c.useState)(0),re=Object(i.a)(ne,2),le=re[0],ie=re[1],oe=Object(c.useState)(!1),de=Object(i.a)(oe,2),je=de[0],be=de[1],xe=Object(c.useState)(!1),me=Object(i.a)(xe,2),ue=(me[0],me[1]),he=Object(c.useState)(!1),pe=Object(i.a)(he,2),Oe=pe[0],fe=pe[1],ve=Object(c.useState)(""),ge=Object(i.a)(ve,2),Ne=ge[0],we=ge[1],ye=Object(c.useState)({projectName:"",desc:""}),ke=Object(i.a)(ye,2),Se=ke[0],Ce=ke[1],ze=Object(c.useState)(""),De=Object(i.a)(ze,2),Ae=De[0],Me=De[1],Ie=Object(c.useState)(!1),Te=Object(i.a)(Ie,2),Le=Te[0],Pe=Te[1],Fe=Object(c.useState)(0),Be=Object(i.a)(Fe,2),Re=Be[0],He=Be[1],Ye=Object(c.useState)(),Ue=Object(i.a)(Ye,2);Ue[0],Ue[1];var _e=function(){var t=Object(u.a)(Object(m.a)().mark((function t(){var s;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:s=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(s)&&(localStorage.setItem("auth-token",null),e({type:"LOGOUT"}),navigateTo("/signin"));case 2:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t,s,c,a,n,r;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,_e(),M(!0),t=localStorage.getItem("_id"),s=localStorage.getItem("isTrainingDay"),V("true"===s),!s){e.next=14;break}return e.next=9,y.get(g.default.path.events.getAllTrainingDays);case 9:if(!(c=e.sent).err){e.next=13;break}return M(!1),e.abrupt("return");case 13:H(c);case 14:return e.next=16,y.get("".concat(g.default.path.profile.getProfile,"/").concat(t),!0);case 16:return a=e.sent,b(a),"none"!==a.profilePictureKey&&Me("".concat(g.default.url,"/").concat(g.default.path.s3.getFile,"/").concat(a.profilePictureKey)),e.next=21,y.get("".concat(g.default.path.projects.getProjectsFor,"/").concat(t));case 21:return n=e.sent,e.next=24,y.get("".concat(g.default.path.projects.getProjectsNotIn,"/").concat(t));case 24:(r=e.sent).err?(we(r.message),ue(!0)):ae(r),O(n.projects),w(!0),M(!1),D(),e.next=37;break;case 32:e.prev=32,e.t0=e.catch(0),M(!1),ue(!0),we(e.t0.message);case 37:case"end":return e.stop()}}),e,null,[[0,32]])}))),[]);var qe=function(){return""===Q?(we("Client is not selected."),be(!0),!1):""!==J||(we("Project is not selected."),be(!0),!1)},Ve=function(){try{return""===Q?(we("Client is not selected."),be(!0),!1):Se.projectName?Se.desc?!(Se.desc.length<=5)||(we("Description needs to be more than 5 characters long."),be(!0),!1):(we("Description is required."),be(!0),!1):(we("Project Name is required."),be(!0),!1)}catch(err){return we(err.message),be(!0),!1}};function We(){return(We=Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,Ve()){e.next=4;break}return e.abrupt("return");case 4:return P(!0),t=Object(o.a)(Object(o.a)({},Se),{},{client:Q}),e.next=8,y.post("".concat(g.default.path.projects.requestToCreate),t,!0);case 8:(s=e.sent).err?(we(s.error.message),be(!0)):(Pe(!1),we(s),fe(!0)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),we(e.t0.message),be(!0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Ge(){return(Ge=Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,qe()){e.next=4;break}return e.abrupt("return");case 4:return P(!0),t={project:J},e.next=8,y.post("".concat(g.default.path.projects.requestRemoval),t,!0);case 8:(s=e.sent).err?(we(s.error.message),be(!0)):(Pe(!1),we(s),fe(!0)),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(0),we(e.t0.message),be(!0);case 16:case"end":return e.stop()}}),e,null,[[0,12]])})))).apply(this,arguments)}function Je(){return(Je=Object(u.a)(Object(m.a)().mark((function e(){var t,s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(qe()){e.next=3;break}return e.abrupt("return");case 3:return e.prev=3,t=localStorage.getItem("_id"),P(!0),s={project:J,user:t},e.next=9,y.post("".concat(g.default.path.projects.requestToJoin),s,!0);case 9:(c=e.sent).err?(we(c.message),be(!0)):(Pe(!1),we(c),fe(!0)),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(3),we(e.t0.message),be(!0);case 17:case"end":return e.stop()}}),e,null,[[3,13]])})))).apply(this,arguments)}function Ke(){try{fe(!1),ue(!1),P(!1),Pe(!1),$(""),K(""),document.getElementById("project-selector").value="",document.getElementById("client-selector").value="",He(0)}catch(err){Pe(!1),$(""),K("")}}return Object(k.jsx)("main",{children:z?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsx)("div",{className:"relative flex",children:N&&Object(k.jsxs)("div",{className:"grow flex flex-col md:translate-x-0 transform transition-transform duration-300 ease-in-out ".concat(n?"translate-x-1/3":"translate-x-0"),children:[Object(k.jsxs)("div",{className:"relative h-56 bg-zinc-200",children:[Object(k.jsx)("img",{className:"object-cover h-full w-full",src:Dt,width:"979",height:"220",alt:"Profile background"}),Object(k.jsxs)("button",{className:"md:hidden absolute top-4 left-4 sm:left-6 text-white opacity-80 hover:opacity-100",onClick:function(){return r(!n)},"aria-controls":"profile-sidebar","aria-expanded":n,children:[Object(k.jsx)("span",{className:"sr-only",children:"Close sidebar"}),Object(k.jsx)("svg",{className:"w-6 h-6 fill-current",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:Object(k.jsx)("path",{d:"M10.7 18.7l1.4-1.4L7.8 13H20v-2H7.8l4.3-4.3-1.4-1.4L4 12z"})})]})]}),Object(k.jsxs)("div",{className:"relative px-4 sm:px-6 pb-8",children:[Object(k.jsx)("div",{className:"-mt-16 mb-6 sm:mb-3",children:Object(k.jsx)("img",{className:"w-20 h-20 rounded-full mb-1",src:Ae||zt,width:"80",height:"80",alt:"Avatar"})}),Object(k.jsxs)("header",{className:"text-left sm:text-left mb-6",children:[Object(k.jsx)("div",{className:"flex justify-between mb-4",children:Object(k.jsx)("div",{className:"inline-flex",children:Object(k.jsxs)("h1",{className:"text-2xl text-zinc-800 font-bold",children:[j.personalInfo.firstName," ",j.personalInfo.lastName]})})}),Object(k.jsx)("div",{className:"text-sm mb-3",children:j.type}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-left sm:justify-start space-x-4",children:[Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsx)("svg",{className:"w-4 h-4 fill-current shrink-0 text-zinc-400",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 8.992a2 2 0 1 1-.002-3.998A2 2 0 0 1 8 8.992Zm-.7 6.694c-.1-.1-4.2-3.696-4.2-3.796C1.7 10.69 1 8.892 1 6.994 1 3.097 4.1 0 8 0s7 3.097 7 6.994c0 1.898-.7 3.697-2.1 4.996-.1.1-4.1 3.696-4.2 3.796-.4.3-1 .3-1.4-.1Zm-2.7-4.995L8 13.688l3.4-2.997c1-1 1.6-2.198 1.6-3.597 0-2.798-2.2-4.996-5-4.996S3 4.196 3 6.994c0 1.399.6 2.698 1.6 3.697 0-.1 0-.1 0 0Z"})}),Object(k.jsx)("span",{className:"text-sm font-medium whitespace-nowrap text-zinc-500 ml-2",children:j.personalInfo.city})]}),Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsx)("svg",{className:"w-4 h-4 fill-current shrink-0 text-zinc-400",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M11 0c1.3 0 2.6.5 3.5 1.5 1 .9 1.5 2.2 1.5 3.5 0 1.3-.5 2.6-1.4 3.5l-1.2 1.2c-.2.2-.5.3-.7.3-.2 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l1.1-1.2c.6-.5.9-1.3.9-2.1s-.3-1.6-.9-2.2C12 1.7 10 1.7 8.9 2.8L7.7 4c-.4.4-1 .4-1.4 0-.4-.4-.4-1 0-1.4l1.2-1.1C8.4.5 9.7 0 11 0ZM8.3 12c.4-.4 1-.5 1.4-.1.4.4.4 1 0 1.4l-1.2 1.2C7.6 15.5 6.3 16 5 16c-1.3 0-2.6-.5-3.5-1.5C.5 13.6 0 12.3 0 11c0-1.3.5-2.6 1.5-3.5l1.1-1.2c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4L2.9 8.9c-.6.5-.9 1.3-.9 2.1s.3 1.6.9 2.2c1.1 1.1 3.1 1.1 4.2 0L8.3 12Zm1.1-6.8c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4l-4.2 4.2c-.2.2-.5.3-.7.3-.2 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l4.2-4.2Z"})}),Object(k.jsx)("a",{className:"text-sm font-medium whitespace-nowrap text-rose-500 hover:text-rose-600 ml-2",href:"#0",children:j.email})]})]})]}),Object(k.jsxs)("div",{className:"relative mb-6",children:[Object(k.jsx)(It.a,{sx:{borderBottom:1,borderColor:"divider"},className:"relative text-sm font-small flex flex-nowrap -mx-4 sm:-mx-6 lg:-mx-8 overflow-x-scroll no-scrollbar",children:Object(k.jsx)(Tt.a,{theme:ps,children:Object(k.jsxs)(Os,{value:le,onChange:function(e,t){ie(t)},textColor:"primary",indicatorColor:"primary",variant:"fullWidth",children:[Object(k.jsx)(fs,Object(o.a)({label:"Profile"},gs(0))),Object(k.jsx)(fs,Object(o.a)({label:"Expense Reimbursement"},gs(1))),Object(k.jsx)(fs,Object(o.a)({label:"Study Cost Funding"},gs(2))),Object(k.jsx)(fs,Object(o.a)({label:"Travel Allowance"},gs(3))),Object(k.jsx)(fs,Object(o.a)({label:"Portal Recommendations"},gs(4))),Object(k.jsx)(fs,Object(o.a)({label:"Skills Friday Attendance"},gs(5))),Object(k.jsx)(fs,Object(o.a)({label:"Leave"},gs(6)))]})})}),Object(k.jsxs)(Tt.a,{theme:ps,children:[Object(k.jsxs)(vs,{value:le,index:0,children:[Object(k.jsx)(qt,{id:"error-modal",modalOpen:je,setModalOpen:be,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:Ne})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){be(!1),P(!1)},children:"Okay"})})]})]})}),Object(k.jsx)(qt,{id:"success-modal",modalOpen:Oe,setModalOpen:fe,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:Ne})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:Ke,children:"Okay"})})]})]})}),Object(k.jsxs)(qt,{id:"project-requests",modalOpen:Le,setModalOpen:Pe,children:[Object(k.jsxs)(Mt.a,{value:Re,onChange:function(e,t){He(t),$(""),K("")},variant:"fullWidth",centered:!0,children:[Object(k.jsx)(fs,Object(o.a)({label:"Join"},gs(0))),Object(k.jsx)(fs,Object(o.a)({label:"Request New"},gs(1))),Object(k.jsx)(fs,Object(o.a)({label:"Remove"},gs(2)))]}),Object(k.jsx)(vs,{value:Re,index:0,children:Object(k.jsx)(xs,{updateModal:function(e){$(e.target.value),""!==J&&K(ce.find((function(t){return t.clientName===e.target.value})).projects[0]._id)},requestedProjects:ce,setSelectedProject:K,selectedProject:J,selectedClient:Q,disable:L,resetModal:Ke,submitRequest:function(){return Je.apply(this,arguments)}})}),Object(k.jsx)(vs,{value:Re,index:1,children:Object(k.jsx)(ms,{clients:ee,setSelectedClient:$,selectedClient:Q,submitRequest:function(){return We.apply(this,arguments)},disable:L,resetModal:Ke,updateInputs:function(e){Ce((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.id,e.target.value))}))}})}),Object(k.jsx)(vs,{value:Re,index:2,children:Object(k.jsx)(us,{projectsData:p,setSelectedClient:$,setSelectedProject:K,selectedClient:Q,disable:L,resetModal:Ke,submitRequest:function(){return Ge.apply(this,arguments)}})})]}),Object(k.jsxs)("div",{className:"flex flex-col xl:flex-row xl:space-x-16 mt-5",children:[Object(k.jsxs)("div",{className:"space-y-5 mb-8 xl:mb-0",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{className:"text-zinc-800 font-semibold mb-2",children:"About Me"}),Object(k.jsx)("div",{className:"text-sm space-y-2",children:Object(k.jsx)("p",{children:j.personalInfo.about})})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"flex justify-content items-center",children:[Object(k.jsx)("h2",{className:"text-zinc-800 font-semibold mb-3",children:"Projects"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white mb-3 ml-3",onClick:function(){return Pe(!0)},children:"Project Requests"})]}),Object(k.jsx)("div",{className:"grid xl:grid-cols-2 gap-4",children:p.map((function(e){return Object(k.jsxs)("div",{className:"bg-white p-4 border border-zinc-200 rounded-sm shadow-sm w-80",children:[Object(k.jsxs)("div",{className:"grow flex items-center truncate mb-2",children:[Object(k.jsx)("div",{className:"w-8 h-8 shrink-0 flex items-center justify-center bg-zinc-700 rounded-full mr-2",children:Object(k.jsx)("img",{className:"ml-1",src:rt,width:"14",height:"14",alt:"Icon 03"})}),Object(k.jsx)("div",{className:"truncate",children:Object(k.jsx)("span",{className:"text-sm font-medium text-zinc-800",children:e.projectName})})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Client:"}),Object(k.jsx)("div",{className:"text-sm col-span-5",children:e.client?e.client.clientName:""})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Client Rep:"}),Object(k.jsx)("div",{className:"text-sm col-span-5",children:Object(k.jsxs)("a",{href:"mailto:".concat(e.contactInfo.email),children:[" ",e.contactInfo.firstName]})})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"C3 Rep:"}),Object(k.jsxs)("div",{className:"text-sm col-span-5",children:[e.businessRep.personalInfo.firstName+" "+e.businessRep.personalInfo.lastName," "]})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"End Date:"}),Object(k.jsxs)("div",{className:"text-sm col-span-5",children:[e.completionDate," "]})]}),Object(k.jsxs)("div",{className:"grid grid-cols-10 gap-2 text-md-left mt-2",children:[Object(k.jsx)("div",{className:"text-sm col-span-5 font-bold",children:"Team:"}),Object(k.jsxs)("div",{className:"text-sm col-span-5",children:[e.consultants.length," Members"," "]})]}),Object(k.jsx)("div",{className:"flex justify-between items-center"})]})}))})]})]}),Object(k.jsxs)("aside",{className:"xl:min-w-56 xl:w-56 space-y-3",children:[Object(k.jsxs)("div",{className:"text-sm",children:[Object(k.jsx)("h3",{className:"font-medium text-zinc-800",children:"Title"}),Object(k.jsx)("div",{children:j.personalInfo.title})]}),Object(k.jsxs)("div",{className:"text-sm",children:[Object(k.jsx)("h3",{className:"font-medium text-zinc-800",children:"Location"}),Object(k.jsxs)("div",{children:[j.personalInfo.city," - Remote"]})]}),Object(k.jsxs)("div",{className:"text-sm",children:[Object(k.jsx)("h3",{className:"font-medium text-zinc-800",children:"Email"}),Object(k.jsx)("div",{children:j.email})]}),Object(k.jsxs)("div",{className:"text-sm",children:[Object(k.jsx)("h3",{className:"font-medium text-zinc-800",children:"Birthdate"}),Object(k.jsx)("div",{children:j.personalInfo.birthDate})]}),Object(k.jsxs)("div",{className:"text-sm",children:[Object(k.jsx)("h3",{className:"font-medium text-zinc-800",children:"Strengths"}),j.strengthInfo.map((function(e){return Object(k.jsx)("div",{children:e})}))]}),Object(k.jsxs)("div",{className:"text-sm",children:[Object(k.jsx)("h3",{className:"font-medium text-zinc-800",children:"Joined C3"}),Object(k.jsx)("div",{children:j.personalInfo.joinedDate})]})]})]})]}),Object(k.jsx)(vs,{value:le,index:1,children:Object(k.jsx)(ls,{})}),Object(k.jsx)(vs,{value:le,index:2,children:Object(k.jsx)(Xt,{})}),Object(k.jsx)(vs,{value:le,index:3,children:Object(k.jsx)(Qt,{})}),Object(k.jsx)(vs,{value:le,index:4,children:Object(k.jsx)(os,{})}),Object(k.jsx)(vs,{value:le,index:5,children:Object(k.jsx)(bs,{trainingDays:R,user:j,isTrainingDay:q})}),Object(k.jsx)(vs,{value:le,index:6,children:Object(k.jsx)(cs,{})})]})]})]})]})})})};var ws=function(){var e=new Date,t=Object(c.useState)(!1),s=Object(i.a)(t,2),n=(s[0],s[1],Object(c.useState)(e.getMonth())),r=Object(i.a)(n,2),l=r[0],d=r[1],j=Object(c.useState)([]),b=Object(i.a)(j,2),x=b[0],h=b[1],p=Object(c.useState)(e.getFullYear()),O=Object(i.a)(p,2),f=O[0],v=(O[1],Object(c.useState)([])),N=Object(i.a)(v,2),w=N[0],S=N[1],C=Object(c.useState)([]),z=Object(i.a)(C,2),D=z[0],M=z[1],E=Object(c.useState)([]),I=Object(i.a)(E,2),T=I[0],L=I[1],P=Object(c.useState)(!1),F=Object(i.a)(P,2),B=F[0],R=F[1],H=Object(c.useState)(!1),U=Object(i.a)(H,2),_=U[0],V=U[1],W=Object(c.useState)(!1),G=Object(i.a)(W,2),J=G[0],K=G[1],X=Object(c.useState)(!1),Z=Object(i.a)(X,2),Q=Z[0],$=Z[1],ee=Object(c.useState)(!0),te=Object(i.a)(ee,2),se=te[0],ce=te[1],ae=Object(c.useState)({}),ne=Object(i.a)(ae,2),re=ne[0],le=ne[1],ie=Object(c.useState)(!1),oe=Object(i.a)(ie,2),de=oe[0],je=oe[1],be=Object(c.useState)(""),xe=Object(i.a)(be,2),me=xe[0],ue=xe[1],he=Object(c.useState)(!1),pe=Object(i.a)(he,2),Oe=pe[0],fe=pe[1],ve=Object(c.useState)(!1),ge=Object(i.a)(ve,2),Ne=ge[0],we=ge[1],ye=Object(c.useState)("Create New Event"),ke=Object(i.a)(ye,2),Se=ke[0],Ce=ke[1],ze=Object(c.useState)("Add"),De=Object(i.a)(ze,2),Ae=De[0],Me=De[1],Ie=Object(c.useState)({}),Te=Object(i.a)(Ie,2),Le=Te[0],Pe=Te[1],Fe=a.a.useContext(Jc).dispatch,Be=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s,c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"Add"!=Ae){e.next=21;break}if((s=ys(Le)).valid){e.next=7;break}return je(!0),ue(s.msg),e.abrupt("return");case 7:return je(!1),e.next=10,y.post(g.default.path.events.addEvent,Le,!0);case 10:if(!(c=e.sent).err){e.next=15;break}return je(!0),ue(c.error.message),e.abrupt("return");case 15:fe(!0),we("Successfully Created Event."),We(),setTimeout((function(){He()}),2e3),e.next=29;break;case 21:if(t.stopPropagation(),(a=ys(Le)).valid){e.next=27;break}return je(!0),ue(a.msg),e.abrupt("return");case 27:je(!1),K(!0);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(e){Pe((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.id,e.target.value))}))},He=function(){R(!1),fe(!1),je(!1),K(!1),Ce("Add New Event"),Me("Add"),Pe({eventName:"",eventStart:"",eventEnd:""}),le({start:"",end:"",name:"",id:""}),Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""})),Array.from(document.querySelectorAll("select")).forEach((function(e){return e.selectedIndex=0}))},Ye=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),Fe({type:"LOGOUT"}),navigateTo("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ue=function(t){var s=new Date(f,l,t);return e.toDateString()===s.toDateString()},_e=function(e){return x.filter((function(t){return new Date(t.eventStart).toDateString()===new Date(f,l,e).toDateString()||new Date(t.eventEnd).toDateString()===new Date(f,l,e).toDateString()}))},qe=function(e){switch(e){case"sky":return"text-white bg-sky-500";case"indigo":return"text-white bg-indigo-500";case"yellow":return"text-white bg-yellow-500";case"emerald":return"text-white bg-emerald-500";case"red":return"text-white bg-rose-400";default:return""}},Ve=function(){for(var e=new Date(f,l+1,0).getDate(),t=new Date(f,l).getDay(),s=[],c=1;c<=t;c++)s.push(c);for(var a=new Date(f,l+1,0).getDay(),n=[],r=1;r<7-a;r++)n.push(r);for(var i=[],o=1;o<=e;o++)i.push(o);M(s),L(n),S(i)},We=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ye(),ce(!0),e.next=4,y.get(g.default.path.events.getAllEvents);case 4:(t=e.sent).forEach((function(e){e.eventStart=new Date(e.eventStart),e.eventEnd=new Date(e.eventEnd)})),h(t),ce(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ge=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation(),le({name:s.eventName,start:new Date(s.eventStart).toString(),end:new Date(s.eventEnd).toString(),id:s._id,editable:s.editable}),V(!0);case 3:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}(),Je=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation(),document.getElementById("eventName").value=re.name,document.getElementById("eventStart").value=new Date(re.start).toISOString().split("T")[0],document.getElementById("eventEnd").value=new Date(re.end).toISOString().split("T")[0],Pe({eventName:re.name,eventStart:re.start,eventEnd:re.end}),Ce("Edit Event"),Me("Update"),R(!0),V(!1);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,y.patch(g.default.path.events.editEvent+"/"+re.id,Le,!0);case 3:if(!(s=e.sent).err){e.next=8;break}return je(!0),ue(s.error.message),e.abrupt("return");case 8:fe(!0),we("Successfully Edited Event."),We(),setTimeout((function(){He()}),2e3);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y.delete("".concat(g.default.path.events.deleteEvent,"/").concat(re.id));case 3:if(!e.sent.err){e.next=6;break}return e.abrupt("return");case 6:We(),setTimeout((function(){He(),$(!1)}),1e3);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){Ve(),We()}),[]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ye();case 1:case"end":return e.stop()}}),e)}))),[y]),Object(k.jsx)("div",{className:"flex h-screen overflow-hidden",children:Object(k.jsx)("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:Object(k.jsxs)("main",{children:[se?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:[Object(k.jsx)("div",{className:"mb-4 sm:mb-0",children:Object(k.jsxs)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:[Object(k.jsx)("span",{children:"".concat(["January","February","March","April","May","June","July","August","September","October","November","December"][l]," ").concat(f)})," \u2728"]})}),Object(k.jsxs)("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2",children:[Object(k.jsxs)("button",{className:"btn px-2.5 bg-white border-slate-200 hover:border-slate-300 text-slate-500 hover:text-slate-600 disabled:border-slate-200 disabled:bg-slate-100 disabled:text-slate-400 disabled:cursor-not-allowed",disabled:0===l,onClick:function(){d(l-1),Ve()},children:[Object(k.jsx)("span",{className:"sr-only",children:"Previous month"}),Object(k.jsx)("wbr",{}),Object(k.jsx)("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M9.4 13.4l1.4-1.4-4-4 4-4-1.4-1.4L4 8z"})})]}),Object(k.jsxs)("button",{className:"btn px-2.5 bg-white border-slate-200 hover:border-slate-300 text-slate-500 hover:text-slate-600 disabled:border-slate-200 disabled:bg-slate-100 disabled:text-slate-400 disabled:cursor-not-allowed",disabled:11===l,onClick:function(){d(l+1),Ve()},children:[Object(k.jsx)("span",{className:"sr-only",children:"Next month"}),Object(k.jsx)("wbr",{}),Object(k.jsx)("svg",{className:"h-4 w-4 fill-current",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M6.6 13.4L5.2 12l4-4-4-4 1.4-1.4L12 8z"})})]}),Object(k.jsx)("hr",{className:"w-px h-full bg-slate-200 mx-1"}),Object(k.jsxs)("button",{className:"btn bg-indigo-500 hover:bg-indigo-600 text-white",onClick:function(e){e.stopPropagation(),R(!0)},children:[Object(k.jsx)("svg",{className:"w-4 h-4 fill-current opacity-50 shrink-0",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M15 7H9V1c0-.6-.4-1-1-1S7 .4 7 1v6H1c-.6 0-1 .4-1 1s.4 1 1 1h6v6c0 .6.4 1 1 1s1-.4 1-1V9h6c.6 0 1-.4 1-1s-.4-1-1-1z"})}),Object(k.jsx)("span",{className:"hidden xs:block ml-2",children:"Create Event"})]})]})]}),Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)("div",{className:"mb-4 sm:mb-0 mr-2",children:Object(k.jsxs)("ul",{className:"flex flex-wrap items-center -m-1",children:[Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-sky-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Exo"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-emerald-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Public Holidays"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-indigo-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Training Days"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-yellow-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Misc"})]})})]})})}),Object(k.jsxs)("div",{className:"bg-white rounded-sm shadow overflow-hidden",children:[Object(k.jsx)("div",{className:"grid grid-cols-7 gap-px border-b border-slate-200",children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map((function(e){return Object(k.jsxs)("div",{className:"px-1 py-3",children:[Object(k.jsx)("div",{className:"text-slate-500 text-sm font-medium text-center lg:hidden",children:e.substring(0,3)}),Object(k.jsx)("div",{className:"text-slate-500 text-sm font-medium text-center hidden lg:block",children:e})]},e)}))}),Object(k.jsxs)("div",{className:"grid grid-cols-7 gap-px bg-slate-200",children:[Object(k.jsx)("svg",{className:"sr-only",children:Object(k.jsx)("defs",{children:Object(k.jsx)("pattern",{id:"stripes",patternUnits:"userSpaceOnUse",width:"5",height:"5",patternTransform:"rotate(135)",children:Object(k.jsx)("line",{className:"stroke-current text-slate-200 opacity-50",x1:"0",y:"0",x2:"0",y2:"5",strokeWidth:"2"})})})}),D.map((function(e){return Object(k.jsx)("div",{className:"bg-slate-50 h-20 sm:h-28 lg:h-36",children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",children:Object(k.jsx)("rect",{width:"100%",height:"100%",fill:"url(#stripes)"})})},e)})),w.map((function(e){return Object(k.jsx)("div",{className:"relative bg-white h-20 sm:h-28 lg:h-36 overflow-hidden",children:Object(k.jsxs)("div",{className:"h-full flex flex-col justify-between",children:[Object(k.jsxs)("div",{className:"grow flex flex-col relative p-0.5 sm:p-1.5 overflow-hidden",children:[_e(e).map((function(e){return Object(k.jsx)("button",{className:"relative w-full text-left mb-1",onClick:function(t){Ge(t,e)},children:Object(k.jsxs)("div",{className:"px-2 py-0.5 rounded overflow-hidden ".concat(qe(e.eventColor)),children:[Object(k.jsx)("div",{className:"text-xs font-semibold truncate",children:e.eventName}),Object(k.jsxs)("div",{className:"text-xs uppercase truncate hidden sm:block",children:[e.eventStart&&Object(k.jsx)("span",{children:e.eventStart.toTimeString([],{hour12:!0,hour:"numeric",minute:"numeric"})}),e.eventEnd&&Object(k.jsxs)("span",{children:["-"," ",Object(k.jsx)("span",{children:e.eventEnd.toTimeString([],{hour12:!0,hour:"numeric",minute:"numeric"})})]})]})]})},e.eventName)})),Object(k.jsx)("div",{className:"absolute bottom-0 left-0 right-0 h-4 bg-gradient-to-t from-white to-transparent pointer-events-none","aria-hidden":"true"})]}),Object(k.jsxs)("div",{className:"flex justify-between items-center p-0.5 sm:p-1.5",children:[_e(e).length>2&&Object(k.jsxs)("button",{className:"text-xs text-slate-500 font-medium whitespace-nowrap text-center sm:py-0.5 px-0.5 sm:px-2 border border-slate-200 rounded",children:[Object(k.jsx)("span",{className:"md:hidden",children:"+"}),Object(k.jsx)("span",{children:_e(e).length-2})," ",Object(k.jsx)("span",{className:"hidden md:inline",children:"more"})]}),Object(k.jsx)("button",{className:"inline-flex ml-auto w-6 h-6 items-center justify-center text-xs sm:text-sm font-medium text-center rounded-full hover:bg-indigo-100 ".concat(Ue(e)&&"text-indigo-500"),children:e})]})]})},e)})),T.map((function(e){return Object(k.jsx)("div",{className:"bg-slate-50 h-20 sm:h-28 lg:h-36",children:Object(k.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"100%",height:"100%",children:Object(k.jsx)("rect",{width:"100%",height:"100%",fill:"url(#stripes)"})})},e)}))]})]})]}),Object(k.jsxs)(st,{id:"feedback-modal",modalOpen:B,setModalOpen:R,title:Se,resetState:He,children:[" ",Object(k.jsxs)("div",{className:"px-5 py-4",children:[Object(k.jsx)("div",{className:"text-lg",children:Object(k.jsx)("div",{className:"font-large text-slate-800 mb-3",children:"Please Enter The Following Details:"})}),Object(k.jsxs)("div",{className:"space-y-3",children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"eventName",children:["Event ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsxs)("select",{id:"eventName",className:"form-select w-full",onChange:Re,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Event"}),Object(k.jsx)("option",{value:"Training Day",children:"Training Day"}),Object(k.jsx)("option",{value:"Exo Day",children:"Exo Day"}),Object(k.jsx)("option",{value:"Misc",children:"Misc Day"})]})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"eventStart",children:"Start Date "}),Object(k.jsx)("input",{id:"eventStart",className:"form-input w-full",type:"date",onChange:Re})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"eventEnd",children:"End Date "}),Object(k.jsx)("input",{id:"eventEnd",className:"form-input w-full",type:"date",onChange:Re})]}),Object(k.jsx)(q,{type:"error",open:de,setOpen:je,children:me}),Object(k.jsx)(q,{type:"success",open:Oe,setOpen:fe,children:Ne})]}),Object(k.jsx)("div",{className:"px-5 py-4 border-t border-slate-200",children:Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 text-slate-600",onClick:function(e){e.stopPropagation(),He()},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:Be,children:Ae})]})})]})]}),Object(k.jsx)(Xe,{id:"info-modal",modalOpen:_,setModalOpen:V,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-indigo-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-indigo-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm1 12H7V7h2v5zM8 6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-2",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-slate-800",children:["Event: ",re.name]})}),Object(k.jsx)("div",{className:"text-sm mb-10",children:Object(k.jsxs)("div",{className:"space-y-2",children:[Object(k.jsxs)("p",{children:["Starts: ",re.start]}),Object(k.jsxs)("p",{children:["Ends: ",re.end]})]})}),re.editable?Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 text-slate-600",onClick:function(e){e.stopPropagation(),V(!1),He()},children:"Close"}),Object(k.jsx)("button",{className:"btn-sm bg-indigo-500 hover:bg-indigo-600 text-white",onClick:function(e){Je(e)},children:"Edit Event"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(e){e.stopPropagation(),$(!0)},children:"Delete Event"})]}):Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 text-slate-600",onClick:function(e){e.stopPropagation(),V(!1),He()},children:"Close"})})]})]})}),Object(k.jsx)(Xe,{id:"success-modal",modalOpen:J,setModalOpen:K,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:"Are you sure you want update this event?"})}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),K(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:Ke,children:"Yes, Update it"})]})]})]})}),Object(k.jsx)(Xe,{id:"danger-modal",modalOpen:Q,setModalOpen:$,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-rose-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-rose-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:"Are you sure you want to delete this event?"})}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),$(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:Ze,children:"Yes, Delete it"})]})]})]})})]})})})},ys=function(e){var t={eventName:"Event Name",eventStart:"Start Date",eventEnd:"End Date"};for(var s in e)if(""===e[s])return{valid:!1,msg:"".concat(t[s]," is required")};return{valid:!0}},ks=s(236);s(348);var Ss=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),s=t[0],n=t[1],r=Object(c.useState)({}),l=Object(i.a)(r,2),d=l[0],j=l[1],b=Object(c.useState)(""),x=Object(i.a)(b,2),h=(x[0],x[1],Object(c.useState)(new Date)),p=Object(i.a)(h,2),O=p[0],f=(p[1],Object(c.useState)(new Date)),v=Object(i.a)(f,2),N=v[0],w=(v[1],Object(c.useState)("dayGridMonth")),S=Object(i.a)(w,2),C=S[0],z=(S[1],Object(c.useState)(!1)),D=Object(i.a)(z,2),M=D[0],E=D[1],I=Object(c.useState)(!1),T=Object(i.a)(I,2),L=T[0],P=T[1],F=Object(c.useState)(!1),B=Object(i.a)(F,2),R=B[0],H=B[1],U=Object(c.useState)(!1),_=Object(i.a)(U,2),V=_[0],W=_[1],G=Object(c.useState)(!1),J=Object(i.a)(G,2),K=J[0],X=J[1],Z=Object(c.useState)(""),Q=Object(i.a)(Z,2),$=Q[0],ee=Q[1],te=Object(c.useState)(!1),se=Object(i.a)(te,2),ce=se[0],ae=se[1],ne=Object(c.useState)(!1),re=Object(i.a)(ne,2),le=re[0],ie=re[1],oe=Object(c.useState)("Create New Event"),de=Object(i.a)(oe,2),je=de[0],be=de[1],xe=Object(c.useState)("Add"),me=Object(i.a)(xe,2),ue=me[0],he=me[1],pe=Object(c.useState)({}),Oe=Object(i.a)(pe,2),fe=Oe[0],ve=Oe[1],ge=Object(c.useState)(!0),Ne=Object(i.a)(ge,2),we=Ne[0],ye=Ne[1],ke=a.a.useContext(Jc).dispatch,Se=0,Ce=setTimeout((function(){}),500),ze="",De=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),ke({type:"LOGOUT"}),navigateTo("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ae=function(){var e;W(!1),E(!1),ae(!1),X(!1),P(!1),be("Add New Event"),he("Add"),ve((e={title:"",desc:""},Object(Y.a)(e,"desc",""),Object(Y.a)(e,"venue",""),Object(Y.a)(e,"start",""),Object(Y.a)(e,"end",""),e)),j({title:"",desc:"",venue:"",start:"",end:"",id:""}),Me()},Me=function(){Array.from(document.querySelectorAll("input")).forEach((function(e){return e.value=""})),Array.from(document.querySelectorAll("select")).forEach((function(e){return e.selectedIndex=0}))},Ie=function(e){ve((function(t){return Object(o.a)(Object(o.a)({},t),{},Object(Y.a)({},e.target.id,e.target.value))}))},Te=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),"Add"!=ue){e.next=21;break}if((s=_e()).valid){e.next=7;break}return X(!0),ee(s.msg),e.abrupt("return");case 7:return X(!1),e.next=10,y.post(g.default.path.events.addEvent,fe,!0);case 10:if(!(c=e.sent).err){e.next=15;break}return X(!0),ee(c.error.message),e.abrupt("return");case 15:ae(!0),ie("Successfully Created Event."),Le(),setTimeout((function(){Ae()}),2e3),e.next=29;break;case 21:if(t.stopPropagation(),(s=_e()).valid){e.next=27;break}return X(!0),ee(s.msg),e.abrupt("return");case 27:X(!1),P(!0);case 29:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return De(),ye(!0),e.next=4,y.get(g.default.path.events.getAllEvents);case 4:t=e.sent,n(t),console.log("eventData------: ",t),ye(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Pe=function(e){var t=new Date(e);return"".concat(t.getHours(),":").concat(t.getMinutes())},Fe=function(e){var t=e.date;t=new Date(t).setDate(new Date(t).getDate()+1),t=new Date(t),document.getElementById("start").value=t.toISOString().split("T")[0],document.getElementById("end").value=t.toISOString().split("T")[0],ve({start:O.toISOString(),end:N.toISOString()}),W(!0)},Be=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s,c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=t.event.extendedProps._id,c={start:t.event.start,end:t.event.end?t.event.end:t.event.start},e.next=4,y.patch(g.default.path.events.editEvent+"/"+s,c,!0);case 4:if(!(a=e.sent).err){e.next=10;break}return X(!0),ee(a.msg),setTimeout((function(){Le(),Ae()}),2500),e.abrupt("return");case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Re=function(){Se=0,clearTimeout(Ce),ze=""},He=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.next=3,y.delete("".concat(g.default.path.events.deleteEvent,"/").concat(d.id));case 3:if(!(s=e.sent).err){e.next=8;break}return X(!0),ee(s.error.message),e.abrupt("return");case 8:ae(!0),ie("Successfully Deleted Event."),Le(),setTimeout((function(){Ae(),H(!1)}),1e3);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ye=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.stopPropagation(),s=new Date(d.start).setDate(new Date(d.start).getDate()+1),document.getElementById("title").value=d.title,document.getElementById("desc").value=d.desc,document.getElementById("venue").value=d.venue,document.getElementById("start").value=new Date(s).toISOString().split("T")[0],document.getElementById("end").value=new Date(d.end).toISOString().split("T")[0],ve({title:d.title,desc:d.desc,venue:d.venue,start:d.start,end:d.end}),be("Edit Event"),he("Update"),W(!0),E(!1);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y.patch(g.default.path.events.editEvent+"/"+d.id,fe,!0);case 2:if(!(s=e.sent).err){e.next=7;break}return X(!0),ee(s.error.message),e.abrupt("return");case 7:ae(!0),ie("Successfully Edited Event."),Le(),setTimeout((function(){Ae()}),2e3);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){Le()}),[]);var _e=function(){var e="Title",t="Description",s="Venue",c="Start Date",a="End Date";return fe.title?"Training Day"===fe.title?fe.desc?fe.venue?fe.start?fe.end?{valid:!0}:{valid:!1,msg:"The ".concat(a," is required")}:{valid:!1,msg:"The ".concat(c," is required")}:{valid:!1,msg:"The ".concat(s," is required")}:{valid:!1,msg:"The ".concat(t," is required")}:fe.start?fe.end?{valid:!0}:{valid:!1,msg:"The ".concat(a," is required")}:{valid:!1,msg:"The ".concat(c," is required")}:{valid:!1,msg:"The ".concat(e," is required")}};return Object(k.jsx)("div",{className:"flex h-screen overflow-hidden",children:Object(k.jsx)("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:Object(k.jsxs)("main",{children:[Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Events"})}),Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:[Object(k.jsx)("div",{className:"mb-4 sm:mb-0 mr-2",children:Object(k.jsxs)("ul",{className:"flex flex-wrap items-center -m-1",children:[Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-sky-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Exo"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-emerald-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Public Holidays"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-indigo-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Training Days"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-yellow-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Misc"})]})})]})}),Object(k.jsxs)("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2",children:[Object(k.jsx)("hr",{className:"w-px h-full bg-slate-200 mx-1"}),Object(k.jsxs)("button",{className:"btn bg-indigo-500 hover:bg-indigo-600 text-white",onClick:function(e){e.stopPropagation(),W(!0)},children:[Object(k.jsx)("svg",{className:"w-4 h-4 fill-current opacity-50 shrink-0",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M15 7H9V1c0-.6-.4-1-1-1S7 .4 7 1v6H1c-.6 0-1 .4-1 1s.4 1 1 1h6v6c0 .6.4 1 1 1s1-.4 1-1V9h6c.6 0 1-.4 1-1s-.4-1-1-1z"})}),Object(k.jsx)("span",{className:"hidden xs:block ml-2",children:"Create Event"})]})]})]}),Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)(q,{type:"error",open:K,setOpen:X,children:$})}),we?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsx)("div",{className:"bg-white p-3 rounded-sm shadow overflow-hidden",children:Object(k.jsx)($t.a,{plugins:[es.b,ts.a,ks.a],initialView:C,dateClick:function(e){1===++Se?(ze=e.dateStr,Ce=setTimeout((function(){Re()}),500)):(ze===e.dateStr&&Fe(e),Re())},height:"auto",selectable:!0,select:function(e){var t=e.start,s=e.end;t=new Date(t).setDate(new Date(t).getDate()+1),t=new Date(t),console.log("start: ",t),console.log("end: ",s),document.getElementById("start").value=t.toISOString().split("T")[0],document.getElementById("end").value=s.toISOString().split("T")[0],ve({start:t.toISOString().split("T")[0],end:s.toISOString().split("T")[0]}),W(!0)},headerToolbar:{left:"prev,next",center:"title",right:"today,timeGridDay,timeGridWeek,dayGridMonth"},eventContent:function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("b",{children:e.event.title}),Object(k.jsx)("p",{children:Pe(e.event.start)})]})},events:s,eventDrop:Be,eventClick:function(e){E(!0),console.log(e.event.extendedProps.desc),j({title:e.event.title,start:new Date(e.event.start).toString(),desc:e.event.extendedProps.desc,venue:e.event.extendedProps.venue,end:e.event.end?new Date(e.event.end).toString():new Date(e.event.start).toString(),id:e.event.extendedProps._id,editable:e.event.startEditable})},eventResize:Be})})]}),Object(k.jsx)(st,{id:"feedback-modal",modalOpen:V,setModalOpen:W,title:je,resetState:Ae,children:Object(k.jsxs)("div",{className:"px-5 py-4",children:[Object(k.jsx)("div",{className:"text-lg",children:Object(k.jsx)("div",{className:"font-large text-slate-800 mb-3",children:"Please Enter The Following Details:"})}),Object(k.jsxs)("div",{className:"space-y-3",children:[Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"title",children:["Event ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsxs)("select",{id:"title",className:"form-select w-full",onChange:Ie,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Event"}),Object(k.jsx)("option",{value:"Training Day",children:"Training Day"}),Object(k.jsx)("option",{value:"Exo Day",children:"Exo Day"}),Object(k.jsx)("option",{value:"Misc",children:"Misc"})]})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"desc",children:"Description "}),Object(k.jsx)("input",{id:"desc",placeholder:"Description",className:"form-input w-full",type:"text",onChange:Ie})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"venue",children:"Venue "}),Object(k.jsxs)("select",{id:"venue",className:"form-select w-full",onChange:Ie,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select A Venue"}),js&&js.map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e,children:e},e)})}))]})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"start",children:["Start Date ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsx)("input",{id:"start",className:"form-input w-full",type:"date",onChange:Ie})]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("label",{className:"block text-sm font-medium mb-1",htmlFor:"end",children:["End Date ",Object(k.jsx)("span",{className:"text-rose-500",children:"*"})]}),Object(k.jsx)("input",{id:"end",className:"form-input w-full",type:"date",onChange:Ie})]}),Object(k.jsx)(q,{type:"error",open:K,setOpen:X,children:$}),Object(k.jsx)(q,{type:"success",open:ce,setOpen:ae,children:le})]}),Object(k.jsx)("div",{className:"px-5 py-4 border-t border-slate-200",children:Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 text-slate-600",onClick:function(e){e.stopPropagation(),Ae()},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:Te,children:ue})]})})]})}),Object(k.jsx)(Xe,{id:"info-modal",modalOpen:M,setModalOpen:E,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-indigo-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-indigo-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm1 12H7V7h2v5zM8 6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"mb-2",children:[Object(k.jsxs)("div",{className:"text-lg font-semibold text-slate-800",children:["Event: ",d.title]}),Object(k.jsx)("div",{className:"text-md font-semibold text-slate-700",children:d.desc?"".concat(d.desc," at ").concat(d.venue):""})]}),Object(k.jsx)("div",{className:"text-sm mb-10",children:Object(k.jsxs)("div",{className:"space-y-2",children:[Object(k.jsxs)("p",{children:["Starts: ",d.start]}),Object(k.jsxs)("p",{children:["Ends: ",d.end]})]})}),d.editable?Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 text-slate-600",onClick:function(e){e.stopPropagation(),E(!1),Ae()},children:"Close"}),Object(k.jsx)("button",{className:"btn-sm bg-indigo-500 hover:bg-indigo-600 text-white",onClick:function(e){Ye(e)},children:"Edit Event"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(e){e.stopPropagation(),H(!0)},children:"Delete Event"})]}):Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 text-slate-600",onClick:function(e){e.stopPropagation(),E(!1),Ae()},children:"Close"})})]})]})}),Object(k.jsx)(Xe,{id:"success-modal",modalOpen:L,setModalOpen:P,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"mb-5",children:[Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:"Are you sure you want update this event?"}),Object(k.jsx)(q,{type:"error",open:K,setOpen:X,children:$}),Object(k.jsx)(q,{type:"success",open:ce,setOpen:ae,children:le})," "]}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),P(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:Ue,children:"Yes, Update it"})]})]})]})}),Object(k.jsx)(Xe,{id:"danger-modal",modalOpen:R,setModalOpen:H,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-rose-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-rose-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm0 12c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1zm1-3H7V4h2v5z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"mb-5",children:[Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:"Are you sure you want to delete this event?"}),Object(k.jsx)(q,{type:"error",open:K,setOpen:X,children:$}),Object(k.jsx)(q,{type:"success",open:ce,setOpen:ae,children:le})]}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),H(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:He,children:"Yes, Delete it"})]})]})]})})]})})})};var Cs=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),s=t[0],n=t[1],r=Object(c.useState)({}),l=Object(i.a)(r,2),o=l[0],d=l[1],j=Object(c.useState)(!1),b=Object(i.a)(j,2),x=b[0],h=b[1],p=Object(c.useState)(!1),O=Object(i.a)(p,2),f=O[0],v=O[1],N=Object(c.useState)(""),w=Object(i.a)(N,2),S=w[0],C=w[1],z=Object(c.useState)(!1),D=Object(i.a)(z,2),M=D[0],E=D[1],I=Object(c.useState)(!1),T=Object(i.a)(I,2),L=T[0],P=T[1],F=Object(c.useState)({}),B=Object(i.a)(F,2),R=(B[0],B[1],Object(c.useState)(!0)),H=Object(i.a)(R,2),Y=H[0],U=H[1],_=a.a.useContext(Jc).dispatch,V=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),_({type:"LOGOUT"}),navigateTo("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){h(!1),E(!1),v(!1),d({title:"",start:"",end:"",id:"",managersApproval:[],adminApproval:"",attachment:""})},G=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(),U(!0),t=localStorage.getItem("_id"),e.next=5,y.get(g.default.path.leave.getAllLeaveForManagers+"/"+t);case 5:s=e.sent,n(s),U(!1);case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,y.patch(g.default.path.leave.approveLeave+"/"+o.id,{managersApproval:{manager:localStorage.getItem("_id"),approval:s}});case 3:if(!(c=e.sent).err){e.next=8;break}return v(!0),C(c.error.message),e.abrupt("return");case 8:E(!0),P("Successfully Edited Leave."),h(!1),G(),setTimeout((function(){W()}),2e3);case 13:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){G()}),[]),Object(k.jsx)("div",{className:"flex h-screen overflow-hidden",children:Object(k.jsx)("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:Object(k.jsxs)("main",{children:[Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Approve Leave Requests"})}),Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)("div",{className:"mb-4 sm:mb-0 mr-2",children:Object(k.jsxs)("ul",{className:"flex flex-wrap items-center -m-1",children:[Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-rose-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Admin Declined"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 shrink-0",style:{backgroundColor:"rgb(249 115 22)"}}),Object(k.jsx)("span",{className:"ml-1.5",children:"Manager Declined"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-emerald-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Fully Approved"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-yellow-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Manager Approved"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-indigo-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Partially Manager Approved"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-zinc-400 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Pending"})]})})]})})})}),Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)(q,{type:"error",open:f,setOpen:v,children:S})}),Y?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsx)("div",{className:"bg-white p-3 rounded-sm shadow overflow-hidden",children:Object(k.jsx)($t.a,{plugins:[es.b,ts.a],initialView:"dayGridMonth",height:"auto",eventContent:function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("b",{children:[e.event.extendedProps.type,"\n"]}),Object(k.jsx)("i",{children:e.event.extendedProps.user.personalInfo.firstName})]})},weekends:!1,events:s,eventClick:function(e){h(!0),console.log(e.event.extendedProps.type),console.log(e.event.extendedProps.managersApproval),d({user:e.event.extendedProps.user.personalInfo.firstName,type:e.event.extendedProps.type,start:new Date(e.event.start).toString(),end:e.event.end?new Date(e.event.end).toString():new Date(e.event.start).toString(),id:e.event.extendedProps._id,managersApproval:e.event.extendedProps.managersApproval,adminApproval:e.event.extendedProps.adminApproval,attachment:e.event.extendedProps.fileKey?e.event.extendedProps.fileKey:""})}})})]}),Object(k.jsx)(Xe,{id:"info-modal",modalOpen:x,setModalOpen:h,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-indigo-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-indigo-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm1 12H7V7h2v5zM8 6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-2",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-slate-800",children:["Leave Request for ",o.user]})}),Object(k.jsx)("div",{className:"text-sm mb-10 mt-15",children:Object(k.jsxs)("div",{className:"space-y-2",children:[Object(k.jsxs)("p",{children:["Starts: ",new Date(o.start).toLocaleDateString()]}),Object(k.jsxs)("p",{children:["Ends: ",new Date(new Date(o.end).setDate(new Date(o.end).getDate()-1)).toLocaleDateString()]}),Object(k.jsxs)("p",{children:["Manager Approval Status:"," ",o.managersApproval?o.managersApproval.map((function(e){return console.log(e),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("p",{className:"text-xs ml-5",children:[e.manager.personalInfo.firstName," ",e.manager.personalInfo.lastName,":"," ",e.approval]})})})):""]}),Object(k.jsxs)("p",{children:["Admin Approval Status: ",o.adminApproval]})," ",""!=o.attachment&&Object(k.jsx)("div",{class:"border border-slate-200 hover:border-slate-300 mx-0 my-6 p-3 rounded-md",style:{width:"200px"},children:Object(k.jsxs)("a",{href:"".concat(g.default.url,"/file/").concat(o.attachment),target:"_blank",className:"flex items-center h-10",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:"https://i.ibb.co/RpYzvq6/pdf-icon.png",style:{width:"40px",height:"40px",color:"rgb(113 113 122)",margin:"auto"}})}),Object(k.jsx)("div",{className:"my-2 ml-3 py-2 text-sm",children:"Open Attachment"})]})})]})}),Object(k.jsx)(q,{type:"error",open:f,setOpen:v,children:S}),Object(k.jsx)(q,{type:"success",open:M,setOpen:E,children:L}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 text-slate-600",onClick:function(e){e.stopPropagation(),h(!1),W()},children:"Close"}),Object(k.jsx)("button",{className:"btn-sm bg-emerald-500 hover:bg-emerald-600 text-white",onClick:function(e){J(e,"approved")},children:"Approve"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(e){J(e,"declined")},children:"Decline"})]})]})]})})]})})})};var zs=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),s=t[0],n=t[1],r=Object(c.useState)({}),l=Object(i.a)(r,2),o=l[0],d=l[1],j=Object(c.useState)(!1),b=Object(i.a)(j,2),x=b[0],h=b[1],p=Object(c.useState)(!1),O=Object(i.a)(p,2),f=O[0],v=O[1],N=Object(c.useState)(""),w=Object(i.a)(N,2),S=w[0],C=w[1],z=Object(c.useState)(!1),D=Object(i.a)(z,2),M=D[0],E=D[1],I=Object(c.useState)(!1),T=Object(i.a)(I,2),L=T[0],P=T[1],F=Object(c.useState)({}),B=Object(i.a)(F,2),R=(B[0],B[1],Object(c.useState)(!0)),H=Object(i.a)(R,2),Y=H[0],U=H[1],_=a.a.useContext(Jc).dispatch,V=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),_({type:"LOGOUT"}),navigateTo("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){h(!1),E(!1),v(!1),d({title:"",start:"",end:"",id:"",managersApproval:[],adminApproval:"",attachment:""})},G=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return V(),U(!0),e.next=4,y.get(g.default.path.leave.getAllLeaveForAdmin);case 4:t=e.sent,n(t),U(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t,s){var c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stopPropagation(),e.next=3,y.patch(g.default.path.leave.approveLeave+"/"+o.id,{adminApproval:s});case 3:if(!(c=e.sent).err){e.next=8;break}return v(!0),C(c.error.message),e.abrupt("return");case 8:E(!0),P("Successfully Edited Leave."),h(!1),G(),setTimeout((function(){W()}),2e3);case 13:case"end":return e.stop()}}),e)})));return function(t,s){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){G()}),[]),Object(k.jsx)("div",{className:"flex h-screen overflow-hidden",children:Object(k.jsx)("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:Object(k.jsxs)("main",{children:[Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Approve Leave Requests"})}),Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)("div",{className:"mb-4 sm:mb-0 mr-2",children:Object(k.jsxs)("ul",{className:"flex flex-wrap items-center -m-1",children:[Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-rose-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Admin Declined"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 shrink-0",style:{backgroundColor:"rgb(249 115 22)"}}),Object(k.jsx)("span",{className:"ml-1.5",children:"Manager Declined"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-emerald-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Fully Approved"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-yellow-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Manager Approved"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-indigo-500 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Partially Manager Approved"})]})}),Object(k.jsx)("li",{className:"m-1",children:Object(k.jsxs)("button",{className:"btn-sm bg-white border-slate-200 hover:border-slate-300 text-slate-500",children:[Object(k.jsx)("div",{className:"w-1 h-3.5 bg-zinc-400 shrink-0"}),Object(k.jsx)("span",{className:"ml-1.5",children:"Pending"})]})})]})})})}),Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-4",children:Object(k.jsx)(q,{type:"error",open:f,setOpen:v,children:S})}),Y?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsx)("div",{className:"bg-white p-3 rounded-sm shadow overflow-hidden",children:Object(k.jsx)($t.a,{plugins:[es.b,ts.a],initialView:"dayGridMonth",height:"auto",eventContent:function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("b",{children:[e.event.extendedProps.type,"\n"]}),Object(k.jsx)("i",{children:e.event.extendedProps.user.personalInfo.firstName})]})},weekends:!1,events:s,eventClick:function(e){h(!0),d({user:e.event.extendedProps.user.personalInfo.firstName,type:e.event.extendedProps.type,start:new Date(e.event.start).toString(),end:e.event.end?new Date(e.event.end).toString():new Date(e.event.start).toString(),id:e.event.extendedProps._id,managersApproval:e.event.extendedProps.managersApproval,adminApproval:e.event.extendedProps.adminApproval,attachment:e.event.extendedProps.fileKey?e.event.extendedProps.fileKey:""})}})})]}),Object(k.jsx)(Xe,{id:"info-modal",modalOpen:x,setModalOpen:h,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-indigo-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-indigo-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm1 12H7V7h2v5zM8 6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-2",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-slate-800",children:["Leave Request for ",o.user]})}),Object(k.jsx)("div",{className:"text-sm mb-10 mt-15",children:Object(k.jsxs)("div",{className:"space-y-2",children:[Object(k.jsxs)("p",{children:["Starts: ",new Date(o.start).toLocaleDateString()]}),Object(k.jsxs)("p",{children:["Ends:"," ",new Date(new Date(o.end).setDate(new Date(o.end).getDate()-1)).toLocaleDateString()]}),Object(k.jsxs)("p",{children:["Manager Approval Status:"," ",o.managersApproval?o.managersApproval.map((function(e){return console.log(e),Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("p",{className:"text-xs ml-5",children:[e.manager.personalInfo.firstName," ",e.manager.personalInfo.lastName,":"," ",e.approval]})})})):""]}),Object(k.jsxs)("p",{children:["Admin Approval Status: ",o.adminApproval]})," ",""!=o.attachment&&Object(k.jsx)("div",{class:"border border-slate-200 hover:border-slate-300 mx-0 my-6 p-3 rounded-md",style:{width:"200px"},children:Object(k.jsxs)("a",{href:"".concat(g.default.url,"/file/").concat(o.attachment),target:"_blank",className:"flex items-center h-10",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:"https://i.ibb.co/RpYzvq6/pdf-icon.png",style:{width:"40px",height:"40px",color:"rgb(113 113 122)",margin:"auto"}})}),Object(k.jsx)("div",{className:"my-2 ml-3 py-2 text-sm",children:"Open Attachment"})]})})]})}),Object(k.jsx)(q,{type:"error",open:f,setOpen:v,children:S}),Object(k.jsx)(q,{type:"success",open:M,setOpen:E,children:L}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 text-slate-600",onClick:function(e){e.stopPropagation(),h(!1),W()},children:"Close"}),Object(k.jsx)("button",{className:"btn-sm bg-emerald-500 hover:bg-emerald-600 text-white",onClick:function(e){J(e,"approved")},children:"Approve"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(e){J(e,"declined")},children:"Decline"})]})]})]})})]})})})};var Ds=function(){var e=Object(d.j)().pathname;return Object(k.jsx)("div",{className:"flex flex-nowrap overflow-x-scroll no-scrollbar md:block md:overflow-auto px-3 py-6 border-b md:border-b-0 md:border-r border-slate-200 min-w-60 md:space-y-3",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"text-xs font-semibold text-slate-400 uppercase mb-3",children:"General settings"}),Object(k.jsxs)("ul",{className:"flex flex-nowrap md:block mr-3 md:mr-0",children:[Object(k.jsx)("li",{className:"mr-0.5 md:mr-0 md:mb-0.5",children:Object(k.jsxs)(l.c,{end:!0,to:"/settings/account",className:"flex items-center px-2.5 py-2 rounded whitespace-nowrap ".concat(e.includes("/settings/account")&&"bg-rose-50"),children:[Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-slate-400 mr-2 ".concat(e.includes("/settings/account")&&"text-rose-500"),viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M12.311 9.527c-1.161-.393-1.85-.825-2.143-1.175A3.991 3.991 0 0012 5V4c0-2.206-1.794-4-4-4S4 1.794 4 4v1c0 1.406.732 2.639 1.832 3.352-.292.35-.981.782-2.142 1.175A3.942 3.942 0 001 13.26V16h14v-2.74c0-1.69-1.081-3.19-2.689-3.733zM6 4c0-1.103.897-2 2-2s2 .897 2 2v1c0 1.103-.897 2-2 2s-2-.897-2-2V4zm7 10H3v-.74c0-.831.534-1.569 1.33-1.838 1.845-.624 3-1.436 3.452-2.422h.436c.452.986 1.607 1.798 3.453 2.422A1.943 1.943 0 0113 13.26V14z"})}),Object(k.jsx)("span",{className:"text-sm font-medium ".concat(e.includes("/settings/account")?"text-rose-500":"hover:text-slate-700"),children:"My Account"})]})}),Object(k.jsx)("li",{className:"mr-0.5 md:mr-0 md:mb-0.5",children:Object(k.jsxs)(l.c,{end:!0,to:"/settings/notifications",className:"flex items-center px-2.5 py-2 rounded whitespace-nowrap ".concat(e.includes("/settings/notifications")&&"bg-rose-50"),children:[Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-slate-400 mr-2 ".concat(e.includes("/settings/notifications")&&"text-rose-500"),viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M14.3.3c.4-.4 1-.4 1.4 0 .4.4.4 1 0 1.4l-8 8c-.2.2-.4.3-.7.3-.3 0-.5-.1-.7-.3-.4-.4-.4-1 0-1.4l8-8zM15 7c.6 0 1 .4 1 1 0 4.4-3.6 8-8 8s-8-3.6-8-8 3.6-8 8-8c.6 0 1 .4 1 1s-.4 1-1 1C4.7 2 2 4.7 2 8s2.7 6 6 6 6-2.7 6-6c0-.6.4-1 1-1z"})}),Object(k.jsx)("span",{className:"text-sm font-medium ".concat(e.includes("/settings/notifications")?"text-rose-500":"hover:text-slate-700"),children:"My Notifications"})]})}),Object(k.jsx)("li",{className:"mr-0.5 md:mr-0 md:mb-0.5",children:Object(k.jsxs)(l.c,{end:!0,to:"/settings/plans",className:"flex items-center px-2.5 py-2 rounded whitespace-nowrap ".concat(e.includes("/settings/plans")&&"bg-rose-50"),children:[Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-slate-400 mr-2 ".concat(e.includes("/settings/plans")&&"text-rose-500"),viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M5 9h11v2H5V9zM0 9h3v2H0V9zm5 4h6v2H5v-2zm-5 0h3v2H0v-2zm5-8h7v2H5V5zM0 5h3v2H0V5zm5-4h11v2H5V1zM0 1h3v2H0V1z"})}),Object(k.jsx)("span",{className:"text-sm font-medium ".concat(e.includes("/settings/plans")?"text-rose-500":"hover:text-slate-700"),children:"Support"})]})})]})]})})},As=Object(At.a)({palette:{primary:{light:"#757ce8",main:"#f33f5f",dark:"#ad2d44",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}});var Ms=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),s=(t[0],t[1]),a=Object(c.useState)(!1),n=Object(i.a)(a,2),r=n[0],l=n[1],o=Object(c.useState)([]),d=Object(i.a)(o,2),j=d[0],b=d[1],x=Object(c.useState)(""),h=Object(i.a)(x,2),p=h[0],O=h[1],f=Object(c.useState)(!1),v=Object(i.a)(f,2),N=v[0],w=v[1],S=Object(c.useState)(!1),C=Object(i.a)(S,2),z=C[0],D=C[1],A=Object(c.useState)(!1),M=Object(i.a)(A,2),E=M[0],I=M[1],T=Object(c.useState)(""),L=Object(i.a)(T,2),P=L[0],F=L[1],B=Object(c.useState)(""),R=Object(i.a)(B,2),H=R[0],Y=R[1],U=Object(c.useState)([]),_=Object(i.a)(U,2),V=_[0],W=_[1],K=Object(c.useState)(""),X=Object(i.a)(K,2),Z=X[0],Q=X[1],$=Object(c.useState)(!1),te=Object(i.a)($,2),se=te[0],ce=te[1],ae=Object(c.useState)({}),ne=Object(i.a)(ae,2),re=ne[0],le=ne[1],ie=Object(c.useState)(!0),oe=Object(i.a)(ie,2),de=oe[0],je=oe[1],be=Object(c.useState)(""),xe=Object(i.a)(be,2),me=xe[0],ue=xe[1],he=Object(c.useState)({}),pe=Object(i.a)(he,2),Oe=(pe[0],pe[1]),fe=Object(c.useState)(""),ve=Object(i.a)(fe,2),ge=(ve[0],ve[1]),Ne=Object(c.useState)(""),we=Object(i.a)(Ne,2),ye=(we[0],we[1]),ke=Object(c.useState)(""),Se=Object(i.a)(ke,2),Ce=Se[0],ze=Se[1],De=Object(c.useState)(""),Ae=Object(i.a)(De,2),Me=Ae[0],Ie=Ae[1],Te=Object(c.useState)(""),Le=Object(i.a)(Te,2),Pe=Le[0],Fe=Le[1],Be=function(){Oe({}),s(!1),l(!1),D(!1),I(!1)};function Re(){return(Re=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return je(!0),e.next=3,y.get("".concat(g.default.path.profile.getProfile),!0);case 3:t=e.sent,le(t),W(t.strengthInfo),Q(t.personalInfo.about),Ie(t.race?t.race:""),ze(t.id?t.id:""),Fe(t.gender?t.gender:""),ce(t.isSubscribed),Be(),je(!1);case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var He=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(re),t={about:Z,city:p,strengthInfo:V,race:Me,gender:Pe,id:Ce,isSubscribed:se},e.next=4,y.patch(g.default.path.profile.updateProfile.concat("/".concat(re._id)),t,!0);case 4:if(!(s=e.sent).err){e.next=12;break}return l(!1),F(s.message),w(!0),e.abrupt("return");case 12:Y("Successfully Updated Profile"),I(!0);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t,s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return je(!0),t=localStorage.getItem("_id"),e.next=4,y.get("".concat(g.default.path.profile.getProfile,"/").concat(t),!0);case 4:return s=e.sent,e.next=7,y.get(g.default.path.getStrengths);case 7:c=e.sent,b([].concat.apply([],[c.strengths[0].strategicThinking,c.strengths[0].executing,c.strengths[0].influencing,c.strengths[0].relationshipBuilding])),le(s),Q(s.personalInfo.about),O(s.personalInfo.city),Ie(s.race),ze(s.id),Fe(s.gender),W(s.strengthInfo),ce(s.isSubscribed),"none"!==s.profilePictureKey&&ue("".concat(g.default.url,"/").concat(g.default.path.s3.getFile,"/").concat(s.profilePictureKey)),je(!1);case 19:case"end":return e.stop()}}),e)}))),[y]);var Ye=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:"about"===t.target.id&&Q(t.target.value),"id"===t.target.id&&ze(t.target.value),"gender"===t.target.id&&Fe(t.target.value),"race"===t.target.id&&Ie(t.target.value);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function Ue(){return(Ue=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Oe(t.target.files[0]),ge(t.target.files[0].name),e.next=4,_e(t.target.files[0]);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _e(e){return qe.apply(this,arguments)}function qe(){return qe=Object(u.a)(Object(m.a)().mark((function e(t){var s,c,a,n,r,l;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return je(!0),s=localStorage.getItem("_id"),(c=new FormData).append("file",t),e.next=6,y.post(g.default.path.s3.uploadFile,c,!0);case 6:if((a=e.sent).err){e.next=17;break}return n=a.fileKey,ue("".concat(g.default.url,"/").concat(g.default.path.s3.getFile,"/").concat(n)),r={user:s,profilePictureKey:n},e.next=13,y.post(g.default.path.users.updateProfilePicture,r,!0);case 13:(l=e.sent).err?(je(!1),ye("unable to update profile picture try again please"),w(!0)):(je(!1),ye("Updated profile picture"),console.log(l)),e.next=20;break;case 17:je(!1),ye(a.message),w(!0);case 20:case"end":return e.stop()}}),e)}))),qe.apply(this,arguments)}return Object(k.jsx)("div",{className:"grow",children:de?Object(k.jsx)(Ee,{}):Object(k.jsxs)("div",{className:"p-6 space-y-6",children:[Object(k.jsx)("h2",{className:"text-2xl text-slate-800 font-bold mb-5",children:"Update Profile"}),Object(k.jsxs)("section",{children:[Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsx)("div",{className:"mr-4",children:Object(k.jsx)("img",{className:"w-20 h-20 rounded-full",src:me||zt,width:"80",height:"80",alt:"User upload"})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("input",{type:"file",onChange:function(e){return Ue.apply(this,arguments)}}),Object(k.jsxs)("div",{children:["(Max File Size: ",Object(k.jsx)("span",{className:"text-red-500 font-bold",children:"10"})," MB)"]})]})]}),Object(k.jsx)("div",{children:"Click 'Choose File' to update your profile picture."})]}),Object(k.jsx)("section",{children:Object(k.jsx)("div",{className:"sm:flex sm:items-center space-y-4 sm:space-y-0 sm:space-x-4",children:Object(k.jsxs)("div",{children:[Object(k.jsx)(Tt.a,{theme:As,children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"block text-sm font-medium mb-1",htmlFor:"birthDate",children:"Location"}),Object(k.jsxs)("select",{id:"location",defaultValue:p,className:"form-select w-full",onChange:function(e){O(e.target.value)},children:[Object(k.jsx)("option",{value:"Johannesburg",children:"Johannesburg"}),Object(k.jsx)("option",{value:"Cape Town",children:"Cape Town"}),Object(k.jsx)("option",{value:"Sydney",children:"Sydney"})]})]}),Object(k.jsx)("div",{className:"grid grid-cols-1 gap-4",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"about",children:"About Me"}),Object(k.jsx)("textarea",{id:"about",value:Z,className:"form-input w-full px-2 py-1",required:!0,onChange:Ye})]})}),Object(k.jsx)("div",{className:"grid grid-cols-1 gap-4",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"id",children:"ID Number"}),Object(k.jsx)("input",{id:"id",placeholder:"eg. 1234567890123",value:Ce||null,className:"form-input w-full px-2 py-1",type:"text",onChange:Ye})]})}),Object(k.jsx)("div",{className:"grid grid-cols-1 gap-4",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"gender",children:"Gender"}),Object(k.jsxs)("select",{id:"gender",className:"form-select w-full",onChange:Ye,value:Pe||null,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Gender"}),J&&J.sort().map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e,children:e})})}))]})]})}),Object(k.jsx)("div",{className:"grid grid-cols-1 gap-4",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"gender",children:"Race"}),Object(k.jsxs)("select",{id:"race",className:"form-select w-full",onChange:Ye,value:Me||null,children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select Race"}),G&&G.sort().map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e,children:e})})}))]})]})}),Object(k.jsx)("div",{className:"grid grid-cols-1 gap-2 mb-2",children:Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"mt-1 block text-sm font-medium mb-1",htmlFor:"about",children:"Strengths"}),Object(k.jsx)(ee.a,{className:" w-full mt-2",id:"strengths",name:"strengths",style:{chips:{background:"#f43f5e"}},showArrow:!0,options:j,value:j,isObject:!1,selectedValues:V,selectionLimit:5,hidePlaceholder:!0,onKeyPressFn:function(e){"Enter"===e.key&&e.preventDefault()},onSelect:function(e){W(e)},onRemove:function(e){W(e)}})]})}),Object(k.jsx)("div",{children:Object(k.jsx)(q,{type:"error",open:z,setOpen:D,children:P})})]})}),Object(k.jsx)(Xe,{id:"ensure-modal",modalOpen:r,setModalOpen:l,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:"Are you sure you want update your profile ?"})}),Object(k.jsx)("div",{}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),l(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:He,children:"Yes, Update it"})]})]})]})}),Object(k.jsx)(Xe,{id:"error-modal",modalOpen:N,setModalOpen:w,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Error: ",P]})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return w(!1)},children:"Okay"})})]})]})}),Object(k.jsx)(Xe,{id:"success-modal",modalOpen:E,setModalOpen:I,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:H})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return Re.apply(this,arguments)},children:"Okay"})})]})]})})]})})}),Object(k.jsx)("footer",{children:Object(k.jsx)("div",{className:"flex flex-col px-6 py-5 border-t border-slate-200",children:Object(k.jsxs)("div",{className:"flex self-end",children:[Object(k.jsx)("button",{className:"btn border-slate-200 hover:border-slate-300 text-slate-600",onClick:Be,children:"Cancel"}),Object(k.jsx)("button",{className:"btn bg-rose-500 hover:bg-rose-600 text-white ml-3",onClick:function(){!function(){var e=new RegExp("/(((d{2}((0[1-9]|[12]d|3[01])|(0[13456789]|1[012])(0[1-9]|[12]d|30)|02(0[1-9]|1d|2[0-8])))|([02468][048]|[13579][26])0229))(( |-)(d{4})( |-)(d{3})|(d{7}))$");Ce?Z?Me?Pe?e.test(Ce)||13===Ce.length?Z.length<5?(D(!0),F("About cannot be less than 5 characters")):V.length<5?(D(!0),F("Strengths cannot be less than 5")):l(!0):(D(!0),F("Invalid ID")):(D(!0),F("Gender is required.")):(D(!0),F("Race is required.")):(D(!0),F("About is required.")):(D(!0),F("ID is required."))}()},children:"Save Changes"})]})})})]})})};var Es=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2);return t[0],t[1],Object(k.jsx)("div",{className:"flex h-screen overflow-hidden",children:Object(k.jsx)("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:Object(k.jsx)("main",{children:Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsx)("div",{className:"mb-8",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Account Settings "})}),Object(k.jsx)("div",{className:"bg-white shadow-lg rounded-sm mb-8",children:Object(k.jsxs)("div",{className:"flex flex-col md:flex-row md:-mr-px",children:[Object(k.jsx)(Ds,{}),Object(k.jsx)(Ms,{})]})})]})})})})};var Is=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(!1),r=Object(i.a)(n,2),l=r[0],o=r[1],d=Object(c.useState)(!1),j=Object(i.a)(d,2),b=j[0],x=j[1],h=Object(c.useState)(!1),p=Object(i.a)(h,2),O=p[0],f=p[1],v=Object(c.useState)(!0),N=Object(i.a)(v,2),w=N[0],S=N[1],C=Object(c.useState)(!0),z=Object(i.a)(C,2),D=(z[0],z[1],Object(c.useState)(!1)),A=Object(i.a)(D,2);function M(){return E.apply(this,arguments)}function E(){return(E=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),t=localStorage.getItem("_id"),e.next=4,y.get("".concat(g.default.path.profile.getProfile,"/").concat(t));case 4:I(e.sent.isSubscribed),f(!1);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(e){a(!1),o(!1),x(""),S(e)}function T(){return(T=Object(u.a)(Object(m.a)().mark((function e(){var t,s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=localStorage.getItem("_id"),s={isSubscribed:w},e.prev=2,e.next=5,y.patch("".concat(g.default.path.settings.updateNotifications,"/").concat(t),s,!0);case 5:(c=e.sent).err?(o(!0),x(c.message)):(a(!0),x(c.message)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(2),o(!0),x(e.t0.message);case 13:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}return A[0],A[1],Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M();case 2:case"end":return e.stop()}}),e)}))),[y]),Object(k.jsx)("div",{className:"grow",children:O?Object(k.jsx)(Ee,{}):Object(k.jsxs)("div",{className:"p-6 space-y-6",children:[Object(k.jsx)("h2",{className:"text-2xl text-slate-800 font-bold mb-5",children:"My Notifications"}),Object(k.jsxs)("section",{children:[Object(k.jsx)("h3",{className:"text-xl leading-snug text-slate-800 font-bold mb-1",children:"General"}),Object(k.jsxs)("ul",{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"text-slate-800 font-semibold",children:"C3 Portal Announcement"}),Object(k.jsx)("div",{className:"text-sm",children:"Public Holiday and General Portal Announcement."})]}),Object(k.jsxs)("div",{className:"flex items-center ml-4",children:[Object(k.jsx)("div",{className:"text-sm text-slate-400 italic mr-2",children:w?"On":"Off"}),Object(k.jsxs)("div",{className:"form-switch",children:[Object(k.jsx)("input",{type:"checkbox",id:"comments",className:"sr-only",checked:w,onChange:function(){return S(!w)}}),Object(k.jsxs)("label",{className:"bg-slate-400",htmlFor:"comments",children:[Object(k.jsx)("span",{className:"bg-white shadow-sm","aria-hidden":"true"}),Object(k.jsx)("span",{className:"sr-only",children:"Enable smart sync"})]})]})]})]}),Object(k.jsxs)("div",{children:[Object(k.jsx)(Xe,{id:"error-modal",modalOpen:l,setModalOpen:o,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Error: ",b]})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return o(!1)},children:"Okay"})})]})]})}),Object(k.jsx)(Xe,{id:"success-modal",modalOpen:s,setModalOpen:a,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:b})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:M,children:"Okay"})})]})]})})]})]}),Object(k.jsx)("footer",{children:Object(k.jsx)("div",{className:"flex flex-col px-6 py-5 border-t border-slate-200",children:Object(k.jsx)("div",{className:"flex self-end",children:Object(k.jsx)("button",{className:"btn bg-rose-500 hover:bg-rose-600 text-white ml-3",onClick:function(){return T.apply(this,arguments)},children:"Save Changes"})})})})]})})};var Ts=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2);return t[0],t[1],Object(k.jsx)("div",{className:"flex h-screen overflow-hidden",children:Object(k.jsx)("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:Object(k.jsx)("main",{children:Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsx)("div",{className:"mb-8",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Account Settings "})}),Object(k.jsx)("div",{className:"bg-white shadow-lg rounded-sm mb-8",children:Object(k.jsxs)("div",{className:"flex flex-col md:flex-row md:-mr-px",children:[Object(k.jsx)(Ds,{}),Object(k.jsx)(Is,{})]})})]})})})})};var Ls=function(){return Object(k.jsx)("div",{className:"grow",children:Object(k.jsxs)("div",{className:"p-6",children:[Object(k.jsx)("h2",{className:"text-2xl text-slate-800 font-bold mb-5",children:"Connected Apps"}),Object(k.jsx)("div",{className:"mb-6",children:Object(k.jsx)("div",{className:"mb-4 border-b border-slate-200",children:Object(k.jsx)("ul",{className:"text-sm font-medium flex flex-nowrap -mx-4 sm:-mx-6 lg:-mx-8 overflow-x-scroll no-scrollbar",children:Object(k.jsx)("li",{className:"pb-3 mr-6 last:mr-0 first:pl-4 sm:first:pl-6 lg:first:pl-8 last:pr-4 sm:last:pr-6 lg:last:pr-8",children:Object(k.jsx)("a",{className:"text-indigo-500 whitespace-nowrap",href:"#0",children:"Utility"})})})})}),Object(k.jsx)("section",{className:"pb-6 border-b border-slate-200",children:Object(k.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[Object(k.jsx)("div",{className:"col-span-full xl:col-span-6 2xl:col-span-4 bg-white shadow-md rounded-sm border border-slate-200",children:Object(k.jsxs)("div",{className:"flex flex-col h-full p-5",children:[Object(k.jsxs)("div",{className:"grow",children:[Object(k.jsxs)("header",{className:"flex items-center mb-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full shrink-0 bg-gradient-to-tr from-indigo-500 to-indigo-300 mr-3",children:Object(k.jsx)("svg",{className:"w-10 h-10 fill-current text-white",viewBox:"0 0 40 40",children:Object(k.jsx)("path",{d:"M26.946 18.005a.583.583 0 00-.53-.34h-6.252l.985-3.942a.583.583 0 00-1.008-.52l-7 8.167a.583.583 0 00.442.962h6.252l-.984 3.943a.583.583 0 001.008.52l7-8.167a.583.583 0 00.087-.623z"})})}),Object(k.jsx)("h3",{className:"text-lg text-slate-800 font-semibold",children:"Microsoft Teams"})]}),Object(k.jsx)("div",{className:"text-sm",children:"Connect your teams calander to your c3 portal calendar allowing you to make use of creating,viewing,removing and connecting to your meetings ."})]}),Object(k.jsx)("footer",{className:"mt-4",children:Object(k.jsx)("div",{className:"flex flex-wrap justify-between items-center",children:Object(k.jsxs)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 shadow-sm flex items-center",children:[Object(k.jsx)("svg",{className:"w-3 h-3 shrink-0 fill-current text-emerald-500 mr-2",viewBox:"0 0 12 12",children:Object(k.jsx)("path",{d:"M10.28 1.28L3.989 7.575 1.695 5.28A1 1 0 00.28 6.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 1.28z"})}),Object(k.jsx)("span",{children:"Connected"})]})})})]})}),Object(k.jsx)("div",{className:"col-span-full xl:col-span-6 2xl:col-span-4 bg-white shadow-md rounded-sm border border-slate-200",children:Object(k.jsxs)("div",{className:"flex flex-col h-full p-5",children:[Object(k.jsxs)("div",{className:"grow",children:[Object(k.jsxs)("header",{className:"flex items-center mb-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full shrink-0 bg-gradient-to-tr from-emerald-500 to-emerald-300 mr-3",children:Object(k.jsx)("svg",{className:"w-10 h-10 fill-current text-white",viewBox:"0 0 40 40",children:Object(k.jsx)("path",{d:"M26.946 18.005a.583.583 0 00-.53-.34h-6.252l.985-3.942a.583.583 0 00-1.008-.52l-7 8.167a.583.583 0 00.442.962h6.252l-.984 3.943a.583.583 0 001.008.52l7-8.167a.583.583 0 00.087-.623z"})})}),Object(k.jsx)("h3",{className:"text-lg text-slate-800 font-semibold",children:"Asana"})]}),Object(k.jsx)("div",{className:"text-sm",children:"Connect your c3 portal to your teams Asana page and get notified via email if there have been updates to your task."})]}),Object(k.jsx)("footer",{className:"mt-4",children:Object(k.jsx)("div",{className:"flex flex-wrap justify-between items-center",children:Object(k.jsxs)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 shadow-sm flex items-center",children:[Object(k.jsx)("svg",{className:"w-3 h-3 shrink-0 fill-current text-emerald-500 mr-2",viewBox:"0 0 12 12",children:Object(k.jsx)("path",{d:"M10.28 1.28L3.989 7.575 1.695 5.28A1 1 0 00.28 6.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 1.28z"})}),Object(k.jsx)("span",{children:"Connected"})]})})})]})}),Object(k.jsx)("div",{className:"col-span-full xl:col-span-6 2xl:col-span-4 bg-white shadow-md rounded-sm border border-slate-200",children:Object(k.jsxs)("div",{className:"flex flex-col h-full p-5",children:[Object(k.jsxs)("div",{className:"grow",children:[Object(k.jsxs)("header",{className:"flex items-center mb-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full shrink-0 bg-gradient-to-tr from-sky-500 to-sky-300 mr-3",children:Object(k.jsx)("svg",{className:"w-10 h-10 fill-current text-white",viewBox:"0 0 40 40",children:Object(k.jsx)("path",{d:"M26.946 18.005a.583.583 0 00-.53-.34h-6.252l.985-3.942a.583.583 0 00-1.008-.52l-7 8.167a.583.583 0 00.442.962h6.252l-.984 3.943a.583.583 0 001.008.52l7-8.167a.583.583 0 00.087-.623z"})})}),Object(k.jsx)("h3",{className:"text-lg text-slate-800 font-semibold",children:"Click Up"})]}),Object(k.jsx)("div",{className:"text-sm",children:"ClickUp's API allows you to instantly access your Workspace's data"})]}),Object(k.jsx)("footer",{className:"mt-4",children:Object(k.jsx)("div",{className:"flex flex-wrap justify-between items-center",children:Object(k.jsxs)("button",{className:"btn-sm border-slate-200 hover:border-slate-300 shadow-sm flex items-center",children:[Object(k.jsx)("svg",{className:"w-3 h-3 shrink-0 fill-current text-emerald-500 mr-2",viewBox:"0 0 12 12",children:Object(k.jsx)("path",{d:"M10.28 1.28L3.989 7.575 1.695 5.28A1 1 0 00.28 6.695l3 3a1 1 0 001.414 0l7-7A1 1 0 0010.28 1.28z"})}),Object(k.jsx)("span",{children:"Connected"})]})})})]})})]})})]})})};var Ps=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2);return t[0],t[1],Object(k.jsx)("div",{className:"flex h-screen overflow-hidden",children:Object(k.jsx)("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:Object(k.jsx)("main",{children:Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsx)("div",{className:"mb-8",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Account Settings "})}),Object(k.jsx)("div",{className:"bg-white shadow-lg rounded-sm mb-8",children:Object(k.jsxs)("div",{className:"flex flex-col md:flex-row md:-mr-px",children:[Object(k.jsx)(Ds,{}),Object(k.jsx)(Ls,{})]})})]})})})})};var Fs=function(){var e=Object(c.useState)(!0),t=Object(i.a)(e,2);return t[0],t[1],Object(k.jsx)("div",{className:"grow",children:Object(k.jsx)("div",{className:"p-6 space-y-6",children:Object(k.jsxs)("section",{children:[Object(k.jsxs)("div",{className:"mb-8",children:[Object(k.jsx)("h2",{className:"text-2xl text-slate-800 font-bold mb-4",children:"Support"}),Object(k.jsx)("div",{className:"text-sm",children:"This Support page gives information on who to contact for any issues encountered during your experience."})]}),Object(k.jsx)("div",{children:Object(k.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[Object(k.jsxs)("div",{className:"relative col-span-full xl:col-span-4 bg-white shadow-md rounded-sm border border-slate-200",children:[Object(k.jsx)("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-emerald-500","aria-hidden":"true"}),Object(k.jsxs)("div",{className:"px-5 pt-5 pb-6 border-b border-slate-200",children:[Object(k.jsxs)("header",{className:"flex items-center mb-2",children:[Object(k.jsx)("div",{className:"w-6 h-6 rounded-full shrink-0 bg-gradient-to-tr from-emerald-500 to-emerald-300 mr-3",children:Object(k.jsx)("svg",{className:"w-6 h-6 fill-current text-white",viewBox:"0 0 24 24",children:Object(k.jsx)("path",{d:"M12 17a.833.833 0 01-.833-.833 3.333 3.333 0 00-3.334-3.334.833.833 0 110-1.666 3.333 3.333 0 003.334-3.334.833.833 0 111.666 0 3.333 3.333 0 003.334 3.334.833.833 0 110 1.666 3.333 3.333 0 00-3.334 3.334c0 .46-.373.833-.833.833z"})})}),Object(k.jsx)("h3",{className:"text-lg text-slate-800 font-semibold",children:"Development Team"})]}),Object(k.jsx)("div",{className:"text-sm mb-2",children:"Ideal for individuals that are experiencing bugs or errors in the system."})]}),Object(k.jsxs)("div",{className:"px-5 pt-4 pb-5",children:[Object(k.jsx)("div",{className:"text-xs text-slate-800 font-semibold uppercase mb-4",children:"Avaliable Email Address:"}),Object(k.jsx)("ul",{children:Object(k.jsx)("li",{className:"flex items-center py-1",children:Object(k.jsx)("div",{className:"text-sm",children:"Jason@convergenc3.com"})})})]})]}),Object(k.jsxs)("div",{className:"relative col-span-full xl:col-span-4 bg-white shadow-md rounded-sm border border-slate-200",children:[Object(k.jsx)("div",{className:"absolute top-0 left-0 right-0 h-0.5 bg-sky-500","aria-hidden":"true"}),Object(k.jsxs)("div",{className:"px-5 pt-5 pb-6 border-b border-slate-200",children:[Object(k.jsxs)("header",{className:"flex items-center mb-2",children:[Object(k.jsx)("div",{className:"w-6 h-6 rounded-full shrink-0 bg-gradient-to-tr from-sky-500 to-sky-300 mr-3",children:Object(k.jsx)("svg",{className:"w-6 h-6 fill-current text-white",viewBox:"0 0 24 24",children:Object(k.jsx)("path",{d:"M12 17a.833.833 0 01-.833-.833 3.333 3.333 0 00-3.334-3.334.833.833 0 110-1.666 3.333 3.333 0 003.334-3.334.833.833 0 111.666 0 3.333 3.333 0 003.334 3.334.833.833 0 110 1.666 3.333 3.333 0 00-3.334 3.334c0 .46-.373.833-.833.833z"})})}),Object(k.jsx)("h3",{className:"text-lg text-slate-800 font-semibold",children:"Admin"})]}),Object(k.jsx)("div",{className:"text-sm mb-2",children:"Ideal for individuals that would like to find out more information about specific services provided in C3 Portal."})]}),Object(k.jsxs)("div",{className:"px-5 pt-4 pb-5",children:[Object(k.jsx)("div",{className:"text-xs text-slate-800 font-semibold uppercase mb-4",children:"Available Email Address:"}),Object(k.jsx)("ul",{children:Object(k.jsx)("li",{className:"flex items-center py-1",children:Object(k.jsx)("div",{className:"text-sm",children:"Monique@convergenc3.com"})})})]})]})]})})]})})})};var Bs=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2);return t[0],t[1],Object(k.jsx)("div",{className:"flex h-screen overflow-hidden",children:Object(k.jsx)("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:Object(k.jsx)("main",{children:Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsx)("div",{className:"mb-8",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Account Settings "})}),Object(k.jsx)("div",{className:"bg-white shadow-lg rounded-sm mb-8",children:Object(k.jsxs)("div",{className:"flex flex-col md:flex-row md:-mr-px",children:[Object(k.jsx)(Ds,{}),Object(k.jsx)(Fs,{})]})})]})})})})};var Rs=function(e){var t=e.loading,s=e.versions,c=e.isDev;return Object(k.jsx)("div",{className:"grow",children:t?Object(k.jsx)(Ee,{}):Object(k.jsxs)("div",{className:"p-6 space-y-6",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("h2",{className:"text-2xl text-slate-800 font-bold mb-4",children:"About Versions"}),Object(k.jsx)("div",{className:"text-sm",children:"This gives detailed information about the current and previous version of C3 portal."})]}),Object(k.jsxs)("section",{children:[Object(k.jsx)("h3",{className:"text-xl leading-snug text-slate-800 font-bold mb-1",children:"Version Information"}),Object(k.jsx)("ul",{children:s.map((function(e){return Object(k.jsx)("div",{children:Object(k.jsxs)("li",{className:"md:flex md:justify-between md:items-center py-3 ".concat(s.length>1?"border-b border-slate-200":""),children:[Object(k.jsxs)("div",{className:"text-sm text-slate-800 font-medium",children:["v",e.version]}),Object(k.jsxs)("div",{className:"text-sm text-slate-800 mr-4",children:[Object(k.jsx)("span",{className:"mr-3",children:new Date(e.releasedate).toLocaleDateString()}),Object(k.jsx)(l.c,{className:"font-medium text-rose-500 hover:text-rose-600 mr-4",to:"/patchNotes/".concat(e.version),children:"Open"})]})]})})}))})]}),c&&Object(k.jsx)("footer",{children:Object(k.jsx)("div",{className:"flex flex-col px-6 py-5 border-t border-slate-200",children:Object(k.jsx)("div",{className:"flex self-end",children:Object(k.jsx)(l.c,{to:"/addPatch",children:Object(k.jsx)("button",{className:"btn bg-rose-500 hover:bg-rose-600 text-white ml-3",children:"Add Patch Note"})})})})})]})})};var Hs=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(!1),r=Object(i.a)(n,2),l=r[0],o=r[1],d=Object(c.useState)(!1),j=Object(i.a)(d,2),b=j[0],x=j[1];return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,x(!0),t=localStorage.getItem("isDev"),e.next=5,y.get("".concat(g.default.path.profile.getPatch,"/1.2.0"));case 5:s=e.sent,o("true"===t),a(s.message.versions),x(!1),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),[y]),Object(k.jsx)("div",{className:"flex h-screen overflow-hidden",children:Object(k.jsx)("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:Object(k.jsx)("main",{children:Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsx)("div",{className:"mb-8",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Account Settings "})}),Object(k.jsx)("div",{className:"bg-white shadow-lg rounded-sm mb-8",children:Object(k.jsxs)("div",{className:"flex flex-col md:flex-row md:-mr-px",children:[Object(k.jsx)(Ds,{}),Object(k.jsx)(Rs,{versions:s,loading:b,isDev:l})]})})]})})})})},Ys=s.p+"static/media/404-illustration.ee4d58f7.svg";var Us=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2);return t[0],t[1],Object(k.jsx)("div",{className:"flex h-screen overflow-hidden",children:Object(k.jsx)("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden bg-white",children:Object(k.jsx)("main",{children:Object(k.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:Object(k.jsx)("div",{className:"max-w-2xl m-auto mt-16",children:Object(k.jsxs)("div",{className:"text-center px-4",children:[Object(k.jsx)("div",{className:"inline-flex mb-8",children:Object(k.jsx)("img",{src:Ys,width:"176",height:"176",alt:"404 illustration"})}),Object(k.jsx)("div",{className:"mb-6",children:"Hmm...this page doesn\u2019t exist. Try searching for something else!"}),Object(k.jsx)(l.b,{to:"/",className:"btn bg-indigo-500 hover:bg-indigo-600 text-white",children:"Back To Dashboard"})]})})})})})})},_s=s(444),qs=s(445),Vs=s(456),Ws=s(448),Gs=s(457),Js=s(237),Ks=s.n(Js);function Xs(){var e=Object(d.n)().version,t=Object(c.useState)(!1),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)({version:"",releaseDate:"",data:[{}]}),l=Object(i.a)(r,2),o=l[0],j=l[1],b=Object(c.useState)([]),x=Object(i.a)(b,2),h=(x[0],x[1]),p=Object(c.useState)(!1),O=Object(i.a)(p,2),f=O[0],v=O[1];return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function t(){var s;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(!0),t.next=3,y.get("".concat(g.default.path.profile.getPatch,"/").concat(e));case 3:s=t.sent,j(s.message.currentPatch),h(s.message.versions),v(!0),n(!1);case 8:case"end":return t.stop()}}),t)}))),[y]),Object(k.jsx)("div",{className:"",children:a?Object(k.jsx)(Ee,{}):Object(k.jsxs)("main",{children:[Object(k.jsx)("div",{className:"mt-5",children:Object(k.jsx)("div",{className:"max-w-md mx-auto",children:Object(k.jsxs)("h3",{className:"mt-1 text-center text-2xl text-zinc-500 italic pb-3",children:["Release Notes"," ",Object(k.jsxs)("span",{className:"text-rose-500",children:["v",o.version]})]})})}),Object(k.jsx)(_s.a,{children:Object(k.jsx)("div",{className:"m-3",children:f&&o.data.map((function(e,t){return Object(k.jsx)("div",{children:Object(k.jsx)(Zs,{header:e.header,changes:e.changes},t)},t)}))})})]})})}var Zs=function(e){var t=e.header,s=e.changes;return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(qs.a,{sx:{borderColor:"black"},children:[Object(k.jsx)(Vs.a,{expandIcon:Object(k.jsx)(Ks.a,{}),"aria-controls":"panel1a-content",id:"panel1a-header",sx:{borderRadius:"2",background:"white",color:"#f43f5e"},children:Object(k.jsx)(Ws.a,{children:t})}),Object(k.jsx)(Gs.a,{sx:{background:"#f8fafc",color:"#71717a",typography:"body1"},children:s.map((function(e){return Object(k.jsx)("div",{children:Object(k.jsxs)(Ws.a,{children:[" - ",e.message]})},e.id)}))})]})})};T.e.register(T.i,T.j,T.g,T.m,T.k,T.p,T.q);var Qs=function(e){var t=e.data,s=e.width,a=e.height,n=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=n.current,s=new T.e(e,{type:"line",data:t,options:{layout:{padding:{top:12,bottom:16,left:20,right:20}},scales:{y:{beginAtZero:!0,grid:{drawBorder:!1},ticks:{maxTicksLimit:7,callback:function(e){return R(e)}}},x:{type:"time",time:{parser:"MM-DD-YYYY",displayFormats:{millisecond:"MMM DD",second:"MMM DD",minute:"MMM DD",hour:"MMM DD",day:"MMM DD",week:"MMM DD",month:"MMM DD",quarter:"MMM DD",year:"MMM DD"}},grid:{display:!1,drawBorder:!1},ticks:{autoSkipPadding:48,maxRotation:0}}},plugins:{tooltip:{callbacks:{title:function(){return!1},label:function(e){return R(e.parsed.y)}}},legend:{display:!0,position:"bottom",labels:{fontColor:"#000080"}}},interaction:{intersect:!1,mode:"nearest"},maintainAspectRatio:!1,resizeDelay:200}});return function(){return s.destroy()}}),[]),Object(k.jsx)("canvas",{ref:n,width:s,height:a})};var $s=function(e){var t=e.data,s=[],c=[],a=[];t.map((function(e){s.push(Re()(e._id).format("MM-DD-YYYY")),c.push(e.Billable),a.push(e.nonBillable)}));var n={labels:s,datasets:[{label:"Non Billable",data:a,borderColor:F().theme.colors.red[500],fill:!0,backgroundColor:"rgba(".concat(B(F().theme.colors.red[500]),", 0.08)"),borderWidth:2,tension:0,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:F().theme.colors.red[500],clip:20},{label:"Billable",data:c,borderColor:F().theme.colors.slate[400],fill:!1,borderWidth:2,tension:0,pointRadius:0,pointHoverRadius:3,pointBackgroundColor:F().theme.colors.slate[300],clip:20}]};return Object(k.jsxs)("div",{className:"flex flex-col col-span-full xl:col-span-8 bg-white shadow-lg rounded-sm border border-slate-200",children:[Object(k.jsx)("header",{className:"px-5 py-4 border-b border-slate-100 flex items-center",children:Object(k.jsx)("h2",{className:"font-semibold text-slate-800",children:"Client Hours Overview"})}),Object(k.jsxs)("div",{className:"px-5 py-3",children:[Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsx)("div",{className:"text-3xl font-bold text-slate-800 mr-2"}),Object(k.jsx)("div",{className:"text-sm",children:Object(k.jsx)("span",{className:"font-medium text-amber-500"})})]}),Object(k.jsx)("div",{className:"text-sm text-slate-500"})]}),Object(k.jsx)("div",{className:"grow",children:Object(k.jsx)(Qs,{data:n,width:800,height:300})})]})};T.e.register(T.l,T.a,T.p,T.q);var ec=function(e){var t=e.data,s=e.width,a=e.height,n=Object(c.useRef)(null),r=Object(c.useRef)(null);return Object(c.useEffect)((function(){var e=n.current,s=new T.e(e,{type:"pie",data:t,options:{layout:{padding:{top:4,bottom:4,left:24,right:24}},plugins:{legend:{display:!1}},interaction:{intersect:!1,mode:"nearest"},animation:{duration:200},maintainAspectRatio:!1},plugins:[{id:"htmlLegend",afterUpdate:function(e,t,s){var c=r.current;if(c){for(;c.firstChild;)c.firstChild.remove();e.options.plugins.legend.labels.generateLabels(e).forEach((function(t){var s=document.createElement("li");s.style.margin=F().theme.margin[1.5];var a=document.createElement("button");a.style.display="inline-flex",a.style.alignItems="center",a.style.opacity=t.hidden?".3":"",a.onclick=function(){e.toggleDataVisibility(t.index,!t.index),e.update()};var n=document.createElement("span");n.style.display="block",n.style.width=F().theme.width[3],n.style.height=F().theme.height[3],n.style.borderRadius=F().theme.borderRadius.full,n.style.marginRight=F().theme.margin[1.5],n.style.borderWidth="3px",n.style.borderColor=t.fillStyle,n.style.pointerEvents="none";var r=document.createElement("span");r.style.color=F().theme.colors.slate[500],r.style.fontSize=F().theme.fontSize.sm[0],r.style.lineHeight=F().theme.fontSize.sm[1].lineHeight;var l=document.createTextNode(t.text);r.appendChild(l),s.appendChild(a),a.appendChild(n),a.appendChild(r),c.appendChild(s)}))}}}]});return function(){return s.destroy()}}),[]),Object(k.jsxs)("div",{className:"grow flex flex-col justify-center",children:[Object(k.jsx)("div",{children:Object(k.jsx)("canvas",{ref:n,width:s,height:a})}),Object(k.jsx)("div",{className:"px-5 py-4",children:Object(k.jsx)("ul",{ref:r,className:"flex flex-wrap justify-center -m-1"})})]})};var tc=function(e){var t=e.data,s={labels:["Billable Utilization","Utilization"],datasets:[{label:"Sessions By Device",data:[t.billable,t.utilization],backgroundColor:[F().theme.colors.indigo[500],F().theme.colors.blue[400]],hoverBackgroundColor:[F().theme.colors.indigo[600],F().theme.colors.blue[500]],borderWidth:0}]};return Object(k.jsxs)("div",{className:"flex flex-col col-span-full sm:col-span-6 xl:col-span-4 bg-white shadow-lg rounded-sm border border-slate-200",children:[Object(k.jsx)("header",{className:"px-5 py-4 border-b border-slate-100 flex items-center",children:Object(k.jsx)("h2",{className:"font-semibold text-slate-800",children:"Total Utilization"})}),Object(k.jsx)(ec,{data:s,width:389,height:220})]})};var sc=function(e){var t=e.client,s=e.onClick;return Object(k.jsx)("div",{onClick:s,className:"cursor-pointer flex flex-col col-span-full sm:col-span-6 xl:col-span-3 bg-white shadow-lg rounded-sm border border-slate-200",children:Object(k.jsx)("div",{className:"p-5",children:Object(k.jsxs)("header",{children:[Object(k.jsx)("h3",{className:"text-sm font-semibold text-slate-500 uppercase mb-1",children:Object(k.jsx)("span",{className:"text-slate-800",children:null===t||void 0===t?void 0:t.clientName})}),Object(k.jsx)("div",{className:"text-2xl font-bold text-slate-800 mb-1",children:null===t||void 0===t?void 0:t.hours})]})})})},cc=function(e){var t=e.id,s=e.changeState,a=Object(c.useState)(!1),n=Object(i.a)(a,2),r=n[0],l=n[1],o=Object(c.useState)([]),d=Object(i.a)(o,2),j=d[0],b=d[1];return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,y.post(g.default.path.clients.getClientProjectHours,{id:t},!0);case 3:(s=e.sent).err||(console.log(s),b(s)),l(!1);case 6:case"end":return e.stop()}}),e)}))),[t]),Object(k.jsx)("div",{className:"fixed right-0 bg-white shadow-lg px-6 h-screen overflow-auto",style:{width:"50vw",paddingBottom:"80px"},children:r?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8 py-3 border-b border-slate-200",children:Object(k.jsx)("div",{className:"grid grid-flow-col sm:auto-row-max justify-start sm:justify-end gap-2",children:Object(k.jsxs)("button",{className:"text-slate-400 cursor-pointer hover:text-slate-500",onClick:s,children:[Object(k.jsx)("div",{className:"sr-only",children:"Close"}),Object(k.jsx)("svg",{className:"w-4 h-4 fill-current Icon CloseIcon",children:Object(k.jsx)("path",{d:"M7.95 6.536l4.242-4.243a1 1 0 111.415 1.414L9.364 7.95l4.243 4.242a1 1 0 11-1.415 1.415L7.95 9.364l-4.243 4.243a1 1 0 01-1.414-1.415L6.536 7.95 2.293 3.707a1 1 0 011.414-1.414L7.95 6.536z"})})]})})}),Object(k.jsx)("div",{className:"flex justify-between pl-3 pb-3",children:Object(k.jsx)("h1",{className:"text-3xl font-bold",children:0!==j.length&&j[0].clientName})}),Object(k.jsxs)("table",{className:"table-fixed w-full",children:[Object(k.jsx)("thead",{className:"text-xs uppercase text-slate-400 bg-slate-50 rounded-sm",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Project"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-right",children:"Hours"})})]})}),Object(k.jsx)("tbody",{className:"text-sm divide-y divide-slate-100",children:0!==j.length&&j.map((function(e,t){return Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"p-2 whitespace-nowrap w-1/2",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800 truncate",children:e.project})})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap w-1/2",children:Object(k.jsx)("div",{className:"font-medium text-emerald-500 text-right",children:e.hours})})]},t)}))})]})]})})};function ac(e){var t=e.user,s=e.onClick,c=e.imageURL;return Object(k.jsx)("div",{onClick:s,className:"cursor-pointer flex flex-col col-span-full sm:col-span-6 xl:col-span-3 bg-white shadow-lg rounded-sm border border-slate-200",children:Object(k.jsx)("div",{className:"p-5 flex justify-center",children:Object(k.jsxs)("header",{children:[Object(k.jsx)("div",{className:"flex justify-center",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("img",{className:"w-20 h-20 rounded-full mb-1",src:c,width:"80",height:"80",alt:"Avatar"})})}),Object(k.jsx)("div",{children:Object(k.jsx)("h3",{className:"text-sm font-semibold text-slate-800 mb-1",children:t.personalInfo.firstName+" "+t.personalInfo.lastName})})]})})})}function nc(e){var t=e.id,s=e.changeState,a=Object(c.useState)(!1),n=Object(i.a)(a,2),r=n[0],l=n[1],o=Object(c.useState)(null),d=Object(i.a)(o,2),j=d[0],b=d[1],x=Object(c.useState)(null),h=Object(i.a)(x,2),p=h[0],O=h[1],f=Object(c.useState)(""),v=Object(i.a)(f,2),N=v[0],w=v[1];return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),w(""),e.next=4,y.get("".concat(g.default.path.users.getBenchUser,"/").concat(t));case 4:(s=e.sent).err||(console.log(s),b(s.user),O(s.projects),"none"!=s.user.profilePictureKey&&w("".concat(g.default.url).concat(g.default.path.s3.getFile,"/").concat(s.user.profilePictureKey))),l(!1);case 7:case"end":return e.stop()}}),e)}))),[t]),Object(k.jsx)("div",{className:"fixed right-0 bg-white shadow-lg px-6 h-screen overflow-auto z-10",style:{width:"50vw",paddingBottom:"80px"},children:r?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8 py-3 border-b border-slate-200 z-10",children:Object(k.jsx)("div",{className:"grid grid-flow-col sm:auto-row-max justify-start sm:justify-end gap-2",children:Object(k.jsxs)("button",{className:"text-slate-400 cursor-pointer hover:text-slate-500",onClick:s,children:[Object(k.jsx)("div",{className:"sr-only",children:"Close"}),Object(k.jsx)("svg",{className:"w-4 h-4 fill-current Icon CloseIcon",children:Object(k.jsx)("path",{d:"M7.95 6.536l4.242-4.243a1 1 0 111.415 1.414L9.364 7.95l4.243 4.242a1 1 0 11-1.415 1.415L7.95 9.364l-4.243 4.243a1 1 0 01-1.414-1.415L6.536 7.95 2.293 3.707a1 1 0 011.414-1.414L7.95 6.536z"})})]})})}),Object(k.jsxs)("div",{className:"flex flex-col items-center pl-3 pb-3",children:[Object(k.jsx)("div",{className:"flex justify-center",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("img",{className:"w-20 h-20 rounded-full mb-1",src:""!==N?N:zt,width:"80",height:"80",alt:"Avatar"})})}),Object(k.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[Object(k.jsx)("h1",{className:"text-3xl text-slate-500 font-bold",children:j?j.personalInfo.firstName+" "+j.personalInfo.lastName:""}),Object(k.jsx)("h3",{className:"text-xl text-slate-500 font-bold",children:j?j.type:""}),Object(k.jsx)("h3",{className:"text-sm text-rose-500 font-bold",children:j?j.personalInfo.title:""})]})]}),p&&p.length>0?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{children:Object(k.jsx)("h3",{className:"text-xl text-slate-500 font-bold mb-2",children:"Projects"})}),Object(k.jsxs)("table",{className:"table-fixed w-full mb-2",children:[Object(k.jsx)("thead",{className:"text-xs uppercase text-slate-400 bg-slate-50 rounded-sm",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Project Name"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Client"})}),Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Completed"})})]})}),Object(k.jsx)("tbody",{className:"text-sm divide-y divide-slate-100",children:p.map((function(e,t){return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"p-2 whitespace-nowrap w-1/2",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800 truncate",children:e.projectName})})}),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap w-1/2",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800 truncate",children:e.client.clientName})})},t),Object(k.jsx)("td",{className:"p-2 whitespace-nowrap w-1/2",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800 truncate",children:new Date(e.completionDate).toDateString()})})},t)]},t)})}))})]})]}):"",j?j.strengthInfo.length>0&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("div",{children:Object(k.jsx)("h3",{className:"text-xl text-slate-500 font-bold mb-2 mt-2",children:"Strengths"})}),Object(k.jsxs)("table",{className:"table-fixed w-full",children:[Object(k.jsx)("thead",{className:"text-xs uppercase text-slate-400 bg-slate-50 rounded-sm",children:Object(k.jsx)("tr",{children:Object(k.jsx)("th",{className:"p-2 whitespace-nowrap",children:Object(k.jsx)("div",{className:"font-semibold text-left",children:"Strengths"})})})}),Object(k.jsx)("tbody",{className:"text-sm divide-y divide-slate-100",children:j.strengthInfo.map((function(e,t){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("tr",{children:Object(k.jsx)("td",{className:"p-2 whitespace-nowrap w-1/2",children:Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"font-medium text-slate-800 truncate",children:e})})})},t)})}))})]})]}):""]})})}var rc=s(238),lc=s.n(rc),ic=(s(372),s(373),{topType:["NoHair","Eyepatch","Hat","Hijab","Turban","WinterHat1","WinterHat2","WinterHat3","WinterHat4","LongHairBigHair","LongHairBob","LongHairBun","LongHairCurly","LongHairCurvy","LongHairDreads","LongHairFrida","LongHairFro","LongHairFroBand","LongHairNotTooLong","LongHairShavedSides","LongHairMiaWallace","LongHairStraight","LongHairStraight2","LongHairStraightStrand","ShortHairDreads01","ShortHairDreads02"],accessoriesType:["Blank","Kurt","Prescription01","Prescription02","Round","Sunglasses","Wayfarers"],hatColor:["Black","Blue01","Blue02","Blue03","Gray01","Gray02","Heather","PastelBlue","PastelGreen","PastelOrange","PastelRed","PastelYellow","Pink","Red","White"],hairColor:["Auburn","Black","Blonde","BlondeGolden","Brown","BrownDark","PastelPink","Platinum","Red","SilverGray"],facialHairType:["Blank","BeardMedium","BeardLight","BeardMajestic","MoustacheFancy","MoustacheMagnum"],facialHairColor:["Auburn","Black","Blonde","BlondeGolden","Brown","BrownDark","Platinum","Red"],clotheType:["BlazerShirt","BlazerSweater","CollarSweater","GraphicShirt","Hoodie","Overall","ShirtCrewNeck","ShirtScoopNeck","ShirtVNeck"],clotheColor:["Black","Blue01","Blue02","Blue03","Gray01","Gray02","Heather","PastelBlue","PastelGreen","PastelOrange","PastelRed","PastelYellow","Pink","Red","White"],graphicType:["Bat","Cumbia","Deer","Diamond","Hola","Pizza","Resist","Selena","Bear","SkullOutline","Skull"],eyeType:["Close","Cry","Default","Dizzy","EyeRoll","Happy","Hearts","Side","Squint","Surprised","Wink","WinkWacky"],eyebrowType:["Angry","AngryNatural","Default","DefaultNatural","FlatNatural","RaisedExcited","RaisedExcitedNatural","SadConcerned","SadConcernedNatural","UnibrowNatural","UpDown","UpDownNatural"],mouthType:["Concerned","Default","Disbelief","Eating","Grimace","Sad","ScreamOpen","Serious","Smile","Tongue","Twinkle","Vomit"],skinColor:["Tanned","Yellow","Pale","Light","Brown","DarkBrown","Black"]});Object.keys(ic);var oc=function(e){var t=e.options,s=e.organogramData,a=e.setUserId,n=e.setShowBenchModal,r=Object(c.useRef)(null);return Object(c.useRef)(null),Object(c.useEffect)((function(){lc()(r.current,t,s,zt,a,n)}),[t]),Object(k.jsx)("div",{ref:r})};var dc=function(){var e=Object(c.useState)([]),t=Object(i.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)([]),r=Object(i.a)(n,2),l=r[0],o=r[1],d=Object(c.useState)(!0),j=Object(i.a)(d,2),b=j[0],x=j[1],h=Object(c.useState)(!1),p=Object(i.a)(h,2),O=p[0],f=p[1],v=Object(c.useState)([]),N=Object(i.a)(v,2),w=N[0],S=N[1],C=Object(c.useState)([]),z=Object(i.a)(C,2),D=z[0],M=z[1],E=Object(c.useState)({}),I=Object(i.a)(E,2),T=(I[0],I[1],Object(c.useState)([])),L=Object(i.a)(T,2),P=L[0],F=(L[1],Object(c.useState)(!1)),B=Object(i.a)(F,2),R=B[0],H=B[1],Y=Object(c.useState)(!1),U=Object(i.a)(Y,2),_=U[0],q=U[1],V=Object(c.useState)(new Date((new Date).getFullYear(),(new Date).getMonth(),1)),W=Object(i.a)(V,2),G=W[0],J=(W[1],Object(c.useState)(new Date((new Date).getFullYear(),(new Date).getMonth()+1,0))),K=Object(i.a)(J,2),X=(K[0],K[1],Object(c.useState)(!1)),Z=Object(i.a)(X,2),Q=Z[0],$=Z[1],ee=Object(c.useState)(""),te=Object(i.a)(ee,2),se=te[0],ce=te[1],ae=Object(c.useState)([]),ne=Object(i.a)(ae,2),re=ne[0],le=(ne[1],Object(c.useState)([])),ie=Object(i.a)(le,2),oe=ie[0],de=ie[1],je=Object(c.useState)(""),be=Object(i.a)(je,2),xe=be[0],me=be[1],ue=Object(c.useState)(""),he=Object(i.a)(ue,2),pe=he[0],Oe=he[1],fe=Object(c.useState)(!1),ve=Object(i.a)(fe,2),ge=ve[0],Ne=ve[1],we=Object(c.useState)(!0),ye=Object(i.a)(we,2),Se=ye[0],Ce=ye[1],ze=Object(c.useState)(!1),De=Object(i.a)(ze,2),Ae=De[0],Me=De[1],Ie=Object(c.useState)(!1),Te=Object(i.a)(Ie,2),Le=Te[0],Fe=Te[1],Be=Object(c.useState)({}),He=Object(i.a)(Be,2),Ye=He[0],Ue=He[1],_e=Object(c.useState)({}),qe=Object(i.a)(_e,2),Ve=qe[0],We=qe[1];Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t,s,c,n,r;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Me(!1),x(!0),e.next=4,y.get(g.default.path.users.getBenchWarmers);case 4:return(t=e.sent).err||M(t),e.next=8,y.get(g.default.path.users.getAll);case 8:return s=e.sent,c=[],s.forEach((function(e){var t={label:e.personalInfo.firstName+" "+e.personalInfo.lastName,value:e._id};c.push(t)})),de(s),e.next=14,y.get("".concat(g.default.path.users.getAllEmployees,"/current"));case 14:if((n=e.sent).err){e.next=18;break}return e.next=18,a(n);case 18:return e.next=20,y.get("".concat(g.default.path.clients.getClientHours,"/current"));case 20:(r=e.sent).length>=4?S(r.slice(0,4)):S(r),x(!1);case 23:case"end":return e.stop()}}),e)}))),[,pe]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Ge();case 1:case"end":return e.stop()}}),e)}))),[y]);var Ge=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),dispatch({type:"LOGOUT"}),navigateTo("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Je=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Fe(!1),Me(!1),Ce(!1);case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ke=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),$(!1),e.next=4,y.get("".concat(g.default.path.clients.getClientHoursFor,"/current"));case 4:(t=e.sent).length>=4?S(t.slice(0,4)):S(t),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Ze=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),$(!0),e.next=4,y.get("".concat(g.default.path.clients.getClientHoursFor,"/current"));case 4:t=e.sent,S(t),x(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Qe=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,y.get("".concat(g.default.path.users.getAllEmployees,"/current"));case 3:return(t=e.sent).err||a(t),e.next=7,y.get("".concat(g.default.path.clients.getClientHours,"/current"));case 7:(s=e.sent).length>=4?S(s.slice(0,4)):S(s),Je(),Ce(!0),x(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),$e=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,y.get("".concat(g.default.path.users.getAllEmployeesFor,"/").concat(Re()(0===re.length?new Date((new Date).getFullYear(),(new Date).getMonth(),1):re[0]).format("YYYY-MM-DD")," ").concat(Re()(0===re.length?new Date:re[1]).format("YYYY-MM-DD")));case 3:return(t=e.sent).err||o(t),e.next=7,y.get("".concat(g.default.path.clients.getClientHoursFor,"/").concat(Re()(0===re.length?new Date((new Date).getFullYear(),(new Date).getMonth(),1):re[0]).format("YYYY-MM-DD")," ").concat(Re()(0===re.length?new Date:re[1]).format("YYYY-MM-DD")));case 7:(s=e.sent).length>=4?S(s.slice(0,4)):S(s),Je(),Me(!0),x(!1);case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function et(){return(et=Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={user:Ve._id,number:P.length+1,parent:Ye.number},e.prev=1,e.next=4,y.post(g.default.path.organogram.addOrganogram,t,!0);case 4:s=e.sent,console.log("response",s),s.err?(Oe(s.message),Ne(!0)):(Oe(s.message),f(!0)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),Oe(e.t0.message),Ne(!0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}function tt(){return(tt=Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={user:Ve._id,parent:Ye.number},e.prev=1,e.next=4,y.patch(g.default.path.organogram.editOrganogram,t,!0);case 4:s=e.sent,console.log("response",s),s.err?(Oe(s.message),Ne(!0)):(Oe(s.message),f(!0)),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(1),Oe(e.t0.message),Ne(!0);case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}var st=function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){var s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return x(!0),e.next=3,y.get("".concat(g.default.path.users.getAllEmployeesFor,"/").concat(Re()(t[0]).format("YYYY-MM-DD")," ").concat(Re()(t[1]).format("YYYY-MM-DD")));case 3:return(s=e.sent).err||o(s),e.next=7,y.get("".concat(g.default.path.clients.getClientHoursFor,"/").concat(Re()(t[0]).format("YYYY-MM-DD")," ").concat(Re()(t[1]).format("YYYY-MM-DD")));case 7:(c=e.sent).length>=4?S(c.slice(0,4)):S(c),x(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(k.jsx)("div",{className:"flex h-screen overflow-hidden",children:Object(k.jsxs)("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:[Object(k.jsxs)("main",{children:[R&&Object(k.jsx)(cc,{id:se,changeState:function(){return H(!1)}}),_&&Object(k.jsx)(nc,{id:xe,changeState:function(){return q(!1)}}),b?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-5",children:[Object(k.jsx)("div",{className:"mb-4 sm:mb-0",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Overview"})}),Object(k.jsx)("div",{className:"grid grid-flow-col w-1/2 sm:auto-cols-max justify-start sm:justify-end gap-2",children:Ae&&Object(k.jsx)("div",{className:" flex",children:Object(k.jsx)(ke,{selected:G,handleChange:function(){var e=Object(u.a)(Object(m.a)().mark((function e(t){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.length>1&&void 0!==t[1]&&st(t);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()})})})]}),Object(k.jsx)("div",{className:"mb-4 border-b border-slate-200",children:Object(k.jsxs)("ul",{className:"text-sm font-medium flex flex-nowrap -mx-4 sm:-mx-6 lg:-mx-8 overflow-x-scroll no-scrollbar",children:[Object(k.jsx)("li",{className:"pb-3 mr-6 last:mr-0 first:pl-4 sm:first:pl-6 lg:first:pl-8 last:pr-4 sm:last:pr-6 lg:last:pr-8",children:Object(k.jsx)("div",{onClick:Qe,className:"".concat(!0===Se?"text-indigo-500":"text-slate-500"," whitespace-nowrap cursor-pointer"),children:"Current Month"})}),Object(k.jsx)("li",{className:"pb-3 mr-6 last:mr-0 first:pl-4 sm:first:pl-6 lg:first:pl-8 last:pr-4 sm:last:pr-6 lg:last:pr-8",children:Object(k.jsx)("div",{onClick:$e,className:"".concat(!0===Ae?"text-indigo-500":"text-slate-500"," whitespace-nowrap cursor-pointer"),children:"Historical"})})]})}),Le&&Object(k.jsx)("div",{children:Object(k.jsx)("table",{className:"table-auto border-spacing-y-2",children:Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"flex float-left",children:Object(k.jsxs)("select",{id:"businessRep",name:"businessRep",className:"form-select mt-2 mb-2",onChange:function(e){var t=e.target.selectedOptions[0].index-1;We(oe[t])},children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select a Employee"}),oe.map((function(e,t){return Object(k.jsxs)("option",{value:e,children:[" ",e.personalInfo.firstName," ",e.personalInfo.lastName]},t)}))]})})})," ",Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"w-5"})}),Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"align-center",children:"Reports to"})})," ",Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"w-5"})}),Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"flex float-left",children:Object(k.jsxs)("select",{id:"businessRep",name:"businessRep",className:"form-select mt-2 mb-2",onChange:function(e){var t=e.target.selectedOptions[0].index-1;Ue(P[t])},children:[Object(k.jsx)("option",{disabled:!0,selected:!0,value:!0,children:"Select a Manager"}),P.map((function(e,t){return Object(k.jsxs)("option",{value:e.obj,"data-index":t,children:[e.firstName," ",e.lastName]},t)}))]})})})," ",Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"w-5"})}),Object(k.jsx)("td",{children:Object(k.jsx)("button",{className:0!==Object.keys(Ye).length?"btn-sm bg-rose-500 text-white w-50 self-center my-5 flex float-left":"btn-sm bg-gray-400 text-black w-50 self-center my-5 flex float-left",onClick:function(e){e.stopPropagation(),function(){et.apply(this,arguments)}()},children:0!==Object.keys(Ye).length?"Add user to report to "+Ye.firstName:"Please select to add"})}),Object(k.jsx)("td",{children:Object(k.jsx)("div",{className:"w-5"})}),Object(k.jsx)("td",{children:Object(k.jsxs)("button",{className:0!==Object.keys(Ye).length?"btn-sm bg-rose-500 text-white w-50 self-center my-5 flex float-left":"btn-sm bg-gray-400 text-black w-50 self-center my-5 flex float-left",onClick:function(e){e.stopPropagation(),function(){tt.apply(this,arguments)}()},children:[" ",0!==Object.keys(Ye).length?"Reassign user to "+Ye.firstName:"Please select to add"]})})]})})}),Le&&Object(k.jsx)("div",{className:"flex justify",children:Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(oc,{setUserId:me,setShowBenchModal:q,organogramData:P,options:{width:600,height:300,zoom:.2}})})}),Object(k.jsxs)("div",{className:"grid grid-cols-12 gap-6",children:[Se&&Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(Pe,{data:s&&s[1]}),Object(k.jsx)(tc,{data:s&&s[2]})]}),Ae&&Object(k.jsx)($s,{data:l}),!Le&&Object(k.jsxs)("div",{className:"mb-4 sm:mb-0 col-span-full flex items-center",children:[Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold mr-3",children:"Top Clients"}),Object(k.jsx)("span",{className:"text-blue-600 text-sm cursor-pointer",onClick:Q?Ke:Ze,children:Q?"collapse":"view all"})]}),!Le&&w&&!b&&w.map((function(e,t){return Object(k.jsx)(sc,{client:e,onClick:function(){return function(e){ce(e),H(!0)}(e._id)}},t)})),!Le&&Object(k.jsx)("div",{className:"mb-4 sm:mb-0 col-span-full flex items-center",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold mr-3",children:"Bench Warmers"})}),!Le&&w&&!b&&D.map((function(e,t){return Object(k.jsx)(ac,{user:e,imageURL:"none"!==e.profilePictureKey&&""!==e.profilePictureKey?"".concat(g.default.url).concat(g.default.path.s3.getFile,"/").concat(e.profilePictureKey):zt,onClick:function(){return function(e){me(e),q(!0)}(e._id)}},t)}))]})]})]}),Object(k.jsx)(Xe,{id:"success-modal",modalOpen:O,setModalOpen:f,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:"Organogram updated"})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),f(!1)},children:"Ok"})})]})]})}),Object(k.jsx)(qt,{id:"error-modal",modalOpen:ge,setModalOpen:Ne,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:pe})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){Ne(!1)},children:"Okay"})})]})]})})]})})},jc=s(146);var bc=function(e){var t=e.recruit;return Object(k.jsxs)("div",{className:"shadow-lg rounded-sm border border-slate-400 p-4 bg-zinc-200",children:[Object(k.jsxs)("div",{className:"mb-3 flex items-center justify-between bg-zinc-200",children:[Object(k.jsxs)("div",{className:"flex items-center",children:[Object(k.jsx)("h2",{className:"font-semibold text-slate-800 mb-1",children:t.name}),"Not submitted"!==t.repository&&Object(k.jsx)("span",{className:"text-green-600 ml-2",children:Object(k.jsx)(jc.a,{})})]}),Object(k.jsx)("div",{className:"border border-slate-400 bg-white hover:border-slate-300 mx-0 p-3 ml-2 rounded-md",style:{width:"80px"},children:Object(k.jsxs)("a",{href:"".concat(g.default.url,"/upload/").concat(t.cv),target:"_blank",className:"flex items-center h-3",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:"https://i.ibb.co/RpYzvq6/pdf-icon.png",style:{width:"20px",height:"20px",color:"rgb(113 113 122)",margin:"auto"}})}),Object(k.jsx)("div",{className:"my-2 ml-3 py-2 text-sm font-bold",children:"CV"})]})})]}),Object(k.jsxs)("div",{className:"flex items-center justify-between",children:[Object(k.jsx)("div",{className:"flex items-center",children:Object(k.jsx)("div",{className:"".concat("senior"===t.seniority?"text-green-500 bg-green-100 border border-slate-400":"intermediate"===t.seniority?"text-orange-400 bg-orange-100 border border-slate-300":"text-rose-500 bg-rose-100 border border-slate-300"," inline-flex text-sm rounded-full text-center px-2.5 py-0.5"),children:t.seniority.charAt(0).toUpperCase()+t.seniority.slice(1)})}),Object(k.jsx)("div",{className:"flex items-center text-xs",children:function(e){var s=new Date(e),c=s.getMonth(),a="".concat(s.getDate()),n=s.getFullYear();1===a.length&&(a="0".concat(a)),console.log(t);return"".concat(a," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][c]," ").concat(n)}(t.createdAt)})]})]})},xc=function(e){var t=e.showModal,s=e.changeValue;return Object(k.jsx)("div",{className:"absolute top-0 left-0 w-full h-full flex items-center justify-center z-20 pb-5",children:Object(k.jsx)("div",{className:"w-full mx-3 px-3",children:Object(k.jsxs)("div",{className:"flex flex-col p-5 rounded-lg shadow-lg bg-slate-100",children:[Object(k.jsxs)("div",{className:"flex flex-col items-center text-center",children:[Object(k.jsx)("div",{className:"inline-block p-4 bg-yellow-50 rounded-full",children:Object(k.jsxs)("svg",{className:"w-12 h-12 fill-current text-red-500",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[Object(k.jsx)("path",{d:"M0 0h24v24H0V0z",fill:"none"}),Object(k.jsx)("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"})]})}),Object(k.jsx)("h2",{className:"mt-2 font-semibold text-gray-800",children:"Are you sure?"}),Object(k.jsx)("p",{className:"mt-2 text-sm text-gray-600 leading-relaxed",children:"You are about to change the stage of this recruit."})]}),Object(k.jsxs)("div",{className:"flex items-center mt-3",children:[Object(k.jsx)("button",{className:"flex-1 px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-800 text-sm font-medium rounded-md",onClick:t,children:"Cancel"}),Object(k.jsx)("button",{className:"flex-1 px-4 py-2 ml-2 bg-red-500 hover:bg-red-600 text-white text-sm font-medium rounded-md",onClick:s,children:"Yes"})]})]})})})},mc=function(e){var t=e.showConfirmBox,s=e.changeState,c=e.devRecruitData,a=e.stageColor,n=e.stage;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8 py-3 border-b border-slate-200",children:[Object(k.jsx)("div",{className:"mb-4 sm:mb-0",children:Object(k.jsxs)("select",{className:"pl-3 rounded-lg font-medium border-0 ".concat(a(n)),style:{boxShadow:"none"},value:n,onChange:t,children:[Object(k.jsx)("option",{value:"Review",children:"Review"}),Object(k.jsx)("option",{value:"1st Interview",children:"1st Interview"}),Object(k.jsx)("option",{value:"Stefan Interview",children:"Stefan Interview"}),Object(k.jsx)("option",{value:"Accepted",children:"Accepted"}),Object(k.jsx)("option",{value:"Dear John",children:"Dear John"})]})}),Object(k.jsx)("div",{className:"grid grid-flow-col sm:auto-row-max justify-start sm:justify-end gap-2",children:Object(k.jsxs)("button",{className:"text-slate-400 cursor-pointer hover:text-slate-500",onClick:s,children:[Object(k.jsx)("div",{className:"sr-only",children:"Close"}),Object(k.jsx)("svg",{className:"w-4 h-4 fill-current Icon CloseIcon",children:Object(k.jsx)("path",{d:"M7.95 6.536l4.242-4.243a1 1 0 111.415 1.414L9.364 7.95l4.243 4.242a1 1 0 11-1.415 1.415L7.95 9.364l-4.243 4.243a1 1 0 01-1.414-1.415L6.536 7.95 2.293 3.707a1 1 0 011.414-1.414L7.95 6.536z"})})]})})]}),Object(k.jsx)("div",{className:"flex justify-between mt-5 pl-3 pb-3",children:Object(k.jsx)("h1",{className:"text-3xl font-bold",children:c.name})}),Object(k.jsx)("table",{class:"table-auto",children:Object(k.jsxs)("tbody",{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-2 text-xs",children:"Email:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:Object(k.jsx)("a",{href:"mailto:".concat(c.email),children:c.email})})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-2 text-xs",children:"Seniority:"}),Object(k.jsx)("td",{className:"px-5",children:Object(k.jsx)("div",{className:"".concat("senior"===c.seniority?"text-green-500 bg-green-100":"intermediate"===c.seniority?"text-orange-400 bg-orange-100":"text-rose-500 bg-rose-100"," inline-flex text-sm rounded-full text-center px-2.5 py-0.5"),children:c.seniority.charAt(0).toUpperCase()+c.seniority.slice(1)})})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-2 text-xs",children:"Experience:"}),Object(k.jsxs)("td",{className:"px-5 text-sm",children:[c.experience," Years"]})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-2 text-xs",children:"Salary Expectation:"}),Object(k.jsx)("td",{className:"px-5 text-sm",children:c.salary})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-2 text-xs",children:"Available From:"}),Object(k.jsx)("td",{className:"px-5 text-sm",children:c.availableFrom})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-2 text-xs",children:"Aptitude Score:"}),Object(k.jsxs)("td",{className:"px-5 text-sm",children:[c.aptitudeScore,"/5"]})]}),Object(k.jsxs)("tr",{children:[Object(k.jsxs)("td",{className:"px-3 py-2 text-xs flex items-center",children:["GitHub Repo","Not submitted"!==c.repository&&Object(k.jsx)("span",{className:"text-green-600 ml-2",children:Object(k.jsx)(jc.a,{})})]}),Object(k.jsx)("td",{className:"px-5 text-sm",children:"Not submitted"===c.repository?Object(k.jsx)("span",{children:c.repository}):Object(k.jsx)("a",{href:c.repository,target:"_blank",children:c.repository})})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-2 text-xs",children:"Date Applied:"}),Object(k.jsx)("td",{className:"px-5 text-sm",children:function(e){var t=new Date(e),s=t.getMonth(),c="".concat(t.getDate()),a=t.getFullYear();1===c.length&&(c="0".concat(c));return"".concat(c," ").concat(["January","February","March","April","May","June","July","August","September","October","November","December"][s]," ").concat(a)}(c.createdAt)})]})]})}),Object(k.jsxs)("div",{className:"mx-0 mt-3 py-2 w-full border border-slate-200 hover:border-slate-300 rounded-md",children:[Object(k.jsx)("div",{className:"px-3 font-semibold text-sm",children:"Reason for Applying:"}),Object(k.jsx)("div",{className:"px-3 mb-6 text-sm",children:c.reasonForApplying}),Object(k.jsx)("div",{className:"px-3 font-semibold text-sm",children:"Hardest Ever Worked:"}),Object(k.jsx)("div",{className:"px-3 mb-6 text-sm",children:c.hardestWorked})]}),Object(k.jsx)("div",{class:"border border-slate-200 hover:border-slate-300 mx-0 my-6 p-3 rounded-md",style:{width:"150px"},children:Object(k.jsxs)("a",{href:"".concat(g.default.url,"/upload/").concat(c.cv),target:"_blank",className:"flex items-center h-10",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:"https://i.ibb.co/RpYzvq6/pdf-icon.png",style:{width:"40px",height:"40px",color:"rgb(113 113 122)",margin:"auto"}})}),Object(k.jsx)("div",{className:"my-2 ml-3 py-2 text-sm",children:"Open CV"})]})})]})},uc=function(e){var t=e.showConfirmBox,s=e.changeState,c=e.devRecruitData,a=e.stageColor,n=e.stage;return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8 py-3 border-b border-slate-200",children:[Object(k.jsx)("div",{className:"mb-4 sm:mb-0",children:Object(k.jsxs)("select",{className:"pl-3 rounded-lg font-medium border-0 ".concat(a(n)),style:{boxShadow:"none"},value:n,onChange:t,children:[Object(k.jsx)("option",{value:"Review",children:"Review"}),Object(k.jsx)("option",{value:"1st Interview",children:"1st Interview"}),Object(k.jsx)("option",{value:"2nd Interview",children:"2nd Interview"}),Object(k.jsx)("option",{value:"Technical Test",children:"Technical Test"}),Object(k.jsx)("option",{value:"Accepted",children:"Accepted"}),Object(k.jsx)("option",{value:"Dear John",children:"Dear John"})]})}),Object(k.jsx)("div",{className:"grid grid-flow-col sm:auto-row-max justify-start sm:justify-end gap-2",children:Object(k.jsxs)("button",{className:"text-slate-400 cursor-pointer hover:text-slate-500",onClick:s,children:[Object(k.jsx)("div",{className:"sr-only",children:"Close"}),Object(k.jsx)("svg",{className:"w-4 h-4 fill-current Icon CloseIcon",children:Object(k.jsx)("path",{d:"M7.95 6.536l4.242-4.243a1 1 0 111.415 1.414L9.364 7.95l4.243 4.242a1 1 0 11-1.415 1.415L7.95 9.364l-4.243 4.243a1 1 0 01-1.414-1.415L6.536 7.95 2.293 3.707a1 1 0 011.414-1.414L7.95 6.536z"})})]})})]}),Object(k.jsx)("div",{className:"flex justify-between mt-5 pl-3 pb-3",children:Object(k.jsx)("h1",{className:"text-3xl font-bold",children:c.name})}),Object(k.jsx)("table",{class:"table-auto",children:Object(k.jsxs)("tbody",{children:[Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-2 text-xs",children:"Email:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:Object(k.jsx)("a",{href:"mailto:".concat(c.email),children:c.email})})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-3 text-xs",children:"Cell:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:c.cell})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-3 text-xs",children:"DOB:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:c.dob})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-3 text-xs",children:"Nationality:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:c.nationality})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-3 text-xs",children:"Gender:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:c.gender.charAt(0).toUpperCase()+c.gender.slice(1)})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-3 text-xs",children:"Currently Employed:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:c.currentlyEmployed.charAt(0).toUpperCase()+c.currentlyEmployed.slice(1)})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-3 text-xs",children:"Disability:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:c.disability.charAt(0).toUpperCase()+c.disability.slice(1)})]}),"yes"===c.disability&&Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-3 text-xs",children:"Disability Type:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:c.disabilityType.charAt(0).toUpperCase()+c.disabilityType.slice(1)})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-3 text-xs",children:"Reffered:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:c.reffered.charAt(0).toUpperCase()+c.reffered.slice(1)})]}),"yes"===c.reffered&&Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-3 text-xs",children:"Reffered By:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:c.refferedBy.charAt(0).toUpperCase()+c.refferedBy.slice(1)})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-3 text-xs",children:"Highest Qualification:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:c.highestQualification})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-3 text-xs",children:"Institution:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:c.highestQualificationInstitution})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-3 text-xs",children:"Interview Location:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:c.interviewLocation.charAt(0).toUpperCase()+c.interviewLocation.slice(1)})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-3 text-xs",children:"Current Residence:"}),Object(k.jsx)("td",{className:"px-5 text-sm text-zinc-600",children:c.currentAreaOfResidence.charAt(0).toUpperCase()+c.currentAreaOfResidence.slice(1)})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-2 text-xs",children:"Seniority:"}),Object(k.jsx)("td",{className:"px-5",children:Object(k.jsx)("div",{className:"inline-flex text-sm rounded-full text-center px-2.5 py-0.5",style:{backgroundColor:"rgb(255 237 213)",color:"rgb(234 88 12)"},children:c.seniority.charAt(0).toUpperCase()+c.seniority.slice(1)})})]}),Object(k.jsxs)("tr",{children:[Object(k.jsx)("td",{className:"px-3 py-2 text-xs",children:"Experience:"}),Object(k.jsxs)("td",{className:"px-5 text-sm",children:[c.experience," Years"]})]})]})}),Object(k.jsx)("div",{class:"border border-slate-200 hover:border-slate-300 mx-0 my-6 p-3 rounded-md",style:{width:"150px"},children:Object(k.jsxs)("a",{href:"".concat(g.default.url,"/upload/").concat(c.cv),target:"_blank",className:"flex items-center h-10",children:[Object(k.jsx)("div",{children:Object(k.jsx)("img",{src:"https://i.ibb.co/RpYzvq6/pdf-icon.png",style:{width:"40px",height:"40px",color:"rgb(113 113 122)",margin:"auto"}})}),Object(k.jsx)("div",{className:"my-2 ml-3 py-2 text-sm",children:"Open CV"})]})})]})},hc=function(e){var t=e.id,s=e.changeState,a=e.type,n=e.changeStage,r=Object(c.useState)(!0),l=Object(i.a)(r,2),o=l[0],d=l[1],j=Object(c.useState)({}),b=Object(i.a)(j,2),x=b[0],h=b[1],p=Object(c.useState)(""),O=Object(i.a)(p,2),f=O[0],v=O[1],N=Object(c.useState)(""),w=Object(i.a)(N,2),S=w[0],C=w[1],z=Object(c.useState)(!1),D=Object(i.a)(z,2),A=D[0],M=D[1],E=function(e){switch(e){case"Review":return"text-orange-400 bg-orange-100";case"1st Interview":return"text-yellow-500 bg-yellow-100";case"Technical Test":return"text-lime-500 bg-lime-100";case"Stefan Interview":return"text-green-500 bg-green-100";case"Accepted":return"text-teal-500 bg-teal-100";case"Dear John":return"text-rose-500 bg-rose-100";default:return""}};Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var s,c;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(d(!0),"dev"!==a){e.next=8;break}return e.next=4,y.post(g.default.path.recruitment.getDevDetails,{id:t},!0);case 4:(s=e.sent).err||(h(s),v(s.stage)),e.next=13;break;case 8:if("consultants"!==a){e.next=13;break}return e.next=11,y.post(g.default.path.recruitment.getConsultantDetails,{id:t},!0);case 11:(c=e.sent).err||(h(c),v(c.stage));case 13:d(!1);case 14:case"end":return e.stop()}}),e)}))),[t]);var I=function(e){M(!0),C(e)},T=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:M(!1),e.t0=S,e.next="1st Interview"===e.t0?4:"2nd Interview"===e.t0?18:"Technical Test"===e.t0?31:"Stefan Interview"===e.t0?41:"Accepted"===e.t0?55:"Dear John"===e.t0?69:83;break;case 4:return d(!0),e.next=7,y.post(g.default.path.recruitment.changeStage,{id:t,stage:S,type:a},!0);case 7:if(v(S),n(S),"consultants"!==a){e.next=14;break}return e.next=12,y.post(g.default.path.recruitment.sendConsultantEmail,{email:x.email,name:x.name,stage:S},!0);case 12:e.next=16;break;case 14:return e.next=16,y.post(g.default.path.recruitment.sendDevEmail,{email:x.email,name:x.name,stage:S},!0);case 16:return d(!1),e.abrupt("break",84);case 18:return d(!0),e.next=21,y.post(g.default.path.recruitment.changeStage,{id:t,stage:S,type:a},!0);case 21:if(v(S),n(S),"consultants"!==a){e.next=29;break}return e.next=26,y.post(g.default.path.recruitment.sendConsultantEmail,{email:x.email,name:x.name,stage:S},!0);case 26:d(!1),e.next=30;break;case 29:d(!1);case 30:return e.abrupt("break",84);case 31:return d(!0),e.next=34,y.post(g.default.path.recruitment.changeStage,{id:t,stage:S,type:a},!0);case 34:if(v(S),n(S),"consultants"!==a){e.next=39;break}return e.next=39,y.post(g.default.path.recruitment.sendConsultantEmail,{email:x.email,name:x.name,stage:S},!0);case 39:return d(!1),e.abrupt("break",84);case 41:return d(!0),e.next=44,y.post(g.default.path.recruitment.changeStage,{id:t,stage:S,type:a},!0);case 44:if(v(S),n(S),"consultants"!==a){e.next=51;break}return e.next=49,y.post(g.default.path.recruitment.sendConsultantEmail,{email:x.email,name:x.name,stage:S},!0);case 49:e.next=53;break;case 51:return e.next=53,y.post(g.default.path.recruitment.sendDevEmail,{email:x.email,name:x.name,stage:S},!0);case 53:return d(!1),e.abrupt("break",84);case 55:return d(!0),e.next=58,y.post(g.default.path.recruitment.changeStage,{id:t,stage:S,type:a},!0);case 58:if(v(S),n(S),"consultants"!==a){e.next=65;break}return e.next=63,y.post(g.default.path.recruitment.sendConsultantEmail,{email:x.email,name:x.name,stage:S},!0);case 63:e.next=67;break;case 65:return e.next=67,y.post(g.default.path.recruitment.sendDevEmail,{email:x.email,name:x.name,stage:S},!0);case 67:return d(!1),e.abrupt("break",84);case 69:return d(!0),e.next=72,y.post(g.default.path.recruitment.changeStage,{id:t,stage:S,type:a},!0);case 72:if(v(S),n(S),"consultants"!==a){e.next=79;break}return e.next=77,y.post(g.default.path.recruitment.sendConsultantEmail,{email:x.email,name:x.name,stage:S},!0);case 77:e.next=81;break;case 79:return e.next=81,y.post(g.default.path.recruitment.sendDevEmail,{email:x.email,name:x.name,stage:S},!0);case 81:return d(!1),e.abrupt("break",84);case 83:return e.abrupt("break",84);case 84:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)("div",{className:"fixed right-0 bg-white shadow-lg px-6 h-screen overflow-auto",style:{width:"30vw",paddingBottom:"80px"},children:[A&&Object(k.jsx)(xc,{showModal:function(){return M(!1)},changeValue:T}),o?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsx)(k.Fragment,{children:"dev"===a?Object(k.jsx)(mc,{devRecruitData:x,changeState:function(){return s(!1)},showConfirmBox:function(e){return I(e.target.value)},stageColor:E,stage:f}):Object(k.jsx)(uc,{devRecruitData:x,changeState:function(){return s(!1)},showConfirmBox:function(e){return I(e.target.value)},stageColor:E,stage:f})})]})};var pc=function(e){var t=e.children,s=e.title;return Object(k.jsx)("div",{className:"col-span-full sm:col-span-6 xl:col-span-3",children:Object(k.jsxs)("header",{children:[Object(k.jsx)("div",{className:"flex items-center justify-between mb-2",children:Object(k.jsx)("h2",{className:"grow font-semibold text-slate-800 truncate",children:s})}),Object(k.jsx)("div",{className:"grid gap-2",children:t})]})})};var Oc=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),s=t[0],n=t[1],r=Object(c.useState)(!0),l=Object(i.a)(r,2),o=l[0],j=l[1],b=Object(c.useState)([]),x=Object(i.a)(b,2),h=x[0],p=x[1],O=a.a.useContext(Jc).dispatch,f=Object(d.l)(),v=Object(c.useState)("dev"),N=Object(i.a)(v,2),w=N[0],S=N[1],C=Object(c.useState)(!1),z=Object(i.a)(C,2),D=z[0],M=z[1],E=Object(c.useState)(""),I=Object(i.a)(E,2),T=I[0],L=I[1],P=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),O({type:"LOGOUT"}),f("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j(!0),"dev"!==w){e.next=8;break}return e.next=4,y.get(g.default.path.recruitment.getAllDevRecruits);case 4:(t=e.sent).err||p(t),e.next=13;break;case 8:if("consultant"!==w){e.next=13;break}return e.next=11,y.get(g.default.path.recruitment.getAllConsultantRecruits);case 11:(s=e.sent).err||p(s);case 13:j(!1),""!==T&&L("");case 15:case"end":return e.stop()}}),e)}))),[T]),Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P();case 1:case"end":return e.stop()}}),e)}))),[y]);var F=function(e){M(!0),n(e)},B=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("dev"),j(!0),e.next=4,y.get(g.default.path.recruitment.getAllDevRecruits);case 4:(t=e.sent).err||p(t),j(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),R=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return S("consultants"),j(!0),e.next=4,y.get(g.default.path.recruitment.getAllConsultantRecruits);case 4:(t=e.sent).err||p(t),j(!1);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(k.jsxs)("main",{children:[D&&Object(k.jsx)(hc,{id:s,type:w,changeState:M,changeStage:L}),o?Object(k.jsx)("div",{children:Object(k.jsx)(Ee,{})}):Object(k.jsxs)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 w-full max-w-9xl mx-auto",children:[Object(k.jsxs)("div",{className:"sm:flex sm:justify-between sm:items-center mb-8",children:[Object(k.jsx)("div",{className:"mb-4 sm:mb-0",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"dev"===w?"Developer Recruitment":"Consultant Recruitment"})}),Object(k.jsx)("div",{className:"grid grid-flow-col sm:auto-cols-max justify-start sm:justify-end gap-2"})]}),Object(k.jsx)("div",{className:"mb-4 border-b border-slate-200",children:Object(k.jsxs)("ul",{className:"text-sm font-medium flex flex-nowrap -mx-4 sm:-mx-6 lg:-mx-8 overflow-x-scroll no-scrollbar",children:[Object(k.jsx)("li",{className:"pb-3 mr-6 last:mr-0 first:pl-4 sm:first:pl-6 lg:first:pl-8 last:pr-4 sm:last:pr-6 lg:last:pr-8",children:Object(k.jsx)("div",{onClick:B,className:"".concat("dev"===w?"text-indigo-500":"text-slate-500"," whitespace-nowrap cursor-pointer"),children:"Developers"})}),Object(k.jsx)("li",{className:"pb-3 mr-6 last:mr-0 first:pl-4 sm:first:pl-6 lg:first:pl-8 last:pr-4 sm:last:pr-6 lg:last:pr-8",children:Object(k.jsx)("div",{onClick:R,className:"".concat("consultants"===w?"text-indigo-500":"text-slate-500"," whitespace-nowrap cursor-pointer"),children:"Consultants"})})]})}),Object(k.jsxs)("div",{className:"grid grid-cols-12 gap-x-4 gap-y-8",children:[Object(k.jsx)(pc,{title:"Review",children:h.map((function(e,t){if("Review"===e.stage)return Object(k.jsx)("div",{className:"cursor-pointer",onClick:function(){return F(e._id)},children:Object(k.jsx)(bc,{recruit:e})},t)}))}),Object(k.jsx)(pc,{title:"1st Interview",children:h.map((function(e,t){if("1st Interview"===e.stage)return Object(k.jsx)("div",{className:"cursor-pointer",onClick:function(){return F(e._id)},children:Object(k.jsx)(bc,{recruit:e},t)},t)}))}),"consultants"===w&&Object(k.jsx)(pc,{title:"2nd Interview",children:h.map((function(e,t){if("2nd Interview"===e.stage)return Object(k.jsx)("div",{className:"cursor-pointer",onClick:function(){return F(e._id)},children:Object(k.jsx)(bc,{recruit:e},t)},t)}))}),"consultants"===w&&Object(k.jsx)(pc,{title:"Technical Test",children:h.map((function(e,t){if("Technical Test"===e.stage)return Object(k.jsx)("div",{className:"cursor-pointer",onClick:function(){return F(e._id)},children:Object(k.jsx)(bc,{recruit:e},t)},t)}))}),"dev"===w&&Object(k.jsx)(pc,{title:"Stefan Interview",children:h.map((function(e,t){if("Stefan Interview"===e.stage)return Object(k.jsx)("div",{className:"cursor-pointer",onClick:function(){return F(e._id)},children:Object(k.jsx)(bc,{recruit:e},t)},t)}))}),Object(k.jsx)(pc,{title:"Accepted",children:h.map((function(e,t){if("Accepted"===e.stage)return Object(k.jsx)("div",{className:"cursor-pointer",onClick:function(){return F(e._id)},children:Object(k.jsx)(bc,{recruit:e},t)},t)}))}),Object(k.jsx)(pc,{title:"Dear John",children:h.map((function(e,t){if("Dear John"===e.stage)return Object(k.jsx)("div",{className:"cursor-pointer",onClick:function(){return F(e._id)},children:Object(k.jsx)(bc,{recruit:e},t)},t)}))})]})]})]})},fc=s(458),vc=s(452),gc=s(459),Nc=s(460),wc=s(461),yc=s(462),kc=s(463);function Sc(e){function t(t){return""===e.searchTerm?t:t.filter((function(t){return t.user.personalInfo.firstName.toLowerCase().includes(e.searchTerm.toLowerCase())||t.user.personalInfo.lastName.toLowerCase().includes(e.searchTerm.toLowerCase())||t.vehicleRange.toLowerCase().includes(e.searchTerm.toLowerCase())||t.privateKilos.toLowerCase().includes(e.searchTerm.toLowerCase())||t.businessKilos.toLowerCase().includes(e.searchTerm.toLowerCase())||t.totalMonthlyKilos.toLowerCase().includes(e.searchTerm.toLowerCase())||t.totalAnnualKilos.toLowerCase().includes(e.searchTerm.toLowerCase())?t:void 0}))}return Object(k.jsx)(_s.a,{children:t(e.forms).length>0?Object(k.jsx)(fc.a,{component:vc.a,className:"mt-5",children:Object(k.jsxs)(gc.a,{sx:{minWidth:650},"aria-label":"TaTable",children:[Object(k.jsx)(Nc.a,{children:Object(k.jsxs)(wc.a,{children:[Object(k.jsx)(yc.a,{align:"left",children:"Date submitted"}),Object(k.jsx)(yc.a,{align:"left",children:"User"}),Object(k.jsx)(yc.a,{align:"left",children:"Vehicle Price"}),Object(k.jsx)(yc.a,{align:"left",children:"Estimated Private (Km)"}),Object(k.jsx)(yc.a,{align:"left",children:"Estimated Business (Km)"}),Object(k.jsx)(yc.a,{align:"left",children:"Estimated Monthly (Km)"}),Object(k.jsx)(yc.a,{align:"left",children:"Estimated Annual (Km)"}),Object(k.jsx)(yc.a,{align:"left",children:"Approval"})]})}),Object(k.jsx)(kc.a,{children:t(e.forms).map((function(t){return Object(k.jsxs)(wc.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(k.jsx)(yc.a,{align:"left",children:new Date(t.created).toDateString()}),Object(k.jsx)(yc.a,{align:"left",children:t.user}),Object(k.jsx)(yc.a,{align:"left",children:t.vehicleRange}),Object(k.jsx)(yc.a,{align:"left",children:t.privateKilos}),Object(k.jsx)(yc.a,{align:"left",children:t.businessKilos}),Object(k.jsx)(yc.a,{align:"left",children:t.totalMonthlyKilos}),Object(k.jsx)(yc.a,{align:"left",children:t.totalAnnualKilos}),Object(k.jsx)(yc.a,{align:"center",children:"pending"===t.approval?Object(k.jsxs)("div",{className:"flex justify-between",children:[Object(k.jsx)("button",{id:t._id,className:"mt-3 btn bg-emerald-500 hover:bg-emerald-600 text-white mr-3",onClick:function(t){return e.handleApproval(t,"Ta","approved")},children:"Approve"}),Object(k.jsx)("button",{id:t._id,className:"mt-3 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:function(t){return e.handleApproval(t,"Ta","declined")},children:"Decline"})]}):"declined"===t.approval?Object(k.jsx)("p",{className:"flex text-rose-500 justify-center",children:t.approval}):Object(k.jsx)("p",{className:"flex text-emerald-500 justify-center",children:t.approval})})]},t._id)}))})]})}):Object(k.jsx)("div",{className:"mt-5 flex justify-center text-zinc-400 text-xl",children:Object(k.jsx)("h1",{children:"No Forms Found"})})})}function Cc(e){var t=Object(c.useState)(!1),s=Object(i.a)(t,2),a=s[0],n=s[1],r=Object(c.useState)(""),l=Object(i.a)(r,2),o=l[0],d=l[1],j=Object(c.useState)(!1),b=Object(i.a)(j,2),x=b[0],h=b[1],p=Object(c.useState)(""),O=Object(i.a)(p,2),f=O[0],v=O[1];function N(t){return""===e.searchTerm?t:t.filter((function(t){return t.user.personalInfo.firstName.toLowerCase().includes(e.searchTerm.toLowerCase())||t.user.personalInfo.lastName.toLowerCase().includes(e.searchTerm.toLowerCase())||t.amount.toLowerCase().includes(e.searchTerm.toLowerCase())||t.vat.toLowerCase().includes(e.searchTerm.toLowerCase())||t.reason.toLowerCase().includes(e.searchTerm.toLowerCase())?t:void 0}))}function w(){return(w=Object(u.a)(Object(m.a)().mark((function t(s){var c,a,r,l,i,o;return Object(m.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e.setLoading(!0),l={_id:"",fileName:"",fileKey:""},i=e.forms.findIndex((function(e){return e._id===s.substring(0,24)})),o=e.forms.find((function(e){return e._id===s.substring(0,24)})).fileKeys.findIndex((function(e){return e._id===s.substring(25,s.length)})),l=e.forms[i].fileKeys[o],r=l.fileName.substring(l.fileName.lastIndexOf("."),l.fileName.length),console.log(r),".pdf"===r){t.next=20;break}return e.setLoading(!1),a="".concat(g.default.url,"/").concat(g.default.path.s3.getFile,"/").concat(l.fileKey),t.next=13,fetch(a);case 13:return t.next=15,t.sent.blob();case 15:c=t.sent,v({file:l,url:window.URL.createObjectURL(c)}),h(!0),t.next=22;break;case 20:e.setLoading(!1),window.open("".concat(g.default.url,"/").concat(g.default.path.s3.getFile,"/").concat(l.fileKey));case 22:t.next=30;break;case 24:t.prev=24,t.t0=t.catch(0),e.setLoading(!1),d(t.t0),n(!0),console.log(t.t0);case 30:case"end":return t.stop()}}),t,null,[[0,24]])})))).apply(this,arguments)}return Object(k.jsxs)(_s.a,{children:[Object(k.jsx)(qt,{id:"error-modal",modalOpen:a,setModalOpen:n,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:o})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return n(!1)},children:"Okay"})})]})]})}),Object(k.jsxs)(qt,{id:"file-modal",modalOpen:x,setModalOpen:h,children:[Object(k.jsx)("div",{className:"p-3",children:Object(k.jsx)("img",{src:f.url,alt:"Image"})}),Object(k.jsxs)("div",{className:"flex justify-end p-3",children:[Object(k.jsx)("button",{className:"btn bg-rose-500 hover:bg-rose-600 text-white mr-2",onClick:function(){var e;(e=document.createElement("a")).href=f.url,e.setAttribute("download",f.file.fileName),e.click()},children:"Download"}),Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),h(!1)},children:"Close"})]})]}),Object(k.jsx)(k.Fragment,{children:N(e.forms).length>0?Object(k.jsx)(fc.a,{component:vc.a,className:"mt-5",children:Object(k.jsxs)(gc.a,{sx:{minWidth:650},"aria-label":"TaTable",children:[Object(k.jsx)(Nc.a,{children:Object(k.jsxs)(wc.a,{children:[Object(k.jsx)(yc.a,{align:"left",children:"Date Submitted"}),Object(k.jsx)(yc.a,{align:"left",children:"User"}),Object(k.jsx)(yc.a,{align:"left",children:"Amount"}),Object(k.jsx)(yc.a,{align:"left",children:"Date of transaction"}),Object(k.jsx)(yc.a,{align:"left",children:"Vat"}),Object(k.jsx)(yc.a,{align:"left",children:"Reason"}),Object(k.jsx)(yc.a,{align:"left",children:"Attachment"}),Object(k.jsx)(yc.a,{align:"center",children:"Approval"})]})}),Object(k.jsx)(kc.a,{children:N(e.forms).map((function(t){return Object(k.jsxs)(wc.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(k.jsx)(yc.a,{align:"left",children:new Date(t.created).toDateString()}),Object(k.jsx)(yc.a,{align:"left",children:t.user}),Object(k.jsx)(yc.a,{align:"left",children:t.amount}),Object(k.jsx)(yc.a,{align:"left",children:new Date(t.transactionDate).toLocaleDateString()}),Object(k.jsx)(yc.a,{align:"left",children:t.vat}),Object(k.jsx)(yc.a,{align:"left",children:t.reason}),Object(k.jsx)(yc.a,{align:"left",children:t.fileKeys&&t.fileKeys.map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("div",{children:Object(k.jsx)("div",{class:"border border-slate-200 hover:border-slate-300 mx-0 p-3 ml-2 mb-2 rounded-md",style:{width:"80px"},children:Object(k.jsxs)("button",{id:"".concat(t._id," ").concat(e._id),className:"flex items-center h-3",onClick:function(e){return function(e){return w.apply(this,arguments)}(e.currentTarget.id)},children:[Object(k.jsx)("div",{children:Object(k.jsx)("svg",{className:"shrink-0 h-4 w-4",viewBox:"0 0 24 24","fill-rule":"evenodd","clip-rule":"evenodd",children:Object(k.jsx)("path",{d:"M22 24h-20v-24h14l6 6v18zm-7-23h-12v22h18v-16h-6v-6zm3 15v1h-12v-1h12zm0-3v1h-12v-1h12zm0-3v1h-12v-1h12zm-2-4h4.586l-4.586-4.586v4.586z"})})}),Object(k.jsx)("div",{className:"my-2 ml-3 py-2 text-sm font-bold",children:"File"})]})})})})}))}),Object(k.jsx)(yc.a,{align:"left",children:"pending"===t.approval?Object(k.jsxs)("div",{className:"flex justify-center",children:[Object(k.jsx)("button",{id:t._id,className:"mt-3 btn bg-emerald-500 hover:bg-emerald-600 text-white mr-3",onClick:function(t){return e.handleApproval(t,"Er","approved")},children:"Approve"}),Object(k.jsx)("button",{id:t._id,className:"mt-3 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:function(t){return e.handleApproval(t,"Er","declined")},children:"Decline"})]}):"declined"===t.approval?Object(k.jsx)("p",{className:"flex text-rose-500 justify-center",children:t.approval}):Object(k.jsx)("p",{className:"flex text-emerald-500 justify-center",children:t.approval})})]},t._id)}))})]})}):Object(k.jsx)("div",{className:"mt-5 flex justify-center text-zinc-400 text-xl",children:Object(k.jsx)("h1",{children:"No Forms Found"})})})]})}var zc=s(464),Dc=s(455),Ac=s(240),Mc=s.n(Ac),Ec=s(239),Ic=s.n(Ec);function Tc(e){var t=e.forms,s=e.handleApproval,c=e.open,a=e.setOpen,n=e.searchTerm;function r(e){return""===n?e:e.filter((function(e){return e.user.personalInfo.firstName.toLowerCase().includes(n.toLowerCase())||e.user.personalInfo.lastName.toLowerCase().includes(n.toLowerCase())||e.courseName.toLowerCase().includes(n.toLowerCase())||e.coursePrice.toLowerCase().includes(n.toLowerCase())||e.end.toLowerCase().includes(n.toLowerCase())||e.start.toLowerCase().includes(n.toLowerCase())?e:void 0}))}return Object(k.jsx)(_s.a,{children:r(t).length>0?Object(k.jsx)(fc.a,{sx:{marginTop:2},component:vc.a,children:Object(k.jsxs)(gc.a,{sx:{minWidth:650},"aria-label":"ScfTable",children:[Object(k.jsx)(Nc.a,{children:Object(k.jsxs)(wc.a,{children:[Object(k.jsx)(yc.a,{}),Object(k.jsx)(yc.a,{align:"left",children:"Date of submitted"}),Object(k.jsx)(yc.a,{align:"left",children:"User"}),Object(k.jsx)(yc.a,{align:"left",children:"Course Name"}),Object(k.jsx)(yc.a,{align:"left",children:"Cost of Course"}),Object(k.jsx)(yc.a,{align:"left",children:"Course Start Date"}),Object(k.jsx)(yc.a,{align:"left",children:"Course End Date"}),Object(k.jsx)(yc.a,{align:"left",children:"Course Link"}),Object(k.jsx)(yc.a,{align:"center",children:"Approval"})]})}),Object(k.jsx)(kc.a,{children:r(t).map((function(e){return Object(k.jsxs)(k.Fragment,{children:[Object(k.jsxs)(wc.a,{sx:{borderBottom:"unset"},children:[Object(k.jsx)(yc.a,{children:Object(k.jsx)(zc.a,{"aria-label":"expand",size:"small",onClick:function(){return a(!c)},children:c?Object(k.jsx)(Ic.a,{}):Object(k.jsx)(Mc.a,{})})}),Object(k.jsx)(yc.a,{children:new Date(e.created).toDateString()}),Object(k.jsx)(yc.a,{children:e.user}),Object(k.jsx)(yc.a,{children:e.courseName.length>15?e.courseName.substring(0,15).concat("..."):e.courseName}),Object(k.jsxs)(yc.a,{children:["R ",e.coursePrice]}),Object(k.jsx)(yc.a,{children:new Date(e.start).toDateString()}),Object(k.jsx)(yc.a,{children:new Date(e.end).toDateString()}),Object(k.jsx)(yc.a,{children:Object(k.jsx)("a",{href:e.link,target:"_blank",className:"text-sky-500",children:e.link.length>15?e.link.substring(0,15).concat("..."):e.link})}),Object(k.jsx)(yc.a,{children:"pending"===e.approval?Object(k.jsxs)("div",{className:"flex justify-between",children:[Object(k.jsx)("button",{id:e._id,className:"mt-3 btn bg-emerald-500 hover:bg-emerald-600 text-white mr-3",onClick:function(e){return s(e,"Scf","approved")},children:"Approve"}),Object(k.jsx)("button",{id:e._id,className:"mt-3 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:function(e){return s(e,"Scf","declined")},children:"Decline"})]}):"declined"===e.approval?Object(k.jsx)("p",{className:"flex text-rose-500 justify-center",children:e.approval}):Object(k.jsx)("p",{className:"flex text-emerald-500 justify-center",children:e.approval})})]}),Object(k.jsx)(wc.a,{children:Object(k.jsx)(yc.a,{style:{paddingBottom:0,paddingTop:0},colSpan:10,children:Object(k.jsxs)(Dc.a,{in:c,timeout:"auto",unmountOnExit:!0,children:[Object(k.jsx)(It.a,{children:Object(k.jsx)(Ws.a,{variant:"h6",gutterBottom:!0,component:"div",children:"More Information"})}),Object(k.jsxs)(gc.a,{size:"small","aria-label":"extraInfo",children:[Object(k.jsx)(Nc.a,{children:Object(k.jsxs)(wc.a,{children:[Object(k.jsx)(yc.a,{children:"Course Description"}),Object(k.jsx)(yc.a,{children:"Personally Identified"}),Object(k.jsx)(yc.a,{children:"Motivation"})]})}),Object(k.jsx)(kc.a,{children:Object(k.jsxs)(wc.a,{children:[Object(k.jsx)(yc.a,{children:e.courseDesc.length>15?e.courseDesc.substring(0,15).concat("..."):e.courseDesc}),Object(k.jsx)(yc.a,{children:e.isPersonal}),Object(k.jsx)(yc.a,{children:""!==e.motivation?e.motivation.length>15?e.motivation.substring(0,15).concat("..."):e.motivation:"No Motivation Provided"})]})})]})]})})})]})}))})]})}):Object(k.jsx)("div",{className:"mt-5 flex justify-center text-zinc-400 text-xl",children:Object(k.jsx)("h1",{children:"No Forms Found"})})})}var Lc=s(103);function Pc(e){var t=e.attendances;return Object(k.jsx)(_s.a,{children:Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(fc.a,{component:vc.a,className:"mt-5",children:Object(k.jsxs)(gc.a,{sx:{minWidth:650},"aria-label":"SfTable",children:[Object(k.jsx)(Nc.a,{children:Object(k.jsxs)(wc.a,{children:[Object(k.jsx)(yc.a,{align:"center",children:"Date of Training"}),Object(k.jsx)(yc.a,{align:"left",children:"Training Description"}),Object(k.jsx)(yc.a,{align:"center",children:"Start"}),Object(k.jsx)(yc.a,{align:"center",children:"To CSV"})]})}),Object(k.jsx)(kc.a,{children:t.map((function(e){return Object(k.jsxs)(wc.a,{sx:{"&:last-child td, &:last-child th":{border:0}},children:[Object(k.jsx)(yc.a,{align:"center",children:new Date(e.date).toLocaleDateString()}),Object(k.jsx)(yc.a,{align:"left",children:e.desc}),Object(k.jsx)(yc.a,{align:"center",children:new Date(e.date).toDateString()}),Object(k.jsx)(yc.a,{align:"center",children:e.register&&e.register.length>0?Object(k.jsx)(Lc.CSVLink,{className:"mr-3 btn-sm bg-rose-500 hover:bg-rose-600 text-white",data:e.register,filename:"".concat(e.desc,"_").concat(new Date(e.date).toDateString(),".csv"),children:"Download"}):"No Attendance Available For Download"})]},e._id)}))})]})})})})}var Fc=["children","value","index"],Bc=Object(At.a)({palette:{primary:{light:"#757ce8",main:"#f33f5f",dark:"#ad2d44",contrastText:"#fff"},secondary:{light:"#ff7961",main:"#f44336",dark:"#ba000d",contrastText:"#000"}}}),Rc=Object(is.a)(Mt.a)({"& .MuiTabs-indicator":{backgroundColor:"#f33f5f"}}),Hc=Object(is.a)((function(e){return Object(k.jsx)(Et.a,Object(o.a)({disableRipple:!0},e))}))((function(e){var t,s=e.theme;return t={textTransform:"none",minWidth:0},Object(Y.a)(t,s.breakpoints.up("sm"),{minWidth:0}),Object(Y.a)(t,"fontWeight",s.typography.fontWeightRegular),Object(Y.a)(t,"marginRight",s.spacing(1)),Object(Y.a)(t,"color","text-zinc-500"),Object(Y.a)(t,"&:hover",{color:"#f26680",opacity:1}),Object(Y.a)(t,"&.Mui-selected",{color:"#f33f5f",fontWeight:s.typography.fontWeightMedium}),Object(Y.a)(t,"&.Mui-focusVisible",{backgroundColor:"#d1eaff"}),t}));function Yc(e){var t=e.children,s=e.value,c=e.index,a=Object(be.a)(e,Fc);return Object(k.jsx)("div",Object(o.a)(Object(o.a)({role:"tabpanel",hidden:s!==c,id:"simple-tabpanel-".concat(c),"aria-labelledby":"simple-tab-".concat(c)},a),{},{children:s===c&&Object(k.jsx)(It.a,{children:t})}))}function Uc(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var _c=function(){var e=new Date,t=Object(c.useState)(!1),s=Object(i.a)(t,2),n=s[0],r=s[1],l=Object(c.useState)(!1),d=Object(i.a)(l,2),j=d[0],b=d[1],x=Object(c.useState)(!1),h=Object(i.a)(x,2),p=h[0],O=h[1],f=Object(c.useState)(!1),v=Object(i.a)(f,2),N=v[0],w=v[1],S=Object(c.useState)("all"),C=Object(i.a)(S,2),z=C[0],D=C[1],M=Object(c.useState)({Ta:{pending:[],approved:[],declined:[],all:[]},Scf:{pending:[],approved:[],declined:[],all:[]},Er:{pending:[],approved:[],declined:[],all:[]}}),E=Object(i.a)(M,2),I=E[0],T=E[1],L=Object(c.useState)([]),P=Object(i.a)(L,2),F=P[0],B=P[1],R=Object(c.useState)([]),H=Object(i.a)(R,2),Y=H[0],U=H[1],_=Object(c.useState)([]),q=Object(i.a)(_,2),V=q[0],W=q[1],G=Object(c.useState)(""),J=Object(i.a)(G,2),K=J[0],X=J[1],Z=Object(c.useState)(0),Q=Object(i.a)(Z,2),$=Q[0],ee=Q[1],te=Object(c.useState)([]),se=Object(i.a)(te,2),ce=se[0],ae=se[1],ne=a.a.useContext(Jc).dispatch,re=function(){var e=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=localStorage.getItem("auth-token"),Object(A.isJwtExpired)(t)&&(localStorage.setItem("auth-token",null),ne({type:"LOGOUT"}),navigateTo("/signin"));case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function le(){return ie.apply(this,arguments)}function ie(){return(ie=Object(u.a)(Object(m.a)().mark((function e(){var t,s,c,a;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r(!0),re(),e.next=5,y.get(g.default.path.formSubmissions.getSfForms);case 5:return t=e.sent,ae(t),e.next=9,y.get(g.default.path.formSubmissions.getTaForms);case 9:return s=e.sent,console.log(s.all.sort(je)),B(s.all.sort(je)),e.next=14,y.get(g.default.path.formSubmissions.getErForms);case 14:return c=e.sent,W(c.all.sort(je)),console.log(c.all),e.next=19,y.get(g.default.path.formSubmissions.getScfForms);case 19:a=e.sent,U(a.all.sort(je)),T({Ta:{pending:s.pending,approved:s.approved,declined:s.declined,all:s.all},Scf:{pending:a.pending,approved:a.approved,declined:a.declined,all:a.all},Er:{pending:c.pending,approved:c.approved,declined:c.declined,all:c.all}}),r(!1),e.next=30;break;case 25:e.prev=25,e.t0=e.catch(0),r(!1),w(e.t0.message),O(!0);case 30:case"end":return e.stop()}}),e,null,[[0,25]])})))).apply(this,arguments)}function oe(e,t,s){return de.apply(this,arguments)}function de(){return(de=Object(u.a)(Object(m.a)().mark((function e(t,s,c){var a,n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("Ta"!==s){e.next=14;break}return n={approval:c},e.next=4,y.patch("".concat(g.default.path.formSubmissions.updateTaForm,"/").concat(t.target.id),n,!0);case 4:if(!(a=e.sent).err){e.next=10;break}O(!0),w(a.message),e.next=12;break;case 10:return e.next=12,le();case 12:case 26:e.next=39;break;case 14:if("Scf"!==s){e.next=28;break}return n={approval:c},e.next=18,y.patch("".concat(g.default.path.formSubmissions.updateScfForm,"/").concat(t.target.id),n,!0);case 18:if(!(a=e.sent).err){e.next=24;break}O(!0),w(a.message),e.next=26;break;case 24:return e.next=26,le();case 28:return n={approval:c},e.next=31,y.patch("".concat(g.default.path.formSubmissions.updateErForm,"/").concat(t.target.id),n,!0);case 31:if(!(a=e.sent).err){e.next=37;break}O(!0),w(a.message),e.next=39;break;case 37:return e.next=39,le();case 39:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function je(e,t){var s=new Date(e.created).setHours(0,0,0,0,0),c=new Date(t.created).setHours(0,0,0,0,0);return s<c?-1:s>c?1:0}return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le();case 2:case"end":return e.stop()}}),e)}))),[y]),Object(k.jsx)("div",{className:"relative mb-6",children:n?Object(k.jsx)(Ee,{}):Object(k.jsxs)("div",{children:[Object(k.jsx)(Xe,{id:"error-modal",modalOpen:p,setModalOpen:O,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Error: ",N]})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return O(!1)},children:"Okay"})})]})]})}),Object(k.jsxs)(It.a,{className:"sm:flex sm:justify-between sm:items-center mb-1",children:[Object(k.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 mb-4 sm:mb-0",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Form Submissions"})}),Object(k.jsxs)("div",{className:"flex justify-end mr-3",children:[0===$?Object(k.jsx)(k.Fragment,{children:V.length>0&&Object(k.jsx)(Lc.CSVLink,{className:"mr-3 btn-sm bg-rose-500 hover:bg-rose-600 text-white",data:V,filename:"Expense_Reimbursement_".concat(z,"_").concat(e.getDate(),"_").concat(e.getMonth()+1,"_").concat(e.getFullYear(),".csv"),children:"Export to CSV"})}):1===$?Object(k.jsx)(k.Fragment,{children:Y.length>0&&Object(k.jsx)(Lc.CSVLink,{className:"mr-3 btn-sm bg-rose-500 hover:bg-rose-600 text-white",data:Y,filename:"Study_Cost_Funding_".concat(z,"_").concat(e.getDate(),"_").concat(e.getMonth()+1,"_").concat(e.getFullYear(),".csv"),children:"Export to CSV"})}):2===$?Object(k.jsx)(k.Fragment,{children:F.length>0&&Object(k.jsx)(Lc.CSVLink,{className:"mr-3 btn-sm bg-rose-500 hover:bg-rose-600 text-white",data:F,filename:"Travel_Allowance_".concat(z,"_").concat(e.getDate(),"_").concat(e.getMonth()+1,"_").concat(e.getFullYear(),".csv"),children:"Export to CSV"})}):"",$<=2?Object(k.jsxs)("select",{className:"form-select mr-3",value:z,onChange:function(e){0===$?"pending"===e.target.value?(D(e.target.value),W(I.Er.pending)):"approved"===e.target.value?(D(e.target.value),W(I.Er.approved)):"declined"===e.target.value?(D(e.target.value),W(I.Er.declined)):(D(e.target.value),W(I.Er.all)):1===$?"pending"===e.target.value?(D(e.target.value),U(I.Scf.pending)):"approved"===e.target.value?(D(e.target.value),U(I.Scf.approved)):"declined"===e.target.value?(D(e.target.value),W(I.Scf.declined)):(D(e.target.value),W(I.Scf.all)):"pending"===e.target.value?(D(e.target.value),B(I.Ta.pending)):"approved"===e.target.value?(D(e.target.value),B(I.Ta.approved)):"declined"===e.target.value?(D(e.target.value),B(I.Ta.declined)):(D(e.target.value),B(I.Ta.all))},children:[Object(k.jsx)("option",{value:"all",children:"All"}),Object(k.jsx)("option",{value:"pending",children:"Pending"}),Object(k.jsx)("option",{value:"approved",children:"Approved"}),Object(k.jsx)("option",{value:"declined",children:"Declined"})]}):"",Object(k.jsx)(Te,{placeholder:"Search\u2026",setSearchTerm:X})]})]}),Object(k.jsxs)("div",{className:"relative",children:[Object(k.jsx)(It.a,{className:"flex flex-wrap",sx:{borderBottom:1,borderColor:"divider"},children:Object(k.jsx)(Tt.a,{theme:Bc,children:Object(k.jsxs)(Rc,{value:$,onChange:function(e,t){"pending"===z?(B(I.Ta.pending),U(I.Scf.pending),W(I.Er.pending)):"approved"===z?(B(I.Ta.approved),U(I.Scf.approved),W(I.Er.approved)):"declined"===z?(B(I.Ta.declined),U(I.Scf.declined),W(I.Er.declined)):(B(I.Ta.all),U(I.Scf.all),W(I.Er.all)),ee(t)},textColor:"primary",indicatorColor:"primary",variant:"fullWidth",children:[Object(k.jsx)(Hc,Object(o.a)({className:"pl-2",label:"Expense Reimbursement"},Uc(0))),Object(k.jsx)(Hc,Object(o.a)({label:"Study Cost Funding"},Uc(1))),Object(k.jsx)(Hc,Object(o.a)({label:"Travel Allowance"},Uc(2))),Object(k.jsx)(Hc,Object(o.a)({label:"Skills Friday"},Uc(3)))]})})}),Object(k.jsx)(Yc,{value:$,index:0,children:V.length>0?Object(k.jsx)(Cc,{forms:V,searchTerm:K,handleApproval:oe,loading:n,setLoading:r}):Object(k.jsx)("div",{className:"mt-5 flex justify-center text-zinc-400 text-xl",children:Object(k.jsx)("h1",{children:"No Forms Found"})})}),Object(k.jsx)(Yc,{value:$,index:1,children:Y.length>0?Object(k.jsx)(Tc,{forms:Y,searchTerm:K,open:j,setOpen:b,handleApproval:oe}):Object(k.jsx)("div",{className:"mt-5 flex justify-center text-zinc-400 text-xl",children:Object(k.jsx)("h1",{children:"No Forms Found"})})}),Object(k.jsx)(Yc,{value:$,index:2,children:F.length>0?Object(k.jsx)(Sc,{forms:F,searchTerm:K,handleApproval:oe}):Object(k.jsx)("div",{className:"mt-5 flex justify-center text-zinc-400 text-xl",children:Object(k.jsx)("h1",{children:"No Forms Found"})})}),Object(k.jsx)(Yc,{value:$,index:3,children:ce.length>0?Object(k.jsx)(Pc,{attendances:ce}):Object(k.jsx)("div",{className:"mt-5 flex justify-center text-zinc-400 text-xl",children:Object(k.jsx)("h1",{children:"No Training"})})})]})]})})};function qc(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),s=t[0],n=t[1],r=Object(c.useState)(!1),o=Object(i.a)(r,2),d=o[0],j=o[1],b=Object(c.useState)(!1),x=Object(i.a)(b,2),h=x[0],p=(x[1],Object(c.useState)("")),O=Object(i.a)(p,2),f=O[0],v=O[1],N=(new Date).toISOString().substring(0,10),w=Object(c.useState)(0),S=Object(i.a)(w,2),C=S[0],z=S[1],D=Object(c.useState)(0),A=Object(i.a)(D,2),M=A[0],E=A[1],I=Object(c.useState)(""),T=Object(i.a)(I,2),L=T[0],P=T[1],F=Object(c.useState)(N),B=Object(i.a)(F,2),R=B[0],H=B[1],Y=Object(c.useState)([{id:C,header:"",changes:[{id:"".concat(M," ").concat(C),message:""}]}]),U=Object(i.a)(Y,2),_=U[0],q=U[1];function V(e){var t=Object(je.a)(_);t[_.findIndex((function(t){return t.id===parseInt(e.target.id)}))].header=e.target.value,q(t)}function W(e){var t=e.target.id,s=parseInt(t.substring(t.lastIndexOf(" ")+1,t.length)),c=_.findIndex((function(e){return e.id===s})),a=_[c].changes.findIndex((function(e){return e.id===t.toString()})),n=Object(je.a)(_);n[c].changes[a].message=e.target.value,q(n)}function G(){var e=Object(je.a)(_);z(C+1),E(M+1),e.push({id:C+1,header:"",changes:[{id:"".concat(M+1," ").concat(C+1),message:""}]}),q(e)}function J(e){var t=e.currentTarget.id,s=Object(je.a)(_),c=parseInt(t.substring(t.lastIndexOf(" ")+1,t.length));E(M+1);var a=_.findIndex((function(e){return e.id===c}));s[a].changes.push({id:"".concat(M+1," ").concat(s[a].id),message:""}),q(s)}function K(e){var t=parseInt(e.currentTarget.id);if(1!==_.length){var s=Object(je.a)(_);s=s.filter((function(e){return e.id!==t})),q(s)}}function X(e){var t=e.currentTarget.id,s=parseInt(t.substring(t.lastIndexOf(" ")+1,t.length)),c=parseInt(t.substring(0,t.lastIndexOf(" "))),a=_.findIndex((function(e){return e.id===s})),n=_[a].changes.findIndex((function(e){return e.id===c}));if(1!==_[a].changes.length){var r=Object(je.a)(_);r[a].changes.splice(r[a].changes[n],1),q(r)}}function Z(){return(Z=Object(u.a)(Object(m.a)().mark((function e(){var t,s;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={version:L,releaseDate:new Date(R),data:_},e.next=3,y.post(g.default.path.patchNotes.addPatch,t,!0);case 3:(s=e.sent).err?(n(!0),v("Error: Internal Server Error. Please Try Again")):(j(!0),v(s));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(k.jsx)("div",{children:h?Object(k.jsx)(Ee,{}):Object(k.jsxs)("div",{children:[Object(k.jsx)(Xe,{id:"error-modal",modalOpen:s,setModalOpen:n,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:f})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return n(!1)},children:"Okay"})})]})]})}),Object(k.jsx)(Xe,{id:"success-modal",modalOpen:d,setModalOpen:j,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:f})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)(l.c,{end:!0,to:"/patchNotes/".concat(L),className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",children:"Okay"})})]})]})}),Object(k.jsx)("div",{className:"px-2 sm:px-4 lg:px-8 py-4 mb-4 sm:mb-0",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"Add Patch Notes"})}),Object(k.jsx)("div",{className:"flex justify-center mt-5 w-full",children:Object(k.jsx)(Lt.a,{variant:"outlined",children:Object(k.jsxs)(Pt.a,{children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"mt-3 block text-sm font-medium mb-1",htmlFor:"version",children:"Version"}),Object(k.jsx)("div",{className:"flex items-stretch items-center",children:Object(k.jsx)("input",{type:"input",placeholder:"eg. 1.3.3",id:"releaseDate",className:"form-input w-1/2 px-2 py-0.5",onChange:function(e){P(e.target.value)}})}),Object(k.jsx)("label",{className:"mt-3 block text-sm font-medium mb-1",htmlFor:"releaseDate",children:"Release Date"}),Object(k.jsx)("div",{className:"flex items-stretch items-center",children:Object(k.jsx)("input",{type:"date",min:R,id:"releaseDate",className:"form-input w-1/2 px-2 py-0.5",onChange:function(e){H(e.target.value)}})})]}),_.map((function(e){return Object(k.jsxs)("div",{className:"grid grid-cols-2 gap-4 items-center",children:[Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"mt-3 block text-sm font-medium mb-1",htmlFor:"header",children:"Header"}),Object(k.jsxs)("div",{className:"flex items-stretch items-center",children:[Object(k.jsx)("input",{type:"input",id:e.id,placeholder:"eg. Dashboard",name:"header",className:"form-input w-full px-2 py-0.5",onChange:V}),Object(k.jsx)("div",{className:"shrink items-center ml-2",children:Object(k.jsx)("button",{className:"p-1 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:G,children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-white",viewBox:"0 0 24 24","fill-rule":"evenodd","clip-rule":"evenodd",children:Object(k.jsx)("path",{d:"M11.5 0c6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5-11.5-5.153-11.5-11.5 5.153-11.5 11.5-11.5zm0 1c5.795 0 10.5 4.705 10.5 10.5s-4.705 10.5-10.5 10.5-10.5-4.705-10.5-10.5 4.705-10.5 10.5-10.5zm.5 10h6v1h-6v6h-1v-6h-6v-1h6v-6h1v6z"})})})}),Object(k.jsx)("div",{className:"shrink items-center ml-2",children:Object(k.jsx)("button",{id:e.id,className:"p-1 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:K,disabled:1===_.length,children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-white",viewBox:"0 0 24 24","fill-rule":"evenodd","clip-rule":"evenodd",children:Object(k.jsx)("path",{d:"M11.5 0c6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5-11.5-5.153-11.5-11.5 5.153-11.5 11.5-11.5zm0 1c5.795 0 10.5 4.705 10.5 10.5s-4.705 10.5-10.5 10.5-10.5-4.705-10.5-10.5 4.705-10.5 10.5-10.5zm-6.5 10h13v1h-13v-1z"})})})})]})]}),Object(k.jsx)("div",{className:"grid grid-cols-2 gap-4",children:e.changes.map((function(e){return Object(k.jsx)(a.a.Fragment,{children:Object(k.jsxs)("div",{children:[Object(k.jsx)("label",{className:"mt-3 block text-sm font-medium mb-1",htmlFor:"issue",children:"Change"}),Object(k.jsxs)("div",{className:"flex inline items-center",children:[Object(k.jsx)("textarea",{id:e.id,name:"review",placeholder:"eg. Fixed something",className:"form-input w-full px-2 py-0.5 mt-2",onChange:W}),Object(k.jsx)("div",{className:"shrink items-center ml-2",children:Object(k.jsx)("button",{id:e.id,className:"p-1 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:J,children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-white",viewBox:"0 0 24 24","fill-rule":"evenodd","clip-rule":"evenodd",children:Object(k.jsx)("path",{d:"M11.5 0c6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5-11.5-5.153-11.5-11.5 5.153-11.5 11.5-11.5zm0 1c5.795 0 10.5 4.705 10.5 10.5s-4.705 10.5-10.5 10.5-10.5-4.705-10.5-10.5 4.705-10.5 10.5-10.5zm.5 10h6v1h-6v6h-1v-6h-6v-1h6v-6h1v6z"})})})}),Object(k.jsx)("div",{className:"shrink items-center ml-2",children:Object(k.jsx)("button",{id:e.id,className:"p-1 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:X,children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-white",viewBox:"0 0 24 24","fill-rule":"evenodd","clip-rule":"evenodd",children:Object(k.jsx)("path",{d:"M11.5 0c6.347 0 11.5 5.153 11.5 11.5s-5.153 11.5-11.5 11.5-11.5-5.153-11.5-11.5 5.153-11.5 11.5-11.5zm0 1c5.795 0 10.5 4.705 10.5 10.5s-4.705 10.5-10.5 10.5-10.5-4.705-10.5-10.5 4.705-10.5 10.5-10.5zm-6.5 10h13v1h-13v-1z"})})})})]})]})})}))})]},e.id)})),Object(k.jsx)("div",{className:"mt-2",children:Object(k.jsx)("button",{className:"p-1 btn bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){var e=!0;return L?R?(_.forEach((function(t){if(!t.header||t.header.length<5)return n(!0),v('Validation Error: Patch header id: "'.concat(t.id,'" is either empty or invalid.')),e=!1;e&&t.changes.forEach((function(s){if(!s.message||s.message.length<5)return n(!0),v("Validation Error: Change under ".concat(t.header," is either empty or invalid.")),e=!1}))})),void(e&&function(){Z.apply(this,arguments)}())):(n(!0),void v("Validation Error: Date is required.")):(n(!0),void v("Validation Error: Version is empty."))},children:"Submit"})})]})})})]})})}function Vc(e){var t=e.users,s=e.searchItem,a=e.handleAction,n=e.setSearchItem,r=Object(c.useState)(!1),l=Object(i.a)(r,2),o=l[0],d=l[1],j=Object(c.useState)(!1),b=Object(i.a)(j,2),x=b[0],m=b[1],u=Object(c.useState)(!0),h=Object(i.a)(u,2),p=h[0],O=h[1],f=Object(c.useState)(!1),v=Object(i.a)(f,2),g=v[0],N=v[1],w=Object(c.useState)(""),y=Object(i.a)(w,2),S=y[0],C=y[1],z=Object(c.useState)(!1),D=Object(i.a)(z,2),A=D[0],M=D[1],E=Object(c.useState)(!1),I=Object(i.a)(E,2),T=I[0],L=I[1],P=Object(c.useState)(""),F=Object(i.a)(P,2),B=F[0],R=F[1],H=Object(c.useState)(""),Y=Object(i.a)(H,2),U=Y[0],_=Y[1],q=Object(c.useState)(""),V=Object(i.a)(q,2),G=V[0],J=V[1],K=Object(c.useState)(""),X=Object(i.a)(K,2),Z=X[0],Q=X[1],$=Object(c.useState)(null),ee=Object(i.a)($,2),te=ee[0],se=ee[1],ce=new Date,ae=Object(c.useState)("2022-09-08"),ne=Object(i.a)(ae,2),re=ne[0],le=ne[1],ie=Object(c.useState)(""),oe=Object(i.a)(ie,2),de=oe[0],je=oe[1],be=Object(c.useState)(""),xe=Object(i.a)(be,2),me=xe[0],ue=xe[1],he=Object(c.useState)(""),pe=Object(i.a)(he,2),Oe=pe[0],fe=pe[1];function ve(){n(""),d(!1),m(!1),M(!1),L(!1)}function ge(e,t){return e<t?-1:e>t?1:0}function Ne(e,t){"end"===t?ue(e.target.value):e.target.value>me?(je(e.target.value),ue(e.target.value)):je(e.target.value),"end"===t&&e.target.value===re||"start"===t&&e.target.value===te?O(!0):O(!1)}function we(e){return""===s?e:e.filter((function(e){return e.personalInfo.firstName.toLowerCase().includes(s.toLowerCase())||e.personalInfo.lastName.toLowerCase().includes(s.toLowerCase())?e:void 0}))}return Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)(_s.a,{children:[we(t).length>0?Object(k.jsx)(fc.a,{component:vc.a,children:Object(k.jsxs)(gc.a,{children:[Object(k.jsx)(Nc.a,{children:Object(k.jsxs)(wc.a,{children:[Object(k.jsx)(yc.a,{children:"First Name"}),Object(k.jsx)(yc.a,{children:"Last Name"}),Object(k.jsx)(yc.a,{children:"Job Title"}),Object(k.jsx)(yc.a,{children:"Contract Length"}),Object(k.jsx)(yc.a,{align:"center",children:"Action"})]})}),Object(k.jsx)(kc.a,{children:we(t).map((function(e){return Object(k.jsxs)(wc.a,{children:[Object(k.jsx)(yc.a,{children:e.personalInfo.firstName}),Object(k.jsx)(yc.a,{children:e.personalInfo.lastName}),"Director"!==e.personalInfo.title?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(yc.a,{children:e.personalInfo.title}),Object(k.jsx)(yc.a,{children:e.active?Object(k.jsx)(k.Fragment,{children:void 0!==e.start?ce<new Date(e.end)?Object(k.jsx)(k.Fragment,{children:Object(k.jsxs)("span",{className:"mr-3 p-2 rounded-full bg-emerald-100 text-emerald-500 font-bold",children:[ce.getFullYear()!==new Date(e.end).getFullYear()?parseInt(new Date(e.end).getFullYear()-ce.getFullYear())+"".concat(parseInt(new Date(e.end).getFullYear()-ce.getFullYear())>1?" Years Left":" Year Left"):""," ",ce.getFullYear()===new Date(e.end).getFullYear()?new Date(e.end).getMonth()-ce.getMonth()+" Months Left":""]})}):Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("span",{className:"mr-3 p-2 rounded-full bg-rose-100 text-rose-500 font-bold",children:"Contract Expired"})}):Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("span",{className:"mr-3 p-2 rounded-full bg-amber-100 text-amber-500 font-bold",children:"Contract Info Needed"})})}):Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("span",{className:"mr-3 p-2 rounded-full bg-amber-100 text-rose-500 font-bold",children:"Terminated"})})}),Object(k.jsx)(yc.a,{align:"center",children:e.active?Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)("button",{className:"mr-3 text-sky-500 hover:text-sky-700",id:e._id,onClick:function(e){return function(e){O(!0);var s=t.findIndex((function(t){return t._id===e})),c=t[s].personalInfo;R(e),se(t[s].start?t[s].start:ce.toISOString().substring(0,10)),je(t[s].start?t[s].start:ce.toISOString().substring(0,10)),le(t[s].end?t[s].end:ce.toISOString().substring(0,10)),ue(t[s].end?t[s].end:ce.toISOString().substring(0,10)),_(c.firstName),J(c.lastName),Q(c.title),fe(c.title),W.sort(ge),M(!0)}(e.target.id)},children:"Edit"}),"/",Object(k.jsx)("button",{className:"ml-3 text-rose-500 hover:text-rose-700",id:e._id,onClick:function(e){return function(e){var s=t.findIndex((function(t){return t._id===e})),c=t[s].personalInfo;R(e),_(c.firstName),J(c.lastName),Q(c.title),d(!0)}(e.target.id)},children:"Remove"})]}):Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("button",{className:"mr-3 text-emerald-500 hover:text-emerald-700",id:e._id,onClick:function(e){return function(e){var s=t.findIndex((function(t){return t._id===e})),c=t[s].personalInfo;R(e),_(c.firstName),J(c.lastName),Q(c.title),L(!0)}(e.target.id)},children:"Activate"})})})]}):Object(k.jsx)(k.Fragment,{children:Object(k.jsx)(yc.a,{children:e.personalInfo.title})})]},e._id)}))})]})}):Object(k.jsx)("div",{className:"flex text-zinc-300 justify-center",children:Object(k.jsx)(Ws.a,{variant:"h5",component:"h2",children:"No Results Found"})}),Object(k.jsx)(qt,{id:"ensure-modal",modalOpen:o,setModalOpen:d,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-amber-100",children:Object(k.jsxs)("svg",{className:"w-4 h-4 shrink-0 fill-current text-amber-500",viewBox:"0 0 16 16",children:[Object(k.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(k.jsx)("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Are you sure you want to remove ?"," "]}),Object(k.jsxs)("div",{className:"mt-3",children:[Object(k.jsxs)("div",{children:["1. First Name:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-amber-500",children:U})]}),Object(k.jsxs)("div",{children:["2. Last Name:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-amber-500",children:G})]}),Object(k.jsxs)("div",{children:["3. Job Title:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-amber-500",children:Z})]})]})]})}),Object(k.jsx)("div",{}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),d(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){ve(),a("remove",{id:B})},children:"Yes, Remove"})]})]})]})}),Object(k.jsx)(qt,{id:"edit-modal",modalOpen:A,setModalOpen:M,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-sky-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-sky-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zm1 12H7V7h2v5zM8 6c-.6 0-1-.4-1-1s.4-1 1-1 1 .4 1 1-.4 1-1 1z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Edit User:"," ",Object(k.jsx)("span",{className:"text-sky-500",children:U+" "+G})]}),Object(k.jsx)("div",{className:"mt-3",children:Object(k.jsxs)("div",{children:["Job Title:",Object(k.jsx)("div",{className:"font-semibold text-rose-600",children:Object(k.jsx)("select",{id:"title",value:Oe,className:"form-select w-full",onChange:function(e){fe(e.target.value),e.target.value===Z?O(!0):O(!1)},children:W.map((function(e){return Object(k.jsx)(k.Fragment,{children:Object(k.jsx)("option",{value:e,children:e})})}))})}),Object(k.jsxs)("div",{className:"block mt-1",children:["Start Date:",Object(k.jsx)("div",{className:"mb-2 font-semibold text-rose-600",children:Object(k.jsx)("input",{id:"title",type:"date",value:de,className:"form-select w-full",onChange:function(e){return Ne(e,"start")}})}),"End Date:",Object(k.jsx)("div",{className:"font-semibold text-rose-600",children:Object(k.jsx)("input",{id:"title",type:"date",value:me,min:de,className:"form-select w-full",onChange:function(e){return Ne(e,"end")}})})]})]})})]})}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(){return M(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm text-white ".concat(p?"bg-zinc-400 hover:bg-zinc-500":"bg-rose-500 hover:bg-rose-600"),onClick:function(){de?me?m(!0):(N(!0),C("Contract End Date is required.")):(N(!0),C("Contract Start Date is required."))},disabled:p,children:"Save Changes"})]})]})]})}),Object(k.jsx)(qt,{id:"ensure",modalOpen:x,setModalOpen:m,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-amber-100",children:Object(k.jsxs)("svg",{className:"w-4 h-4 shrink-0 fill-current text-amber-500",viewBox:"0 0 16 16",children:[Object(k.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(k.jsx)("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]})}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"mb-5",children:[Object(k.jsxs)("div",{className:"mb-2 text-lg font-semibold text-zinc-800",children:["Are you sure about these changes for"," ",Object(k.jsx)("span",{className:"font-semibold text-sky-500",children:U})," ","?"]}),Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{children:["Title:",Object(k.jsx)("div",{className:"mb-2 font-semibold text-sky-500",children:Oe})]}),Object(k.jsxs)("div",{children:["Contract Start Date:",Object(k.jsx)("div",{className:"mb-2 font-semibold text-sky-500",children:de})]}),Object(k.jsxs)("div",{children:["Contract End Date:",Object(k.jsx)("div",{className:"mb-2 font-semibold text-sky-500",children:me})]})]})]}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),m(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm text-white bg-rose-500 hover:bg-rose-600",onClick:function(){ve(),a("edit",{_id:B,firstName:U,lastName:G,newTitle:Oe,oldTitle:Z,start:de,end:me})},disabled:p,children:"Yes, Save Changes"})]})]})]})}),Object(k.jsx)(qt,{id:"activate-modal",modalOpen:T,setModalOpen:L,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-amber-100",children:Object(k.jsxs)("svg",{className:"w-4 h-4 shrink-0 fill-current text-amber-500",viewBox:"0 0 16 16",children:[Object(k.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(k.jsx)("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{children:[Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Are you sure you want to reactivate this account ?"," "]}),Object(k.jsxs)("div",{className:"mt-3",children:[Object(k.jsxs)("div",{children:["1. First Name:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-amber-500",children:U})]}),Object(k.jsxs)("div",{children:["2. Last Name:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-amber-500",children:G})]}),Object(k.jsxs)("div",{children:["3. Job Title:",Object(k.jsx)("div",{className:"ml-5 font-semibold text-amber-500",children:Z})]})]})]})}),Object(k.jsx)("div",{}),Object(k.jsxs)("div",{className:"flex flex-wrap justify-end space-x-2",children:[Object(k.jsx)("button",{className:"btn-sm border-zinc-200 hover:border-zinc-300 text-zinc-600",onClick:function(e){e.stopPropagation(),d(!1)},children:"Cancel"}),Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){ve(),a("activate",{_id:B,firstName:U,lastName:G,title:Oe,start:de,end:me})},children:"Yes, Reactivate"})]})]})]})}),Object(k.jsx)(qt,{id:"error-modal",modalOpen:g,setModalOpen:N,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-red-100",children:Object(k.jsxs)("svg",{className:"w-4 h-4 shrink-0 fill-current text-red-500",viewBox:"0 0 16 16",children:[Object(k.jsx)("path",{d:"M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"}),Object(k.jsx)("path",{d:"M7.002 11a1 1 0 1 1 2 0 1 1 0 0 1-2 0zM7.1 4.995a.905.905 0 1 1 1.8 0l-.35 3.507a.552.552 0 0 1-1.1 0L7.1 4.995z"})]})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:S})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return N(!1)},children:"Okay"})})]})]})})]})})}function Wc(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),s=t[0],a=t[1],n=Object(c.useState)(!1),r=Object(i.a)(n,2),l=(r[0],r[1]),o=Object(c.useState)(!1),d=Object(i.a)(o,2),j=d[0],b=d[1],x=Object(c.useState)(!1),h=Object(i.a)(x,2),p=h[0],O=h[1],f=Object(c.useState)(""),v=Object(i.a)(f,2),N=v[0],w=v[1],S=Object(c.useState)("all"),C=Object(i.a)(S,2),z=C[0],D=C[1],A=Object(c.useState)(""),M=Object(i.a)(A,2),E=M[0],I=M[1],T=Object(c.useState)([]),L=Object(i.a)(T,2),P=L[0],F=L[1],B=Object(c.useState)({all:[],dtUsers:[],mcUsers:[],deUsers:[],naUsers:[]}),R=Object(i.a)(B,2),H=R[0],Y=R[1];function U(){D("all"),w(""),O(!1),b(!1)}function _(){return q.apply(this,arguments)}function q(){return(q=Object(u.a)(Object(m.a)().mark((function e(){var t;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a(!0),e.next=3,y.get(g.default.path.users.getAllUserTypes);case 3:(t=e.sent).err&&(b(!0),w(t.message)),console.log(t),F(t.all),U(),Y({all:t.all,dtUsers:t.dt,mcUsers:t.mc,deUsers:t.de,naUsers:t.na}),l(!0),a(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function V(){return(V=Object(u.a)(Object(m.a)().mark((function e(t,s){var c,a,n;return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("remove"!==t){e.next=19;break}return e.prev=1,e.next=4,y.post("".concat(g.default.path.userManagement.softDeleteUser,"/").concat(s.id),{},!0);case 4:if(!(c=e.sent).err){e.next=9;break}return b(!0),w(c.message),e.abrupt("return");case 9:O(!0),w(c),e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),b(!0),w(e.t0.message);case 17:e.next=54;break;case 19:if("edit"!==t){e.next=38;break}return e.prev=20,e.next=23,y.post(g.default.path.userManagement.updateUser,s,!0);case 23:if(!(a=e.sent).err){e.next=28;break}return b(!0),w(a.message),e.abrupt("return");case 28:O(!0),w(a),e.next=36;break;case 32:e.prev=32,e.t1=e.catch(20),b(!0),w(e.t1.message);case 36:e.next=54;break;case 38:return e.prev=38,e.next=41,y.post(g.default.path.userManagement.reactivateUser,s,!0);case 41:if(!(n=e.sent).err){e.next=46;break}return b(!0),w(n.message),e.abrupt("return");case 46:O(!0),w(n),e.next=54;break;case 50:e.prev=50,e.t2=e.catch(38),b(!0),w(e.t2.message);case 54:case"end":return e.stop()}}),e,null,[[1,13],[20,32],[38,50]])})))).apply(this,arguments)}return Object(c.useEffect)(Object(u.a)(Object(m.a)().mark((function e(){return Object(m.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{_()}catch(t){l(!1),b(!0),w(t.message)}case 1:case"end":return e.stop()}}),e)}))),[y]),Object(k.jsx)("div",{children:s?Object(k.jsx)(Ee,{}):Object(k.jsxs)("div",{children:[Object(k.jsxs)(It.a,{className:"sm:flex sm:justify-between sm:items-center mb-1",children:[Object(k.jsx)("div",{className:"px-4 sm:px-6 lg:px-8 py-8 mb-4 sm:mb-0",children:Object(k.jsx)("h1",{className:"text-2xl md:text-3xl text-slate-800 font-bold",children:"User Management"})}),Object(k.jsxs)("div",{className:"flex justify-end mr-3",children:[Object(k.jsxs)("select",{className:"form-select mr-3",value:z,onChange:function(e){var t=e.target.value;"all"===t?(F(H.all),D(t)):"dt"===t?(F(H.dtUsers),D(t)):"mc"===t?(F(H.mcUsers),D(t)):"de"===t?(F(H.deUsers),D(t)):(F(H.naUsers),D(t))},children:[Object(k.jsx)("option",{value:"all",children:"All"}),Object(k.jsx)("option",{value:"dt",children:"Disruptive Technology"}),Object(k.jsx)("option",{value:"mc",children:"Management Consulting"}),Object(k.jsx)("option",{value:"de",children:"Data Engineering"}),Object(k.jsx)("option",{value:"na",children:"Deactivated"})]}),Object(k.jsx)(Te,{placeholder:"Search\u2026",setSearchTerm:I})]})]}),Object(k.jsx)("div",{children:P?Object(k.jsx)(Vc,{users:P,searchItem:E,handleAction:function(e,t){return V.apply(this,arguments)},setSearchItem:I}):"We need to hire more people..."}),Object(k.jsx)(Xe,{id:"error-modal",modalOpen:j,setModalOpen:b,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsxs)("div",{className:"text-lg font-semibold text-zinc-800",children:["Error: ",N]})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:function(){return b(!1)},children:"Okay"})})]})]})}),Object(k.jsx)(Xe,{id:"success-modal",modalOpen:p,setModalOpen:O,children:Object(k.jsxs)("div",{className:"p-5 flex space-x-4",children:[Object(k.jsx)("div",{className:"w-10 h-10 rounded-full flex items-center justify-center shrink-0 bg-emerald-100",children:Object(k.jsx)("svg",{className:"w-4 h-4 shrink-0 fill-current text-emerald-500",viewBox:"0 0 16 16",children:Object(k.jsx)("path",{d:"M8 0C3.6 0 0 3.6 0 8s3.6 8 8 8 8-3.6 8-8-3.6-8-8-8zM7 11.4L3.6 8 5 6.6l2 2 4-4L12.4 6 7 11.4z"})})}),Object(k.jsxs)("div",{children:[Object(k.jsx)("div",{className:"mb-5",children:Object(k.jsx)("div",{className:"text-lg font-semibold text-zinc-800",children:N})}),Object(k.jsx)("div",{className:"flex flex-wrap justify-end space-x-2",children:Object(k.jsx)("button",{className:"btn-sm bg-rose-500 hover:bg-rose-600 text-white",onClick:_,children:"Okay"})})]})]})})]})})}var Gc=function(){D(),function(){var e=localStorage.getItem("microsoftToken")||null,t=localStorage.getItem("auth-token");console.log("token: ",e),console.log("authtoken: ",t),null===t&&(dispatch({type:"LOGOUT"}),navigateTo("/signin"))}();var e=Object(d.j)(),t=Object(c.useState)(!1),s=Object(i.a)(t,2),a=s[0],n=s[1];Object(c.useEffect)((function(){"valid"==localStorage.getItem("adminTag")&&n(!0),document.querySelector("html").style.scrollBehavior=""}),[e.pathname]);var r=Object(c.useState)(!0),l=Object(i.a)(r,2),o=l[0],j=l[1];return Object(k.jsxs)("div",{className:"flex h-screen overflow-hidden",children:[a?Object(k.jsx)(Ne,{sidebarOpen:o,setSidebarOpen:j}):Object(k.jsx)(de,{sidebarOpen:o,setSidebarOpen:j}),Object(k.jsxs)("div",{className:"relative flex flex-col flex-1 overflow-y-auto overflow-x-hidden",children:[Object(k.jsx)(ge,{sidebarOpen:o,setSidebarOpen:j,backbutton:e.pathname.split("/").length-1>1}),a?Object(k.jsxs)(d.c,{children:[Object(k.jsx)(d.a,{path:"/addPatch",element:Object(k.jsx)(qc,{})}),Object(k.jsx)(d.a,{path:"/patchNotes/:version",element:Object(k.jsx)(Xs,{})}),Object(k.jsx)(d.a,{exact:!0,path:"/analytics",element:Object(k.jsx)(Fe,{})}),Object(k.jsx)(d.a,{exact:!0,path:"/projects",element:Object(k.jsx)(Je,{})}),Object(k.jsx)(d.a,{exact:!0,path:"/managers",element:Object(k.jsx)(Ue,{})}),Object(k.jsx)(d.a,{path:"/dashboard",element:Object(k.jsx)(dc,{})}),Object(k.jsx)(d.a,{path:"/timesheet/:key",element:Object(k.jsx)(at,{})}),Object(k.jsx)(d.a,{path:"/clients/:clientID/projects/:key/:id",element:Object(k.jsx)(ot,{})}),Object(k.jsx)(d.a,{path:"/approve/:key/:id",element:Object(k.jsx)(xt,{})}),Object(k.jsx)(d.a,{path:"/clients/:key",element:Object(k.jsx)(pt,{})}),Object(k.jsx)(d.a,{path:"/clients/:key/projects",element:Object(k.jsx)(gt,{})}),Object(k.jsx)(d.a,{path:"/approve",element:Object(k.jsx)(wt,{})}),Object(k.jsx)(d.a,{path:"/timesheet",element:Object(k.jsx)(kt,{})}),Object(k.jsx)(d.a,{path:"/userManagement",element:Object(k.jsx)(Wc,{})}),Object(k.jsx)(d.a,{path:"/clients/:clientID/projects/:key",element:Object(k.jsx)(St,{})}),Object(k.jsx)(d.a,{path:"/approve/:key",element:Object(k.jsx)(Ct,{})}),Object(k.jsx)(d.a,{path:"/",element:Object(k.jsx)(Ns,{})}),Object(k.jsx)(d.a,{path:"/calendar",element:Object(k.jsx)(ws,{})}),Object(k.jsx)(d.a,{path:"/events",element:Object(k.jsx)(Ss,{})}),Object(k.jsx)(d.a,{path:"/leave",element:Object(k.jsx)(cs,{})}),Object(k.jsx)(d.a,{path:"/formSubmissions",element:Object(k.jsx)(_c,{})}),Object(k.jsx)(d.a,{path:"/leave/admin",element:Object(k.jsx)(zs,{})}),Object(k.jsx)(d.a,{path:"/leave/managers",element:Object(k.jsx)(Cs,{})}),Object(k.jsx)(d.a,{path:"/settings/account",element:Object(k.jsx)(Es,{})}),Object(k.jsx)(d.a,{path:"/settings/notifications",element:Object(k.jsx)(Ts,{})}),Object(k.jsx)(d.a,{path:"/settings/apps",element:Object(k.jsx)(Ps,{})}),Object(k.jsx)(d.a,{path:"/settings/plans",element:Object(k.jsx)(Bs,{})}),Object(k.jsx)(d.a,{path:"/settings/patchNotes",element:Object(k.jsx)(Hs,{})}),Object(k.jsx)(d.a,{path:"*",element:Object(k.jsx)(Us,{})})]}):Object(k.jsxs)(d.c,{children:[Object(k.jsx)(d.a,{path:"/patchNotes/:version",element:Object(k.jsx)(Xs,{})}),Object(k.jsx)(d.a,{exact:!0,path:"/dashboard",element:Object(k.jsx)(dc,{})}),Object(k.jsx)(d.a,{path:"/analytics",element:Object(k.jsx)(Fe,{})}),Object(k.jsx)(d.a,{path:"/projectanalytics",element:Object(k.jsx)(Je,{})}),Object(k.jsx)(d.a,{path:"/timesheet/:key",element:Object(k.jsx)(at,{})}),Object(k.jsx)(d.a,{path:"/clients/:clientID/projects/:key/:id",element:Object(k.jsx)(ot,{})}),Object(k.jsx)(d.a,{path:"/recruitment",element:Object(k.jsx)(Oc,{})}),Object(k.jsx)(d.a,{path:"/approve/:key/:id",element:Object(k.jsx)(xt,{})}),Object(k.jsx)(d.a,{path:"/clients/:key",element:Object(k.jsx)(pt,{})}),Object(k.jsx)(d.a,{path:"/approve",element:Object(k.jsx)(wt,{})}),Object(k.jsx)(d.a,{path:"/leave/managers",element:Object(k.jsx)(Cs,{})}),Object(k.jsx)(d.a,{path:"timesheet",element:Object(k.jsx)(kt,{})}),Object(k.jsx)(d.a,{path:"/clients/:clientID/projects/:key",element:Object(k.jsx)(St,{})}),Object(k.jsx)(d.a,{path:"/approve/:key",element:Object(k.jsx)(Ct,{})}),Object(k.jsx)(d.a,{exact:!0,path:"/",element:Object(k.jsx)(Ns,{})}),Object(k.jsx)(d.a,{path:"/calendar",element:Object(k.jsx)(ws,{})}),Object(k.jsx)(d.a,{path:"/settings/account",element:Object(k.jsx)(Es,{})}),Object(k.jsx)(d.a,{path:"/settings/notifications",element:Object(k.jsx)(Ts,{})}),Object(k.jsx)(d.a,{path:"/settings/apps",element:Object(k.jsx)(Ps,{})}),Object(k.jsx)(d.a,{path:"/settings/plans",element:Object(k.jsx)(Bs,{})}),Object(k.jsx)(d.a,{path:"/settings/patchNotes",element:Object(k.jsx)(Hs,{})}),Object(k.jsx)(d.a,{path:"*",element:Object(k.jsx)(Us,{})})]})]})]})},Jc=a.a.createContext(),Kc={isAuthenticated:!1,user:null,token:null},Xc=function(e,t){switch(t.type){case"LOGIN":return localStorage.setItem("user",t.payload.user),localStorage.setItem("microsoftToken",t.payload.token),Object(o.a)(Object(o.a)({},e),{},{isAuthenticated:!0,user:t.payload.user,token:t.payload.token});case"LOGOUT":return localStorage.clear(),Object(o.a)(Object(o.a)({},e),{},{isAuthenticated:!1,user:null});default:return e}};var Zc=function(){var e=Object(d.l)(),t=Object(d.j)(),s=Object(c.useReducer)(Xc,Kc),a=Object(i.a)(s,2),n=a[0],r=a[1],l=Object(c.useState)("react"),o=Object(i.a)(l,2);return o[0],o[1],Object(c.useEffect)((function(){var t=localStorage.getItem("user")||null,s=localStorage.getItem("microsoftToken")||null,c=localStorage.getItem("auth-token");console.log("token: ",s),console.log("authtoken: ",c),null===c&&(r({type:"LOGOUT"}),e("/signin")),t&&s&&!Object(A.isJwtExpired)(c)?r({type:"LOGIN",payload:{user:t,token:s}}):(r({type:"LOGOUT"}),e("/signin"))}),[localStorage.getItem("user")]),Object(c.useEffect)((function(){document.querySelector("html").style.scrollBehavior="auto",window.scroll({top:0}),document.querySelector("html").style.scrollBehavior=""}),[t.pathname]),Object(k.jsx)(Jc.Provider,{value:{state:n,dispatch:r},children:Object(k.jsx)(E,{children:Object(k.jsx)("div",{className:"App",children:n.isAuthenticated?Object(k.jsx)(Gc,{}):Object(k.jsx)(ie,{})})})})},Qc=s(432),$c=s(31),ea=new Qc.a(O),ta=ea.getAllAccounts();ta.length>0&&ea.setActiveAccount(ta[0]),ea.addEventCallback((function(e){if(e.eventType===$c.a.LOGIN_SUCCESS&&e.payload.account){var t=e.payload.account;ea.setActiveAccount(t)}e.eventType,$c.a.LOGIN_FAILURE})),r.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(l.a,{children:Object(k.jsx)(h.a,{instance:ea,children:Object(k.jsx)(Zc,{})})})}),document.getElementById("root"))}},[[378,1,2]]]);
//# sourceMappingURL=main.fcd7ad9c.chunk.js.map